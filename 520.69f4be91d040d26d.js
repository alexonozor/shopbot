"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[520],{9520:(S,d,a)=>{a.r(d),a.d(d,{MerchantModule:()=>$});var m=a(6814),h=a(1896),t=a(5879);let M=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-merchants"]],decls:1,vars:0,template:function(e,r){1&e&&t._UZ(0,"router-outlet")},dependencies:[h.lC]}),n})();var c=a(8337),p=a(3365),o=a(5313),f=a(6567),Z=a(9293),T=a(7700),g=a(2296),F=a(617),A=a(7988),N=a(9038);const U=function(n){return["../",n,"details"]};function D(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tr",9)(1,"th",10)(2,"div",11)(3,"div",12),t._uU(4),t.qZA(),t.TgZ(5,"div",13),t._uU(6),t.qZA()()(),t.TgZ(7,"td",14),t._uU(8),t.qZA(),t.TgZ(9,"td",14)(10,"button",15)(11,"mat-icon"),t._uU(12,"more_vert"),t.qZA()(),t.TgZ(13,"mat-menu",16,17),t.NdJ("click",function(l){return l.stopPropagation()}),t.TgZ(15,"button",18),t.NdJ("click",function(l){const v=t.CHM(e),G=v.$implicit,K=v.index;return t.oxw().deleteMerchant(G._id,K),t.KtG(l.stopPropagation())}),t.TgZ(16,"mat-icon"),t._uU(17,"delete"),t.qZA(),t._uU(18," Delete"),t.qZA(),t.TgZ(19,"button",19)(20,"mat-icon"),t._uU(21,"edit"),t.qZA(),t._uU(22," Edit "),t.qZA()()()()}if(2&n){const e=s.$implicit,r=t.MAs(14);t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Oqu(e.phoneNumber),t.xp6(2),t.hij(" ",e.email," "),t.xp6(2),t.Q6J("matMenuTriggerFor",r),t.xp6(9),t.Q6J("routerLink",t.VKq(5,U,e._id))}}const L=function(){return["../","new"]};let I=(()=>{class n{constructor(e,r,l){this.route=e,this.merchantService=r,this._matDialog=l,this.displayedColumns=["select","Name","phoneNumber","email","phoneNumber","createdAt","actions"],this.dataSource=new o.by([]),this.selection=new c.Ov(!0,[]),this.merchants=this.route.snapshot.data.merchants}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(f.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete merchants?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these merchants?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this.selection.selected.forEach((r,l)=>{this.dataSource.data.splice(l,1),this.dataSource=new o.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.merchantService.deleteMerchant(r._id).subscribe()})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteMerchant(e,r){this.confirmDialogRef=this._matDialog.open(f.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Merchant?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this merchant?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(l=>{l&&(this.dataSource.data.splice(r,1),this.dataSource=new o.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.merchantService.deleteMerchant(e).subscribe())})}message(e){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.gz),t.Y36(Z.S),t.Y36(T.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-merchant"]],viewQuery:function(e,r){if(1&e&&t.Gf(p.NW,5),2&e){let l;t.iGM(l=t.CRH())&&(r.paginator=l.first)}},decls:18,vars:3,consts:[[1,"h-screen","w-full"],["mat-subheader",""],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"px-6","py-3"],["class","bg-white border-b ",4,"ngFor","ngForOf"],["mat-fab","","color","primary",2,"position","fixed","bottom","80px","right","15px",3,"routerLink"],[1,"mat-18"],[1,"bg-white","border-b"],["scope","row",1,"flex","items-center","px-6","py-4","text-gray-900","whitespace-nowrap"],[1,"pl-3"],[1,"text-base","font-semibold"],[1,"font-normal","text-gray-500"],[1,"px-6","py-4"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"click"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Merchants"),t.qZA(),t.TgZ(3,"div",2)(4,"table",3)(5,"thead",4)(6,"tr")(7,"th",5),t._uU(8," Name "),t.qZA(),t.TgZ(9,"th",5),t._uU(10," Email "),t.qZA(),t.TgZ(11,"th",5),t._uU(12," Action "),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,D,23,7,"tr",6),t.qZA()()(),t.TgZ(15,"button",7)(16,"mat-icon",8),t._uU(17,"add"),t.qZA()()()),2&e&&(t.xp6(14),t.Q6J("ngForOf",r.merchants),t.xp6(1),t.Q6J("routerLink",t.DdM(2,L)))},dependencies:[m.sg,h.rH,g.RK,g.cs,F.Hw,A.VK,A.OP,A.p6,N.gs]}),n})();var i=a(6223),y=a(3680),b=a(9157),x=a(2032),_=a(8525),u=a(3814);function R(n,s){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const E=function(){return["Male","Female"]};let J=(()=>{class n{constructor(e,r,l,v){this.fb=e,this.merchantService=r,this.location=l,this.route=v,this.merchantForm=this.fb.group({name:["",i.kI.required],phoneNumber:["",i.kI.required],gender:["",i.kI.required],email:["",i.kI.email],password:["",i.kI.required]})}ngOnInit(){}submit(){this.merchantForm.valid&&this.merchantService.createMerchant(this.merchantForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.qu),t.Y36(Z.S),t.Y36(m.Ye),t.Y36(h.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-merchant"]],decls:29,vars:4,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Full Name","formControlName","name"],["matInput","","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","placeholder","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Full Name"),t.qZA(),t._UZ(6,"input",4),t.qZA(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Phone Number"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"mat-form-field",3)(12,"mat-label"),t._uU(13,"Email"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Gender"),t.qZA(),t.TgZ(18,"mat-select",7),t.YNc(19,R,2,2,"mat-option",8),t.qZA()(),t.TgZ(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Password"),t.qZA(),t._UZ(23,"input",9),t.qZA(),t.TgZ(24,"div",10)(25,"a",11),t.NdJ("click",function(){return r.back()}),t._uU(26,"CANCEL"),t.qZA(),t.TgZ(27,"button",12),t._uU(28,"SAVE"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",r.merchantForm),t.xp6(18),t.Q6J("ngForOf",t.DdM(3,E)),t.xp6(8),t.Q6J("disabled",r.merchantForm.invalid))},dependencies:[m.sg,y.ey,g.zs,g.lW,b.KE,b.hX,x.Nt,_.gD,u.xw,u.SQ,u.Wh,u.yH,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),n})();var C=a(5588);function O(n,s){if(1&n&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const q=function(){return["Male","Female"]},Y=[{path:"",component:M,children:[{path:"list",component:I,resolve:{merchants:C.K}},{path:"new",component:J},{path:":id/details",component:(()=>{class n{constructor(e,r,l,v){this.fb=e,this.merchantService=r,this.location=l,this.route=v,this.merchant=this.route.snapshot.data.merchant,this.merchantForm=this.fb.group({name:[this.merchant.name,i.kI.required],phoneNumber:[this.merchant.phoneNumber,i.kI.required],gender:[this.merchant.gender,i.kI.required],email:[this.merchant.email,i.kI.email]})}ngOnInit(){}submit(){this.merchantForm.valid&&this.merchantService.updateMerchant(this.merchant._id,this.merchantForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.qu),t.Y36(Z.S),t.Y36(m.Ye),t.Y36(h.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-merchant-details"]],decls:25,vars:4,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Full Name","formControlName","name"],["matInput","","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","placeholder","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Full Name"),t.qZA(),t._UZ(6,"input",4),t.qZA(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Phone Number"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"mat-form-field",3)(12,"mat-label"),t._uU(13,"Email"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Gender"),t.qZA(),t.TgZ(18,"mat-select",7),t.YNc(19,O,2,2,"mat-option",8),t.qZA()(),t.TgZ(20,"div",9)(21,"a",10),t.NdJ("click",function(){return r.back()}),t._uU(22,"CANCEL"),t.qZA(),t.TgZ(23,"button",11),t._uU(24,"SAVE"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",r.merchantForm),t.xp6(18),t.Q6J("ngForOf",t.DdM(3,q)),t.xp6(4),t.Q6J("disabled",r.merchantForm.invalid))},dependencies:[m.sg,y.ey,g.zs,g.lW,b.KE,b.hX,x.Nt,_.gD,u.xw,u.SQ,u.Wh,u.yH,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),n})(),resolve:{merchant:C.d}}]}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.Bz.forChild(Y),h.Bz]}),n})();var Q=a(1447),k=a(6005);let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[C.K,C.d,Z.S],imports:[m.ez,P,k.q,Q.o9,i.UX]}),n})()},5588:(S,d,a)=>{a.d(d,{K:()=>t,d:()=>M});var m=a(5879),h=a(9293);let t=(()=>{class c{constructor(o){this.merchantService=o}resolve(){return this.merchantService.getMerchants()}}return c.\u0275fac=function(o){return new(o||c)(m.LFG(h.S))},c.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),M=(()=>{class c{constructor(o){this.merchantService=o}resolve(o){const f=o.paramMap.get("id");return this.merchantService.getMerchant(f)}}return c.\u0275fac=function(o){return new(o||c)(m.LFG(h.S))},c.\u0275prov=m.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},9293:(S,d,a)=>{a.d(d,{S:()=>M});var m=a(553),h=a(5879),t=a(9862);let M=(()=>{class c{constructor(o){this._httpClient=o,this.hostServer=m.N.hostServer}getMerchants(){return this._httpClient.get(`${this.hostServer}/merchants`)}getMerchant(o){return this._httpClient.get(`${this.hostServer}/merchants/${o}`)}deleteMerchant(o){return this._httpClient.delete(`${this.hostServer}/merchants/${o}`)}updateMerchant(o,f){return this._httpClient.put(`${this.hostServer}/merchants/${o}`,f)}createMerchant(o){return this._httpClient.post(`${this.hostServer}/merchants`,o)}}return c.\u0275fac=function(o){return new(o||c)(h.LFG(t.eN))},c.\u0275prov=h.Yz7({token:c,factory:c.\u0275fac}),c})()}}]);