"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[827],{6827:(nt,A,d)=>{d.r(A),d.d(A,{OrdersModule:()=>et});var m=d(6814),p=d(1896),e=d(5879);let I=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-orders"]],decls:1,vars:0,template:function(t,r){1&t&&e._UZ(0,"router-outlet")},dependencies:[p.lC],encapsulation:2}),o})();var Y=d(8337),y=d(3365),c=d(5313),b=d(6567),Q=d(4664),f=d(7957),O=d(7700),Z=d(2296),q=d(2557),C=d(617),J=d(5986),x=d(7988),g=d(3814);function R(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"span",1)(1,"button",23),e._uU(2),e.qZA(),e.TgZ(3,"button",24)(4,"mat-icon",25),e._uU(5,"campaign"),e.qZA(),e._uU(6," Message Orders"),e.qZA(),e.TgZ(7,"button",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelected())}),e.TgZ(8,"mat-icon",25),e._uU(9,"delete"),e.qZA(),e._uU(10," Delete Selected Orders"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("",t.selection.selected.length," Selected")}}function $(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"th",27)(1,"mat-checkbox",28),e.NdJ("change",function(n){e.CHM(t);const i=e.oxw();return e.KtG(n?i.toggleAllRows():null)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function M(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"td",29)(1,"mat-checkbox",30),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(n){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(n?u.selection.toggle(a):null)}),e.qZA()()}if(2&o){const t=s.$implicit,r=e.oxw();e.xp6(1),e.Q6J("checked",r.selection.isSelected(t))("aria-label",r.checkboxLabel(t))}}function G(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"#"),e.qZA())}function H(o,s){if(1&o&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&o){const t=s.index;e.xp6(1),e.Oqu(t+1)}}function P(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Order Id"),e.qZA())}function E(o,s){if(1&o&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(t.reference)}}function B(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Vendor Name"),e.qZA())}function z(o,s){if(1&o&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(null==t||null==t.store?null:t.store.name)}}function j(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Customer Name"),e.qZA())}function K(o,s){if(1&o&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(t.user?t.user.name:"Customer has been removed")}}function V(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Device"),e.qZA())}function k(o,s){if(1&o&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(t.user.phoneCredentials[0].deviceType+" "+t.user.phoneCredentials[0].make+" "+t.user.phoneCredentials[0].os)}}function W(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Date"),e.qZA())}function X(o,s){if(1&o&&(e.TgZ(0,"td",29),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.createdAt,"medium"))}}function ee(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Order Status"),e.qZA())}function te(o,s){if(1&o&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status[0].name)}}function re(o,s){if(1&o&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status[0].name)}}function ne(o,s){if(1&o&&(e.TgZ(0,"mat-chip"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status[0].name)}}function oe(o,s){if(1&o&&(e.TgZ(0,"mat-chip",37),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status[0].name)}}function ie(o,s){if(1&o&&(e.TgZ(0,"mat-chip",38),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status[0].name)}}function ae(o,s){if(1&o&&(e.TgZ(0,"mat-chip",39),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status[0].name)}}function se(o,s){if(1&o&&(e.TgZ(0,"mat-chip",40),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.status[0].name)}}function de(o,s){if(1&o&&(e.TgZ(0,"td",29)(1,"mat-chip-set",31),e.YNc(2,te,2,1,"mat-chip",32),e.YNc(3,re,2,1,"mat-chip",32),e.YNc(4,ne,2,1,"mat-chip",32),e.YNc(5,oe,2,1,"mat-chip",33),e.YNc(6,ie,2,1,"mat-chip",34),e.YNc(7,ae,2,1,"mat-chip",35),e.YNc(8,se,2,1,"mat-chip",36),e.qZA()()),2&o){const t=s.$implicit;e.xp6(2),e.Q6J("ngIf","Shipped"===t.status[0].name),e.xp6(1),e.Q6J("ngIf","Preparing"===t.status[0].name),e.xp6(1),e.Q6J("ngIf","Ready for Pickup"===t.status[0].name),e.xp6(1),e.Q6J("ngIf","Delivered"===t.status[0].name),e.xp6(1),e.Q6J("ngIf","Canceled"===t.status[0].name),e.xp6(1),e.Q6J("ngIf","Pending"===t.status[0].name),e.xp6(1),e.Q6J("ngIf","Accepted"===t.status[0].name)}}function le(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Payment Status"),e.qZA())}function ce(o,s){if(1&o&&(e.TgZ(0,"mat-chip",37),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.paymentStatus)}}function ue(o,s){if(1&o&&(e.TgZ(0,"mat-chip",42),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.paymentStatus)}}function me(o,s){if(1&o&&(e.TgZ(0,"td",29)(1,"mat-chip-set",31),e.YNc(2,ce,2,1,"mat-chip",33),e.YNc(3,ue,2,1,"mat-chip",41),e.qZA()()),2&o){const t=s.$implicit;e.xp6(2),e.Q6J("ngIf","Paid"===t.paymentStatus),e.xp6(1),e.Q6J("ngIf","Unpaid"===t.paymentStatus)}}function pe(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Payment Type"),e.qZA())}function fe(o,s){if(1&o&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(t.payment)}}function ge(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Amount"),e.qZA())}function _e(o,s){if(1&o&&(e.TgZ(0,"td",29),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.total,null==t||null==t.store?null:t.store.currency))}}function he(o,s){1&o&&(e.TgZ(0,"th",27),e._uU(1,"Actions"),e.qZA())}const Ze=function(o){return["../",o,"details"]};function xe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"td",29)(1,"button",43)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,44)(6,"button",45),e.NdJ("click",function(){const n=e.CHM(t),i=n.$implicit,a=n.index,u=e.oxw();return e.KtG(u.deleteOrder(i._id,a))}),e.TgZ(7,"mat-icon",46),e._uU(8,"delete"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Delete"),e.qZA()(),e.TgZ(11,"button",47)(12,"mat-icon",46),e._uU(13,"visibility"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"View Order"),e.qZA()()()()}if(2&o){const t=s.$implicit,r=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",r),e.xp6(10),e.Q6J("routerLink",e.VKq(2,Ze,t._id))}}function ve(o,s){1&o&&e._UZ(0,"tr",48)}function Te(o,s){1&o&&e._UZ(0,"tr",49)}let Ae=(()=>{class o{constructor(t,r,n){this.route=t,this.orderService=r,this._matDialog=n,this.displayedColumns=["select","no","orderId","vendorName","customerName","device","date","status","paymentStatus","paymentType","amount","actions"],this.dataSource=new c.by([]),this.selection=new Y.Ov(!0,[]),this.totalOrders=0}ngAfterViewInit(){this.paginator.page.pipe((0,Q.w)(t=>this.orderService.getOrders({data:{$match:{}},control:[{$sort:{createdAt:-1}},{$skip:t.pageSize*t.pageIndex},{$limit:20}]}))).subscribe(t=>{this.dataSource=new c.by(t)})}ngOnInit(){this.dataSource=new c.by(this.route.snapshot.data.orders),this.totalOrders=this.route.snapshot.data.totalOrders}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(b.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete orders?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these orders?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&this.selection.selected.forEach((r,n)=>{this.dataSource.data.splice(n,1),this.dataSource=new c.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.orderService.deleteOrder(r._id).subscribe()})})}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteOrder(t,r){this.confirmDialogRef=this._matDialog.open(b.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Customer?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this order?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&(this.dataSource.data.splice(r,1),this.dataSource=new c.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.orderService.deleteOrder(t).subscribe())})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(f.N),e.Y36(O.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-orders"]],viewQuery:function(t,r){if(1&t&&e.Gf(y.NW,5),2&t){let n;e.iGM(n=e.CRH())&&(r.paginator=n.first)}},decls:47,vars:6,consts:[["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],[1,"text-2xl"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","no"],["matColumnDef","orderId"],["matColumnDef","vendorName"],["matColumnDef","customerName"],["matColumnDef","device"],["matColumnDef","date"],["matColumnDef","status"],["matColumnDef","paymentStatus"],["matColumnDef","paymentType"],["matColumnDef","amount"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of periodic elements",3,"pageSize","length"],["mat-button",""],["mat-stroked-button","","color","primary"],[1,"mat-18"],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["aria-label","Fish selection"],[4,"ngIf"],["style","background-color: rgb(3, 138, 3); color: #fff",4,"ngIf"],["color","warn","selected","",4,"ngIf"],["style","background-color: rgb(210, 235, 49); color: #fff","selected","",4,"ngIf"],["style","background-color: rgb(200, 68, 90); color: #fff","selected","",4,"ngIf"],[2,"background-color","rgb(3, 138, 3)","color","#fff"],["color","warn","selected",""],["selected","",2,"background-color","rgb(210, 235, 49)","color","#fff"],["selected","",2,"background-color","rgb(200, 68, 90)","color","#fff"],["style","background-color: red; color: #fff","selected","",4,"ngIf"],["selected","",2,"background-color","red","color","#fff"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1)(3,"span",2),e._uU(4,"Orders"),e.qZA()(),e.YNc(5,R,11,1,"span",3),e.qZA(),e.TgZ(6,"div",4)(7,"table",5),e.ynx(8,6),e.YNc(9,$,2,3,"th",7),e.YNc(10,M,2,2,"td",8),e.BQk(),e.ynx(11,9),e.YNc(12,G,2,0,"th",7),e.YNc(13,H,2,1,"td",8),e.BQk(),e.ynx(14,10),e.YNc(15,P,2,0,"th",7),e.YNc(16,E,2,1,"td",8),e.BQk(),e.ynx(17,11),e.YNc(18,B,2,0,"th",7),e.YNc(19,z,2,1,"td",8),e.BQk(),e.ynx(20,12),e.YNc(21,j,2,0,"th",7),e.YNc(22,K,2,1,"td",8),e.BQk(),e.ynx(23,13),e.YNc(24,V,2,0,"th",7),e.YNc(25,k,2,1,"td",8),e.BQk(),e.ynx(26,14),e.YNc(27,W,2,0,"th",7),e.YNc(28,X,3,4,"td",8),e.BQk(),e.ynx(29,15),e.YNc(30,ee,2,0,"th",7),e.YNc(31,de,9,7,"td",8),e.BQk(),e.ynx(32,16),e.YNc(33,le,2,0,"th",7),e.YNc(34,me,4,2,"td",8),e.BQk(),e.ynx(35,17),e.YNc(36,pe,2,0,"th",7),e.YNc(37,fe,2,1,"td",8),e.BQk(),e.ynx(38,18),e.YNc(39,ge,2,0,"th",7),e.YNc(40,_e,3,4,"td",8),e.BQk(),e.ynx(41,19),e.YNc(42,he,2,0,"th",7),e.YNc(43,xe,16,4,"td",8),e.BQk(),e.YNc(44,ve,1,0,"tr",20),e.YNc(45,Te,1,0,"tr",21),e.qZA(),e._UZ(46,"mat-paginator",22),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",r.selection.selected.length),e.xp6(2),e.Q6J("dataSource",r.dataSource),e.xp6(37),e.Q6J("matHeaderRowDef",r.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns),e.xp6(1),e.Q6J("pageSize",20)("length",r.totalOrders))},dependencies:[m.O5,p.rH,Z.lW,Z.RK,q.HS,q.J4,C.Hw,y.NW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,J.oG,x.VK,x.OP,x.p6,g.xw,g.SQ,g.Wh,m.H9,m.uU]}),o})();var ye=d(4716),U=d(7069),be=d(7747),Oe=d(2939),qe=d(3680),L=d(9157),Ce=d(8525),_=d(9038),Ue=d(6385),Le=d(7509),h=d(6223);class l{static hashStr(s,t=!1){return this.onePassHasher.start().appendStr(s).end(t)}static hashAsciiStr(s,t=!1){return this.onePassHasher.start().appendAsciiStr(s).end(t)}static _hex(s){const t=l.hexChars,r=l.hexOut;let n,i,a,u;for(u=0;u<4;u+=1)for(i=8*u,n=s[u],a=0;a<8;a+=2)r[i+1+a]=t.charAt(15&n),n>>>=4,r[i+0+a]=t.charAt(15&n),n>>>=4;return r.join("")}static _md5cycle(s,t){let r=s[0],n=s[1],i=s[2],a=s[3];r+=(n&i|~n&a)+t[0]-680876936|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&i)+t[1]-389564586|0,a=(a<<12|a>>>20)+r|0,i+=(a&r|~a&n)+t[2]+606105819|0,i=(i<<17|i>>>15)+a|0,n+=(i&a|~i&r)+t[3]-1044525330|0,n=(n<<22|n>>>10)+i|0,r+=(n&i|~n&a)+t[4]-176418897|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&i)+t[5]+1200080426|0,a=(a<<12|a>>>20)+r|0,i+=(a&r|~a&n)+t[6]-1473231341|0,i=(i<<17|i>>>15)+a|0,n+=(i&a|~i&r)+t[7]-45705983|0,n=(n<<22|n>>>10)+i|0,r+=(n&i|~n&a)+t[8]+1770035416|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&i)+t[9]-1958414417|0,a=(a<<12|a>>>20)+r|0,i+=(a&r|~a&n)+t[10]-42063|0,i=(i<<17|i>>>15)+a|0,n+=(i&a|~i&r)+t[11]-1990404162|0,n=(n<<22|n>>>10)+i|0,r+=(n&i|~n&a)+t[12]+1804603682|0,r=(r<<7|r>>>25)+n|0,a+=(r&n|~r&i)+t[13]-40341101|0,a=(a<<12|a>>>20)+r|0,i+=(a&r|~a&n)+t[14]-1502002290|0,i=(i<<17|i>>>15)+a|0,n+=(i&a|~i&r)+t[15]+1236535329|0,n=(n<<22|n>>>10)+i|0,r+=(n&a|i&~a)+t[1]-165796510|0,r=(r<<5|r>>>27)+n|0,a+=(r&i|n&~i)+t[6]-1069501632|0,a=(a<<9|a>>>23)+r|0,i+=(a&n|r&~n)+t[11]+643717713|0,i=(i<<14|i>>>18)+a|0,n+=(i&r|a&~r)+t[0]-373897302|0,n=(n<<20|n>>>12)+i|0,r+=(n&a|i&~a)+t[5]-701558691|0,r=(r<<5|r>>>27)+n|0,a+=(r&i|n&~i)+t[10]+38016083|0,a=(a<<9|a>>>23)+r|0,i+=(a&n|r&~n)+t[15]-660478335|0,i=(i<<14|i>>>18)+a|0,n+=(i&r|a&~r)+t[4]-405537848|0,n=(n<<20|n>>>12)+i|0,r+=(n&a|i&~a)+t[9]+568446438|0,r=(r<<5|r>>>27)+n|0,a+=(r&i|n&~i)+t[14]-1019803690|0,a=(a<<9|a>>>23)+r|0,i+=(a&n|r&~n)+t[3]-187363961|0,i=(i<<14|i>>>18)+a|0,n+=(i&r|a&~r)+t[8]+1163531501|0,n=(n<<20|n>>>12)+i|0,r+=(n&a|i&~a)+t[13]-1444681467|0,r=(r<<5|r>>>27)+n|0,a+=(r&i|n&~i)+t[2]-51403784|0,a=(a<<9|a>>>23)+r|0,i+=(a&n|r&~n)+t[7]+1735328473|0,i=(i<<14|i>>>18)+a|0,n+=(i&r|a&~r)+t[12]-1926607734|0,n=(n<<20|n>>>12)+i|0,r+=(n^i^a)+t[5]-378558|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^i)+t[8]-2022574463|0,a=(a<<11|a>>>21)+r|0,i+=(a^r^n)+t[11]+1839030562|0,i=(i<<16|i>>>16)+a|0,n+=(i^a^r)+t[14]-35309556|0,n=(n<<23|n>>>9)+i|0,r+=(n^i^a)+t[1]-1530992060|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^i)+t[4]+1272893353|0,a=(a<<11|a>>>21)+r|0,i+=(a^r^n)+t[7]-155497632|0,i=(i<<16|i>>>16)+a|0,n+=(i^a^r)+t[10]-1094730640|0,n=(n<<23|n>>>9)+i|0,r+=(n^i^a)+t[13]+681279174|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^i)+t[0]-358537222|0,a=(a<<11|a>>>21)+r|0,i+=(a^r^n)+t[3]-722521979|0,i=(i<<16|i>>>16)+a|0,n+=(i^a^r)+t[6]+76029189|0,n=(n<<23|n>>>9)+i|0,r+=(n^i^a)+t[9]-640364487|0,r=(r<<4|r>>>28)+n|0,a+=(r^n^i)+t[12]-421815835|0,a=(a<<11|a>>>21)+r|0,i+=(a^r^n)+t[15]+530742520|0,i=(i<<16|i>>>16)+a|0,n+=(i^a^r)+t[2]-995338651|0,n=(n<<23|n>>>9)+i|0,r+=(i^(n|~a))+t[0]-198630844|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~i))+t[7]+1126891415|0,a=(a<<10|a>>>22)+r|0,i+=(r^(a|~n))+t[14]-1416354905|0,i=(i<<15|i>>>17)+a|0,n+=(a^(i|~r))+t[5]-57434055|0,n=(n<<21|n>>>11)+i|0,r+=(i^(n|~a))+t[12]+1700485571|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~i))+t[3]-1894986606|0,a=(a<<10|a>>>22)+r|0,i+=(r^(a|~n))+t[10]-1051523|0,i=(i<<15|i>>>17)+a|0,n+=(a^(i|~r))+t[1]-2054922799|0,n=(n<<21|n>>>11)+i|0,r+=(i^(n|~a))+t[8]+1873313359|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~i))+t[15]-30611744|0,a=(a<<10|a>>>22)+r|0,i+=(r^(a|~n))+t[6]-1560198380|0,i=(i<<15|i>>>17)+a|0,n+=(a^(i|~r))+t[13]+1309151649|0,n=(n<<21|n>>>11)+i|0,r+=(i^(n|~a))+t[4]-145523070|0,r=(r<<6|r>>>26)+n|0,a+=(n^(r|~i))+t[11]-1120210379|0,a=(a<<10|a>>>22)+r|0,i+=(r^(a|~n))+t[2]+718787259|0,i=(i<<15|i>>>17)+a|0,n+=(a^(i|~r))+t[9]-343485551|0,n=(n<<21|n>>>11)+i|0,s[0]=r+s[0]|0,s[1]=n+s[1]|0,s[2]=i+s[2]|0,s[3]=a+s[3]|0}constructor(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(l.stateIdentity),this}appendStr(s){const t=this._buffer8,r=this._buffer32;let i,a,n=this._bufferLength;for(a=0;a<s.length;a+=1){if(i=s.charCodeAt(a),i<128)t[n++]=i;else if(i<2048)t[n++]=192+(i>>>6),t[n++]=63&i|128;else if(i<55296||i>56319)t[n++]=224+(i>>>12),t[n++]=i>>>6&63|128,t[n++]=63&i|128;else{if(i=1024*(i-55296)+(s.charCodeAt(++a)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[n++]=240+(i>>>18),t[n++]=i>>>12&63|128,t[n++]=i>>>6&63|128,t[n++]=63&i|128}n>=64&&(this._dataLength+=64,l._md5cycle(this._state,r),n-=64,r[0]=r[16])}return this._bufferLength=n,this}appendAsciiStr(s){const t=this._buffer8,r=this._buffer32;let i,n=this._bufferLength,a=0;for(;;){for(i=Math.min(s.length-a,64-n);i--;)t[n++]=s.charCodeAt(a++);if(n<64)break;this._dataLength+=64,l._md5cycle(this._state,r),n=0}return this._bufferLength=n,this}appendByteArray(s){const t=this._buffer8,r=this._buffer32;let i,n=this._bufferLength,a=0;for(;;){for(i=Math.min(s.length-a,64-n);i--;)t[n++]=s[a++];if(n<64)break;this._dataLength+=64,l._md5cycle(this._state,r),n=0}return this._bufferLength=n,this}getState(){const s=this,t=s._state;return{buffer:String.fromCharCode.apply(null,s._buffer8),buflen:s._bufferLength,length:s._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(s){const t=s.buffer,r=s.state,n=this._state;let i;for(this._dataLength=s.length,this._bufferLength=s.buflen,n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],i=0;i<t.length;i+=1)this._buffer8[i]=t.charCodeAt(i)}end(s=!1){const t=this._bufferLength,r=this._buffer8,n=this._buffer32,i=1+(t>>2);let a;if(this._dataLength+=t,r[t]=128,r[t+1]=r[t+2]=r[t+3]=0,n.set(l.buffer32Identity.subarray(i),i),t>55&&(l._md5cycle(this._state,n),n.set(l.buffer32Identity)),a=8*this._dataLength,a<=4294967295)n[14]=a;else{const u=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===u)return;const tt=parseInt(u[2],16),rt=parseInt(u[1],16)||0;n[14]=tt,n[15]=rt}return l._md5cycle(this._state,n),s?this._state:l._hex(this._state)}}l.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),l.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),l.hexChars="0123456789abcdef",l.hexOut=[],l.onePassHasher=new l,"5d41402abc4b2a76b9719d911017c592"!==l.hashStr("hello")&&console.error("Md5 self test failed.");let we=(()=>{class o{set email(t){this.updateEmail(t)}constructor(t){this.el=t,this.fallback="wavatar"}ngOnInit(){this.el&&(this.el.nativeElement.src="//www.gravatar.com/avatar/")}updateEmail(t){if(console.log(t),!t||!this.el.nativeElement)return;const r=l.hashStr(t.trim().toLowerCase());this.el.nativeElement.src=`//www.gravatar.com/avatar/${r}?d=${this.fallback}`,console.log(this.el.nativeElement.src,r)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq))},o.\u0275dir=e.lG2({type:o,selectors:[["","appGravatar",""]],inputs:{email:"email"}}),o})();const Se=["pdfTable"];function De(o,s){1&o&&(e.TgZ(0,"mat-icon",63),e._uU(1,"close"),e.qZA())}function Ne(o,s){1&o&&(e.TgZ(0,"mat-icon",63),e._uU(1,"check"),e.qZA())}function Fe(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",59)(2,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.cancelOrder(n.order))}),e.YNc(3,De,2,0,"mat-icon",61),e._uU(4),e.qZA(),e.TgZ(5,"button",62),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.accept(n.order))}),e.YNc(6,Ne,2,0,"mat-icon",61),e._uU(7),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.isCanceling),e.xp6(1),e.Q6J("ngIf",!t.isCanceling),e.xp6(1),e.hij(" ",t.isCanceling?"CANCELLING....":"CANCEL ORDER"," "),e.xp6(2),e.Q6J("ngIf",!t.isAccepting),e.xp6(1),e.hij(" ",t.isAccepting?"ACCEPTING....":"ACCEPT ORDER"," ")}}function Ie(o,s){if(1&o&&(e.TgZ(0,"mat-option",69),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Ye(o,s){if(1&o&&(e.TgZ(0,"mat-option",69),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}const Qe=function(){return["Paid","Unpaid"]};function Je(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",64)(1,"mat-form-field",65)(2,"mat-label"),e._uU(3,"Payment Status"),e.qZA(),e.TgZ(4,"mat-select",66),e.NdJ("selectionChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.updatePaymentStatus(i.order,n))})("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.order.paymentStatus=n)}),e.YNc(5,Ie,2,2,"mat-option",67),e.qZA()(),e.TgZ(6,"mat-form-field",65)(7,"mat-label"),e._uU(8,"Order Status"),e.qZA(),e.TgZ(9,"mat-select",68),e.NdJ("selectionChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.updateStatus(n,i.order))})("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.order.status[0].name=n)}),e.YNc(10,Ye,2,2,"mat-option",67),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.order.paymentStatus),e.xp6(1),e.Q6J("ngForOf",e.DdM(5,Qe)),e.xp6(4),e.Q6J("ngModel",t.order.status[0].name)("compareWith",t.compareFn),e.xp6(1),e.Q6J("ngForOf",t.statuses)}}function Re(o,s){1&o&&(e.TgZ(0,"mat-list-item",6)(1,"mat-icon",8),e._uU(2,"redeem"),e.qZA(),e.TgZ(3,"div",9),e._uU(4,"It's a gift"),e.qZA()())}function $e(o,s){if(1&o&&(e.TgZ(0,"mat-list-item")(1,"a",9),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.order.shipping.streetName)}}function Me(o,s){if(1&o&&(e.TgZ(0,"div",5)(1,"div",12),e._UZ(2,"img",70),e.TgZ(3,"h2",71),e._uU(4),e.qZA(),e.TgZ(5,"button",72),e._uU(6),e.qZA()(),e.TgZ(7,"mat-list")(8,"mat-list-item")(9,"mat-icon",8),e._uU(10,"phone_android"),e.qZA(),e.TgZ(11,"a",16),e._uU(12),e.qZA()(),e._UZ(13,"mat-divider"),e.TgZ(14,"mat-list-item")(15,"mat-icon",8),e._uU(16,"location_on"),e.qZA(),e.TgZ(17,"div",9),e._uU(18),e.qZA()(),e._UZ(19,"mat-divider"),e.TgZ(20,"div",7),e._uU(21,"Notes"),e.qZA(),e.TgZ(22,"mat-list-item")(23,"p"),e._uU(24),e.qZA()()()()),2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.order.receiver.name),e.xp6(2),e.hij(" Gift Receiver (",t.order.receiver.surprise?"surprise":"Not surprise",") "),e.xp6(5),e.Q6J("href","tel:"+t.order.receiver.phoneNumber,e.LSH),e.xp6(1),e.Oqu(t.order.receiver.phoneNumber),e.xp6(6),e.Oqu(t.order.receiver.address.name+" "+t.order.receiver.address.administrativeArea+" "+t.order.receiver.address.locality),e.xp6(6),e.hij("",t.order.receiver.note||"No Notes"," ")}}function Ge(o,s){if(1&o&&(e.TgZ(0,"mat-list-item")(1,"a",9),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.order.store.contactInfo.address)}}function He(o,s){if(1&o&&(e.TgZ(0,"div",73)(1,"div",50)(2,"h3",74)(3,"mat-icon",63),e._uU(4,"alarm"),e.qZA(),e._uU(5," Schedule Delivery"),e.qZA()(),e.TgZ(6,"div",75),e._uU(7),e.qZA()()),2&o){const t=e.oxw();e.xp6(7),e.hij(" This order is Scheduled for ",t.order.deliveryTime.time,", kindly inform both the vendor and the customers. ")}}function Pe(o,s){if(1&o&&(e.TgZ(0,"div",82),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&o){const t=s.$implicit,r=e.oxw(2);e.xp6(1),e.lnq(" ",t.quantity," x ",t.name," = ",e.xi3(2,3,t.quantity*t.price,r.order.store.currency)," ")}}function Ee(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td",30)(2,"div",50),e._UZ(3,"div",76),e.TgZ(4,"div",77)(5,"div",78),e._uU(6),e.qZA(),e.TgZ(7,"div",79),e.YNc(8,Pe,3,6,"div",80),e.qZA()()()(),e.TgZ(9,"td",30)(10,"div",36),e._uU(11),e.qZA()(),e.TgZ(12,"td",30)(13,"div",37),e._uU(14),e.ALo(15,"currency"),e.qZA()(),e.TgZ(16,"td",30)(17,"div",37),e._uU(18),e.ALo(19,"currency"),e.qZA()(),e.TgZ(20,"td",30)(21,"div",38)(22,"button",81)(23,"mat-icon",63),e._uU(24,"delete"),e.qZA()()()()()),2&o){const t=s.$implicit,r=e.oxw();e.xp6(6),e.Oqu(t.name),e.xp6(2),e.Q6J("ngForOf",t.options),e.xp6(3),e.Oqu(t.quantity),e.xp6(3),e.Oqu(e.xi3(15,5,t.price+r.optionsPrice(t.options),r.order.store.currency)),e.xp6(4),e.Oqu(e.xi3(19,8,(t.price+r.optionsPrice(t.options))*t.quantity,r.order.store.currency))}}function Be(o,s){if(1&o&&(e.TgZ(0,"li",49)(1,"div",50)(2,"div",51),e.O4$(),e.TgZ(3,"svg",52),e._UZ(4,"path",53),e.qZA()(),e.kcU(),e._UZ(5,"div",54),e.qZA(),e.TgZ(6,"div",55)(7,"h3"),e._uU(8),e.qZA(),e.TgZ(9,"time",57),e._uU(10),e.ALo(11,"date"),e.qZA()()()),2&o){const t=s.$implicit;e.xp6(7),e.Tol("text-lg font-semibold "+t.color),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(11,4,null==t?null:t.updatedOn,"medium"))}}const w=function(o){return["../../../customers",o,"details"]},ze=function(o){return["dashboard","customers",o,"details"]},v=function(o){return["../../../stores",o,"explore"]},je=d(8777);U.vfs=be.I.vfs;let Ke=(()=>{class o{constructor(t,r,n,i,a){this.route=t,this.orderService=r,this._matDialog=n,this._matSnack=i,this.router=a,this.statuses=[{id:0,name:"Accepted",color:"text-yellow-700",updatedOn:new Date},{id:1,name:"Preparing",color:"text-blue-500",updatedOn:new Date},{id:2,name:"Ready for Pickup",color:"text-blue-500",updatedOn:new Date},{id:4,name:"Shipped",color:"text-blue-500",updatedOn:new Date},{id:3,name:"Canceled",color:"text-red-500",updatedOn:new Date},{id:5,name:"Delivered",color:"text-green-500",updatedOn:new Date}]}ngOnInit(){this.order=this.route.snapshot.data.order}optionsPrice(t){return t.reduce((r,n)=>r+n.price*n.quantity,0)}accept(t){this.isAccepting=!0,this.updateStatus({id:0,name:"Accepted",color:"text-yellow-700",updatedOn:new Date},t,!1),t.category="Processing"}cancelOrder(t){this.isCanceling=!0,this.updateStatus({id:3,name:"Canceled",color:"text-red-500",updatedOn:new Date},t,!1),t.category="Canceled"}updatePaymentStatus(t,r){this.orderService.updateOrder(t._id,{paymentStatus:r.value}).pipe((0,ye.x)(()=>this.isCanceling=!1)).subscribe(n=>{t.paymentStatus=r.value,this._matSnack.open("Payment updated!","Close",{duration:3e3})})}compareFn(t,r){return t.name===r}updateStatus(t,r,n=!0){this.orderService.updateOrderStatus(r._id,r.user._id,n?t.value:t).subscribe(i=>{this.isCanceling=!1,this.isAccepting=!1,this._matSnack.open(`You have updated this order to ${t.value.name}`,"Close",{duration:3e3})})}exportPDF(){var r=je(this.pdfTable.nativeElement.innerHTML);U.createPdf({content:r}).download()}open(){window.open(`google.navigation:q=${this.order.store.location?.coordinates[0]}+${this.order.store.location?.coordinates[1]}`,"_blank")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(f.N),e.Y36(O.uw),e.Y36(Oe.ux),e.Y36(p.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-orders-details"]],viewQuery:function(t,r){if(1&t&&e.Gf(Se,5),2&t){let n;e.iGM(n=e.CRH())&&(r.pdfTable=n.first)}},decls:285,vars:85,consts:[[1,"lg:flex","lg:items-center","lg:justify-between"],[4,"ngIf","ngIfElse"],["statusControl",""],["fxLayout.gt-md","row","fxLayoutAlign.gt-md","space-between start","fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","space-around stretch","fxLayoutGap","20px",1,"mt-10"],["fxLayout","column","fxLayoutAlign","space-between start","fxFlex.gt-md","30%","fxFlex.lt-md","100%","fxLayoutGap","20px"],["fxLayout","column","fxLayoutAlign","start start",1,"mat-elevation-z2","rounded-md","w-full"],[1,"w-full"],["mat-subheader",""],["matListItemIcon","",1,"material-icons-outlined"],["matListItemTitle",""],["class","w-full",4,"ngIf"],[1,"w-full",3,"click"],["fxLayout","column","fxLayoutAlign","space-around center",1,"w-full","p-3"],["appGravatar","","width","150","height","150",1,"rounded-full","cursor-pointer",3,"routerLink","email"],[1,"text-center","font-bolder","text-blue-600",3,"routerLink"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-transparent","bg-green-600","px-4","py-2","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"routerLink"],["matListItemTitle","",3,"href"],[4,"ngIf"],["class","mat-elevation-z2  rounded-md w-full","fxLayout","column","fxLayoutAlign","start start",4,"ngIf"],[1,"mat-elevation-z2","rounded-md","w-full"],["width","150","height","150",1,"rounded-full","cursor-pointer",3,"routerLink","src"],[1,"text-center","font-bolder","text-blue-500","cursor-pointer",3,"routerLink"],["fxFlex","70%","fxLayoutGap","20px"],["id","alert-additional-content-1","class","p-4 mb-4 text-blue-800 border border-blue-300 rounded-lg bg-blue-50","role","alert",4,"ngIf"],["id","pdfTable",1,"mat-elevation-z2","p-3","rounded-md","w-full"],["pdfTable",""],[1,"p-3"],[1,"overflow-x-auto"],[1,"table-auto","w-full"],[1,"text-xs","font-semibold","uppercase","text-gray-400","bg-gray-50"],[1,"p-2","whitespace-nowrap"],[1,"font-semibold","text-left"],[1,"font-semibold","text-center"],[1,"text-sm","divide-y","divide-gray-100"],[4,"ngFor","ngForOf"],[1,"text-left","font-bold"],[1,"text-left"],[1,"text-left","font-medium","text-black"],[1,"text-lg","text-center"],[1,"text-left","font-medium","text-red-500"],[1,"bg-gray-700"],[1,"font-semibold","text-white","dark:white"],["scope","row",1,"py-3","px-6","whitespace-nowrap","text-base"],[1,"text-left","font-medium","text-white"],[1,"bg-blue-700"],[1,"bg-pink-700"],[1,"bg-green-700"],[1,"mat-elevation-z2","p-3","rounded-md","w-full","mt-5"],[1,"items-center","sm:flex"],[1,"relative","mb-6","sm:mb-0"],[1,"flex","items-center"],[1,"flex","z-10","justify-center","items-center","w-6","h-6","bg-blue-200","rounded-full","ring-0","ring-white","dark:bg-blue-900","sm:ring-8","dark:ring-gray-900","shrink-0"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-3","h-3","text-blue-600","dark:text-blue-300"],["fill-rule","evenodd","d","M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule","evenodd"],[1,"hidden","sm:flex","w-full","bg-gray-200","h-0.5","dark:bg-gray-700"],[1,"mt-3","sm:pr-8"],[1,"text-lg","font-semibold"],[1,"block","mb-2","text-sm","font-normal","leading-none","text-gray-400","dark:text-gray-500"],["class","relative mb-6 sm:mb-0",4,"ngFor","ngForOf"],["fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","space-around stretch","ngClass.lt-lg","mt-10","fxLayoutGap","15px"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-red-500","bg-white","px-4","py-2","text-sm","font-medium","text-red-500","shadow-sm","hover:bg-red-50","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2",3,"disabled","click"],["class","mat-18",4,"ngIf"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-transparent","bg-green-600","px-4","py-2","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"click"],[1,"mat-18"],["fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","space-around stretch","ngClass.lt-lg","mt-10","fxLayoutGap.gt-md","10px"],["appearance","outline"],[3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","compareWith","selectionChange","ngModelChange"],[3,"value"],["src","https://davur.dexignzone.com/react/demo/static/media/1.7c3d5aa9.jpg","width","150","height","150",1,"rounded-full"],[1,"text-center","font-bolder"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-transparent","bg-pink-600","px-4","py-2","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2"],["id","alert-additional-content-1","role","alert",1,"p-4","mb-4","text-blue-800","border","border-blue-300","rounded-lg","bg-blue-50"],[1,"text-lg","font-medium","m-0",2,"margin","0","padding","0"],[1,"mt-2","mb-4","text-sm"],[1,"w-10","h-10","flex-shrink-0","mr-2","sm:mr-3"],["fxLayout","column","fxLayoutAlign","start start"],[1,"font-medium","text-blue-800"],["fxLayout","column","fxLayoutAlign","space-around start"],["class","font-medium text-gray-800",4,"ngFor","ngForOf"],["mat-icon-button","","color","warm"],[1,"font-medium","text-gray-800"]],template:function(t,r){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Fe,8,5,"ng-container",1),e.YNc(2,Je,11,6,"ng-template",null,2,e.W1O),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"mat-list",6)(8,"div",7),e._uU(9),e.qZA(),e.TgZ(10,"mat-list-item",6)(11,"mat-icon",8),e._uU(12,"card_travel"),e.qZA(),e.TgZ(13,"div",9),e._uU(14),e.qZA()(),e._UZ(15,"mat-divider"),e.TgZ(16,"mat-list-item",6)(17,"mat-icon",8),e._uU(18,"credit_score"),e.qZA(),e.TgZ(19,"div",9),e._uU(20),e.qZA()(),e._UZ(21,"mat-divider"),e.TgZ(22,"mat-list-item",6)(23,"mat-icon",8),e._uU(24,"calendar_today"),e.qZA(),e.TgZ(25,"div",9),e._uU(26),e.ALo(27,"date"),e.qZA()(),e._UZ(28,"mat-divider"),e.YNc(29,Re,5,0,"mat-list-item",10),e._UZ(30,"mat-divider"),e.TgZ(31,"mat-list-item",11),e.NdJ("click",function(){return r.exportPDF()}),e.TgZ(32,"mat-icon",8),e._uU(33,"print"),e.qZA(),e.TgZ(34,"div",9),e._uU(35,"Export Order"),e.qZA()(),e._UZ(36,"mat-divider"),e.TgZ(37,"mat-list-item",6)(38,"mat-icon",8),e._uU(39,"memory"),e.qZA(),e.TgZ(40,"div",9),e._uU(41),e.qZA()()()(),e.TgZ(42,"div",5)(43,"div",12),e._UZ(44,"img",13),e.TgZ(45,"h2",14),e._uU(46),e.qZA(),e.TgZ(47,"a",15),e._uU(48," Customer "),e.qZA()(),e.TgZ(49,"mat-list",6)(50,"mat-list-item",6)(51,"mat-icon",8),e._uU(52,"phone_android"),e.qZA(),e.TgZ(53,"a",16),e._uU(54),e.qZA()(),e._UZ(55,"mat-divider"),e.TgZ(56,"mat-list-item")(57,"mat-icon",8),e._uU(58,"location_on"),e.qZA(),e.TgZ(59,"a",9),e._uU(60),e.qZA()(),e.YNc(61,$e,3,1,"mat-list-item",17),e._UZ(62,"mat-divider"),e.TgZ(63,"mat-list-item")(64,"mat-icon",8),e._uU(65,"phone"),e.qZA(),e.TgZ(66,"a",9),e._uU(67),e.qZA()(),e._UZ(68,"mat-divider")(69,"mat-divider"),e.TgZ(70,"div",7),e._uU(71,"Notes"),e.qZA(),e.TgZ(72,"mat-list-item")(73,"p"),e._uU(74),e.qZA()()()(),e.YNc(75,Me,25,6,"div",18),e.TgZ(76,"div",19)(77,"div",12),e._UZ(78,"img",20),e.TgZ(79,"h2",21),e._uU(80),e.qZA(),e.TgZ(81,"a",15),e._uU(82," Restaurant "),e.qZA()(),e.TgZ(83,"mat-list",6)(84,"mat-list-item",6)(85,"mat-icon",8),e._uU(86,"phone_android"),e.qZA(),e.TgZ(87,"a",16),e._uU(88),e.qZA()(),e._UZ(89,"mat-divider"),e.TgZ(90,"mat-list-item")(91,"mat-icon",8),e._uU(92,"location_on"),e.qZA(),e.TgZ(93,"a",9),e._uU(94),e.qZA()(),e.YNc(95,Ge,3,1,"mat-list-item",17),e._UZ(96,"mat-divider"),e.TgZ(97,"mat-list-item")(98,"mat-icon",8),e._uU(99,"mail"),e.qZA(),e.TgZ(100,"a",9),e._uU(101),e.qZA()()()()(),e.TgZ(102,"div",22),e.YNc(103,He,8,1,"div",23),e.TgZ(104,"div",24,25)(106,"div",26)(107,"div",27)(108,"table",28)(109,"thead",29)(110,"tr")(111,"th",30)(112,"div",31),e._uU(113,"Items"),e.qZA()(),e.TgZ(114,"th",30)(115,"div",31),e._uU(116," Qty"),e.qZA()(),e.TgZ(117,"th",30)(118,"div",31),e._uU(119,"Price"),e.qZA()(),e.TgZ(120,"th",30)(121,"div",31),e._uU(122,"Total Price"),e.qZA()(),e.TgZ(123,"th",30)(124,"div",32),e._uU(125,"Action"),e.qZA()()()(),e.TgZ(126,"tbody",33),e.YNc(127,Ee,25,11,"tr",34),e.TgZ(128,"tr")(129,"td",30)(130,"div",35),e._uU(131,"Service Fee"),e.qZA()(),e.TgZ(132,"td",30)(133,"div",36),e._uU(134,"-"),e.qZA()(),e.TgZ(135,"td",30)(136,"div",37),e._uU(137,"-"),e.qZA()(),e.TgZ(138,"td",30)(139,"div",37),e._uU(140),e.ALo(141,"currency"),e.qZA()(),e.TgZ(142,"td",30)(143,"div",38),e._uU(144," - "),e.qZA()()(),e.TgZ(145,"tr")(146,"td",30)(147,"div",35),e._uU(148,"Shipping Fee"),e.qZA()(),e.TgZ(149,"td",30)(150,"div",36),e._uU(151,"-"),e.qZA()(),e.TgZ(152,"td",30)(153,"div",39),e._uU(154,"-"),e.qZA()(),e.TgZ(155,"td",30)(156,"div",39),e._uU(157),e.ALo(158,"currency"),e.qZA()(),e.TgZ(159,"td",30)(160,"div",38),e._uU(161," - "),e.qZA()()(),e.TgZ(162,"tr")(163,"td",30)(164,"div",35),e._uU(165,"Discount"),e.qZA()(),e.TgZ(166,"td",30)(167,"div",36),e._uU(168,"-"),e.qZA()(),e.TgZ(169,"td",30)(170,"div",37),e._uU(171,"-"),e.qZA()(),e.TgZ(172,"td",30)(173,"div",37),e._uU(174),e.ALo(175,"currency"),e.qZA()(),e.TgZ(176,"td",30)(177,"div",38),e._uU(178," - "),e.qZA()()()(),e.TgZ(179,"tfoot",40)(180,"tr",41)(181,"th",42)(182,"div",35),e._uU(183,"Total"),e.qZA()(),e.TgZ(184,"td",30)(185,"div",36),e._uU(186,"-"),e.qZA()(),e.TgZ(187,"td",30)(188,"div",43),e._uU(189,"-"),e.qZA()(),e.TgZ(190,"td",30)(191,"div",43),e._uU(192),e.ALo(193,"currency"),e.qZA()(),e.TgZ(194,"td",30)(195,"div",38),e._uU(196," - "),e.qZA()()()(),e.TgZ(197,"tfoot",40)(198,"tr",41)(199,"th",42)(200,"div",35),e._uU(201,"Driver Tips"),e.qZA()(),e.TgZ(202,"td",30)(203,"div",36),e._uU(204,"-"),e.qZA()(),e.TgZ(205,"td",30)(206,"div",43),e._uU(207,"-"),e.qZA()(),e.TgZ(208,"td",30)(209,"div",43),e._uU(210),e.ALo(211,"currency"),e.qZA()(),e.TgZ(212,"td",30)(213,"div",38),e._uU(214," - "),e.qZA()()()(),e.TgZ(215,"tfoot",44)(216,"tr",41)(217,"th",42)(218,"div",35),e._uU(219,"Total Vendor Commission"),e.qZA()(),e.TgZ(220,"td",30)(221,"div",36),e._uU(222,"-"),e.qZA()(),e.TgZ(223,"td",30)(224,"div",43),e._uU(225,"-"),e.qZA()(),e.TgZ(226,"td",30)(227,"div",43),e._uU(228),e.ALo(229,"currency"),e.qZA()(),e.TgZ(230,"td",30)(231,"div",38),e._uU(232," - "),e.qZA()()()(),e.TgZ(233,"tfoot",45)(234,"tr",41)(235,"th",42)(236,"div",35),e._uU(237,"Vendor Receive's"),e.qZA()(),e.TgZ(238,"td",30)(239,"div",36),e._uU(240,"-"),e.qZA()(),e.TgZ(241,"td",30)(242,"div",43),e._uU(243,"-"),e.qZA()(),e.TgZ(244,"td",30)(245,"div",43),e._uU(246),e.ALo(247,"currency"),e.qZA()(),e.TgZ(248,"td",30)(249,"div",38),e._uU(250," - "),e.qZA()()()(),e.TgZ(251,"tfoot",46)(252,"tr",41)(253,"th",42)(254,"div",35),e._uU(255,"Shopbot Receives"),e.qZA()(),e.TgZ(256,"td",30)(257,"div",36),e._uU(258,"-"),e.qZA()(),e.TgZ(259,"td",30)(260,"div",43),e._uU(261,"-"),e.qZA()(),e.TgZ(262,"td",30)(263,"div",43),e._uU(264),e.ALo(265,"currency"),e.qZA()(),e.TgZ(266,"td",30)(267,"div",38),e._uU(268," - "),e.qZA()()()()()()()(),e.TgZ(269,"div",47)(270,"div",26)(271,"ol",48)(272,"li",49)(273,"div",50)(274,"div",51),e.O4$(),e.TgZ(275,"svg",52),e._UZ(276,"path",53),e.qZA()(),e.kcU(),e._UZ(277,"div",54),e.qZA(),e.TgZ(278,"div",55)(279,"h3",56),e._uU(280,"Order Created"),e.qZA(),e.TgZ(281,"time",57),e._uU(282),e.ALo(283,"date"),e.qZA()()(),e.YNc(284,Be,12,7,"li",58),e.qZA()()()()()),2&t){const n=e.MAs(3);e.xp6(1),e.Q6J("ngIf","New"==r.order.category)("ngIfElse",n),e.xp6(8),e.hij("Order reference #",r.order.reference,""),e.xp6(5),e.Oqu(r.order.payment),e.xp6(6),e.Oqu(r.order.paymentStatus),e.xp6(6),e.Oqu(e.xi3(27,43,r.order.createdAt,"medium")),e.xp6(3),e.Q6J("ngIf",r.order.gift),e.xp6(12),e.hij(" ",r.order.currentAppVersion||"No Version",""),e.xp6(3),e.Q6J("routerLink",e.VKq(73,w,r.order.user._id))("email",r.order.user.email),e.xp6(1),e.Q6J("routerLink",e.VKq(75,ze,r.order.user._id)),e.xp6(1),e.Oqu(r.order.user.name),e.xp6(1),e.Q6J("routerLink",e.VKq(77,w,r.order.user._id)),e.xp6(6),e.Q6J("href","tel:"+r.order.user.phoneNumber,e.LSH),e.xp6(1),e.Oqu(r.order.user.phoneNumber),e.xp6(6),e.Oqu(r.order.shipping.name+" "+r.order.shipping.administrativeArea),e.xp6(1),e.Q6J("ngIf",r.order.shipping.streetName),e.xp6(6),e.Oqu(r.order.user.phoneCredentials[0].deviceType+" "+r.order.user.phoneCredentials[0].make+" "+r.order.user.phoneCredentials[0].os),e.xp6(7),e.hij("",r.order.orderInstruction||"No Notes"," "),e.xp6(1),e.Q6J("ngIf",r.order.gift),e.xp6(3),e.Q6J("routerLink",e.VKq(79,v,r.order.store._id))("src",r.order.store.logo,e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(81,v,r.order.store._id)),e.xp6(1),e.Oqu(r.order.store.name),e.xp6(1),e.Q6J("routerLink",e.VKq(83,v,r.order.user._id)),e.xp6(6),e.Q6J("href","tel:"+r.order.store.contactInfo.phone,e.LSH),e.xp6(1),e.Oqu(r.order.store.contactInfo.phone),e.xp6(6),e.Oqu(r.order.store.contactInfo.placeNumber+" "+r.order.store.contactInfo.placeName+" "||0),e.xp6(1),e.Q6J("ngIf",r.order.store.contactInfo.address),e.xp6(6),e.Oqu(r.order.store.contactInfo.email),e.xp6(2),e.Q6J("ngIf","Schedule Delivery"===(null==r.order||null==r.order.deliveryTime?null:r.order.deliveryTime.name)),e.xp6(24),e.Q6J("ngForOf",r.order.cart.products),e.xp6(13),e.Oqu(e.xi3(141,46,r.order.serviceFee,r.order.store.currency)),e.xp6(17),e.Oqu(e.xi3(158,49,r.order.shippingFee,r.order.store.currency)),e.xp6(17),e.Oqu(e.xi3(175,52,r.order.discount,r.order.store.currency)),e.xp6(18),e.hij(" ",e.xi3(193,55,r.order.total,r.order.store.currency)," "),e.xp6(18),e.hij(" ",e.xi3(211,58,r.order.driverTip||0,r.order.store.currency)," "),e.xp6(18),e.AsE(" ",e.xi3(229,61,(r.order.total-r.order.serviceFee-r.order.shippingFee)/100*r.order.vendorCommission,r.order.store.currency)," (",r.order.vendorCommission,"%) "),e.xp6(18),e.hij(" ",e.xi3(247,64,r.order.total-r.order.serviceFee-r.order.shippingFee-(r.order.total-r.order.serviceFee-r.order.shippingFee)/100*r.order.vendorCommission,r.order.store.currency)," "),e.xp6(18),e.hij(" ",e.xi3(265,67,r.order.total-(r.order.total-r.order.serviceFee-r.order.shippingFee-(r.order.total-r.order.serviceFee-r.order.shippingFee)/100*r.order.vendorCommission),r.order.store.currency)," "),e.xp6(18),e.Oqu(e.xi3(283,70,r.order.createdAt,"medium")),e.xp6(2),e.Q6J("ngForOf",r.order.status)}},dependencies:[m.sg,m.O5,p.rH,qe.ey,Z.RK,L.KE,L.hX,C.Hw,Ce.gD,_.i$,_.Tg,_.Yt,_.gs,Ue.d,_.sL,g.xw,g.SQ,g.Wh,g.yH,Le.oO,h.JJ,h.On,we,m.H9,m.uU]}),o})();var S=d(6676);let D=(()=>{class o{constructor(t){this.orderService=t}resolve(){return this.orderService.getOrders({data:{$match:{}},control:[{$sort:{createdAt:-1}},{$limit:20},{$skip:0}]})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.N))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),N=(()=>{class o{constructor(t){this.orderService=t}resolve(){return this.orderService.countOrders()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.N))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),F=(()=>{class o{constructor(t){this.orderService=t}resolve(t){const r=t.paramMap.get("id");return this.orderService.getOrder(r)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.N))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),T=(()=>{class o{constructor(t){this.orderService=t}resolve(t){const r=S().startOf("month").format("YYYY-MM-DD hh:mm"),n=S().endOf("month").format("YYYY-MM-DD hh:mm");return this.orderService.updateOrderCommission({startDate:r,endDate:n})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.N))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ve=[{path:"",component:I,children:[{path:"list",component:Ae,resolve:{orders:D,commission:T,totalOrders:N}},{path:":id/details",component:Ke,resolve:{order:F,commission:T}}]}];let ke=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(Ve),p.Bz]}),o})();var We=d(1447),Xe=d(6005);let et=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[D,F,f.N,T,N],imports:[m.ez,ke,Xe.q,We.o9,h.UX,h.u5]}),o})()}}]);