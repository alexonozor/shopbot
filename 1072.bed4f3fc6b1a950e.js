"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[1072],{1072:(R,u,i)=>{i.r(u),i.d(u,{STORE_GROUP_OPTIONS_ROUTE:()=>y});var b=i(1269),l=i(177),_=i(6924),F=i(5085),C=i(9417),m=i(3617),c=i(9115),h=i(450),g=i(9213),d=i(8834),t=i(4020),O=i(7506),v=i(5351),f=i(8498),x=i(2920);function k(r,a){if(1&r){const o=t.RV6();t.j41(0,"tr",10)(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.k0s(),t.j41(5,"td",12),t.EFF(6),t.k0s(),t.j41(7,"td",12),t.EFF(8),t.k0s(),t.j41(9,"td",12)(10,"mat-slide-toggle",13),t.bIt("change",function(e){const s=t.eBV(o).$implicit,p=t.XpG(3);return t.Njj(p.updateEnabled(e,s._id))}),t.k0s()(),t.j41(11,"td",12)(12,"button",14),t.bIt("click",function(e){return t.eBV(o),t.Njj(e.stopPropagation())}),t.j41(13,"mat-icon"),t.EFF(14,"more_vert"),t.k0s()(),t.j41(15,"mat-menu",null,0)(17,"button",15),t.bIt("click",function(){const e=t.eBV(o),s=e.$implicit,p=e.$index,E=t.XpG(3);return t.Njj(E.delete(p,s._id))}),t.j41(18,"mat-icon"),t.EFF(19,"delete"),t.k0s(),t.EFF(20," Delete"),t.k0s(),t.j41(21,"button",15),t.bIt("click",function(){const e=t.eBV(o).$implicit,s=t.XpG(3);return t.Njj(s.editGroupOption(e))}),t.j41(22,"mat-icon"),t.EFF(23,"edit"),t.k0s(),t.EFF(24," Edit"),t.k0s()()()()}if(2&r){const o=a.$implicit,n=t.sdS(16);t.R7$(2),t.SpI(" ",o.name," "),t.R7$(2),t.SpI(" ",o.options.length," "),t.R7$(2),t.SpI(" ",o.atLeast," "),t.R7$(2),t.SpI(" ",o.atMost," "),t.R7$(2),t.Y8G("checked",o.enabled),t.R7$(2),t.Y8G("matMenuTriggerFor",n)}}function j(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",2)(1,"div",4)(2,"div",5)(3,"h2"),t.EFF(4,"Group Options"),t.k0s(),t.j41(5,"div")(6,"button",6),t.bIt("click",function(){t.eBV(o);const e=t.XpG(2);return t.Njj(e.addGroupOption())}),t.EFF(7,"Add Group Options"),t.k0s()()()(),t.j41(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),t.EFF(12," Name "),t.k0s(),t.j41(13,"th",9),t.EFF(14," Options "),t.k0s(),t.j41(15,"th",9),t.EFF(16," At Least "),t.k0s(),t.j41(17,"th",9),t.EFF(18," At Most "),t.k0s(),t.j41(19,"th",9),t.EFF(20," Enabled "),t.k0s(),t.j41(21,"th",9),t.EFF(22," Action "),t.k0s()()(),t.j41(23,"tbody"),t.Z7z(24,k,25,6,"tr",10,t.Vm6),t.k0s()()()}if(2&r){const o=t.XpG();t.R7$(24),t.Dyx(o)}}function G(r,a){if(1&r){const o=t.RV6();t.j41(0,"section",3)(1,"div",16),t.nrm(2,"img",17),t.j41(3,"div",18)(4,"h2",19),t.EFF(5,"It\u2019s a bit empty here"),t.k0s(),t.j41(6,"p",20),t.EFF(7,"Group options are ways to customize your product in variants"),t.k0s(),t.j41(8,"a",21),t.bIt("click",function(){t.eBV(o);const e=t.XpG(2);return t.Njj(e.addGroupOption())}),t.EFF(9,"Add First Group Option"),t.k0s()()()()}}function S(r,a){1&r&&t.DNE(0,j,26,0,"div",2)(1,G,10,0,"section",3),2&r&&t.vxM(a.length>0?0:1)}const y=[{path:"list",component:(()=>{class r{constructor(o,n,e,s,p){this.productService=o,this._matDialog=n,this.router=e,this.route=s,this._location=p,this.menus=[],this.store=this.route.parent?.parent?.parent?.parent?.parent?.snapshot.data.store}ngOnInit(){this.loadProducts()}loadProducts(){this.groupOptions$=this.productService.getStoreGroupOption(this.store._id)}delete(o,n){this.confirmDialogRef=this._matDialog.open(b.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Group Option?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this Option?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this.productService.deleteStoreGroup(n).subscribe(()=>{this.loadProducts()}),this.confirmDialogRef=null})}updateEnabled(o,n){this.productService.updateStoreGroupOption({enabled:o.checked},n).subscribe()}addGroupOption(){this._matDialog.open(m.P,{disableClose:!1,data:{storeId:this.store._id,pageType:"new"}}).afterClosed().subscribe(n=>{n&&this.loadProducts()})}editGroupOption(o){this._matDialog.open(m.P,{disableClose:!1,data:{storeId:this.store._id,option:o}}).afterClosed().subscribe(e=>{e&&this.loadProducts()})}viewMenu(o){this.router.navigate(["dashboard","stores",this.store._id,"details",o,"menu"])}goBack(){this._location.back()}static{this.\u0275fac=function(n){return new(n||r)(t.rXU(O.g),t.rXU(v.bZ),t.rXU(f.Ix),t.rXU(f.nX),t.rXU(l.aZ))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-store-group-options-list"]],features:[t.Jv_([F.b])],decls:3,vars:3,consts:[["menu2","matMenu"],[2,"height","100vh","position","relative"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"py-4","bg-neutral-50","overflow-hidden"],[1,"p-4","bg-white"],["fxLayout","row","fxLayoutAlign","space-between start",1,"p-3"],["mat-raised-button","","color","primary",3,"click"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b"],[1,"px-6","py-4","text-base","font-semibold"],[1,"px-6","py-4"],[3,"change","checked"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"container","px-4","mx-auto"],["src","dashy-assets/images/empty.png","alt","",1,"mx-auto"],[1,"max-w-md","mx-auto","text-center"],[1,"font-heading","mb-3","text-2xl","font-semibold"],[1,"mb-7","text-neutral-500"],[1,"inline-flex","px-6","py-2.5","text-sm","bg-primary-700","text-neutral-50","font-medium","rounded-lg","transition","duration-300",3,"click"]],template:function(n,e){if(1&n&&(t.j41(0,"div",1),t.DNE(1,S,2,1),t.nI1(2,"async"),t.k0s()),2&n){let s;t.R7$(),t.vxM((s=t.bMT(2,1,e.groupOptions$))?1:-1,s)}},dependencies:[l.MD,l.Jj,_.YF,x.DJ,x.sA,C.YN,c.Cn,c.kk,c.fb,c.Cp,h.mV,h.sG,g.m_,g.An,d.Hl,d.$z,d.iY],styles:[".example-list[_ngcontent-%COMP%]{width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}}return r})()},{path:"**",pathMatch:"full",redirectTo:"list"}]}}]);