"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[129],{4129:(ke,v,a)=>{a.r(v),a.d(v,{OrdersModule:()=>Se});var l=a(9808),c=a(6696),e=a(5e3);let w=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-orders"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[c.lC],encapsulation:2}),o})();var D=a(449),T=a(9062),d=a(4999),A=a(8392),m=a(2610),y=a(2349),_=a(7423),O=a(5245),N=a(7446),Z=a(2181),u=a(7093);function S(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",1)(1,"button",22),e._uU(2),e.qZA(),e.TgZ(3,"button",23)(4,"mat-icon",24),e._uU(5,"campaign"),e.qZA(),e._uU(6," Message Orders"),e.qZA(),e.TgZ(7,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSelected())}),e.TgZ(8,"mat-icon",24),e._uU(9,"delete"),e.qZA(),e._uU(10," Delete Selected Orders"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.hij("",t.selection.selected.length," Selected")}}function k(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"th",26)(1,"mat-checkbox",27),e.NdJ("change",function(i){e.CHM(t);const s=e.oxw();return e.KtG(i?s.toggleAllRows():null)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Y(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",28)(1,"mat-checkbox",29),e.NdJ("click",function(i){return i.stopPropagation()})("change",function(i){const p=e.CHM(t).$implicit,x=e.oxw();return e.KtG(i?x.selection.toggle(p):null)}),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw();e.xp6(1),e.Q6J("checked",n.selection.isSelected(t))("aria-label",n.checkboxLabel(t))}}function F(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"#"),e.qZA())}function M(o,r){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&o){const t=r.index;e.xp6(1),e.Oqu(t+1)}}function Q(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Order Id"),e.qZA())}function J(o,r){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(t.reference)}}function I(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Vendor Name"),e.qZA())}function R(o,r){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(null==t||null==t.store?null:t.store.name)}}function G(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Customer Name"),e.qZA())}function H(o,r){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(t.user?t.user.name:"Customer has been removed")}}function $(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Date"),e.qZA())}function z(o,r){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.createdAt,"medium"))}}function j(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Order Status"),e.qZA())}function P(o,r){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(t.status[0].name)}}function B(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Payment Status"),e.qZA())}function E(o,r){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(t.paymentStatus)}}function K(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Payment Type"),e.qZA())}function V(o,r){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(t.payment)}}function W(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Amount"),e.qZA())}function X(o,r){if(1&o&&(e.TgZ(0,"td",28),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.total))}}function ee(o,r){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Actions"),e.qZA())}const te=function(o){return["../",o,"details"]};function oe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",28)(1,"button",30)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,31)(6,"button",32),e.NdJ("click",function(){const i=e.CHM(t),s=i.$implicit,p=i.index,x=e.oxw();return e.KtG(x.deleteOrder(s._id,p))}),e.TgZ(7,"mat-icon",33),e._uU(8,"delete"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Delete"),e.qZA()(),e.TgZ(11,"button",34)(12,"mat-icon",33),e._uU(13,"visibility"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"View Order"),e.qZA()()()()}if(2&o){const t=r.$implicit,n=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",n),e.xp6(10),e.Q6J("routerLink",e.VKq(2,te,t._id))}}function ne(o,r){1&o&&e._UZ(0,"tr",35)}function re(o,r){1&o&&e._UZ(0,"tr",36)}const ie=function(){return[15,30,60]};let ae=(()=>{class o{constructor(t,n,i){this.route=t,this.orderService=n,this._matDialog=i,this.displayedColumns=["select","no","orderId","vendorName","customerName","date","status","paymentStatus","paymentType","amount","actions"],this.dataSource=new d.by([]),this.selection=new D.Ov(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new d.by(this.route.snapshot.data.orders)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(A.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete orders?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these orders?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&this.selection.selected.forEach((n,i)=>{this.dataSource.data.splice(i,1),this.dataSource=new d.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.orderService.deleteOrder(n._id).subscribe()})})}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteOrder(t,n){this.confirmDialogRef=this._matDialog.open(A.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Customer?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this order?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(i=>{i&&(this.dataSource.data.splice(n,1),this.dataSource=new d.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.orderService.deleteOrder(t).subscribe())})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.gz),e.Y36(m.N),e.Y36(y.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-orders"]],viewQuery:function(t,n){if(1&t&&e.Gf(T.NW,5),2&t){let i;e.iGM(i=e.CRH())&&(n.paginator=i.first)}},decls:44,vars:6,consts:[["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],[1,"text-2xl"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","no"],["matColumnDef","orderId"],["matColumnDef","vendorName"],["matColumnDef","customerName"],["matColumnDef","date"],["matColumnDef","status"],["matColumnDef","paymentStatus"],["matColumnDef","paymentType"],["matColumnDef","amount"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-button",""],["mat-stroked-button","","color","primary"],[1,"mat-18"],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1)(3,"span",2),e._uU(4,"Orders"),e.qZA()(),e.YNc(5,S,11,1,"span",3),e.qZA(),e.TgZ(6,"div",4)(7,"table",5),e.ynx(8,6),e.YNc(9,k,2,3,"th",7),e.YNc(10,Y,2,2,"td",8),e.BQk(),e.ynx(11,9),e.YNc(12,F,2,0,"th",7),e.YNc(13,M,2,1,"td",8),e.BQk(),e.ynx(14,10),e.YNc(15,Q,2,0,"th",7),e.YNc(16,J,2,1,"td",8),e.BQk(),e.ynx(17,11),e.YNc(18,I,2,0,"th",7),e.YNc(19,R,2,1,"td",8),e.BQk(),e.ynx(20,12),e.YNc(21,G,2,0,"th",7),e.YNc(22,H,2,1,"td",8),e.BQk(),e.ynx(23,13),e.YNc(24,$,2,0,"th",7),e.YNc(25,z,3,4,"td",8),e.BQk(),e.ynx(26,14),e.YNc(27,j,2,0,"th",7),e.YNc(28,P,2,1,"td",8),e.BQk(),e.ynx(29,15),e.YNc(30,B,2,0,"th",7),e.YNc(31,E,2,1,"td",8),e.BQk(),e.ynx(32,16),e.YNc(33,K,2,0,"th",7),e.YNc(34,V,2,1,"td",8),e.BQk(),e.ynx(35,17),e.YNc(36,W,2,0,"th",7),e.YNc(37,X,3,3,"td",8),e.BQk(),e.ynx(38,18),e.YNc(39,ee,2,0,"th",7),e.YNc(40,oe,16,4,"td",8),e.BQk(),e.YNc(41,ne,1,0,"tr",19),e.YNc(42,re,1,0,"tr",20),e.qZA(),e._UZ(43,"mat-paginator",21),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",n.selection.selected.length),e.xp6(2),e.Q6J("dataSource",n.dataSource),e.xp6(34),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(5,ie)))},dependencies:[l.O5,c.rH,_.lW,O.Hw,T.NW,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,N.oG,Z.VK,Z.OP,Z.p6,u.xw,u.SQ,u.Wh,l.H9,l.uU]}),o})();var se=a(8746),U=a(4641),de=a(8493),le=a(7261),ce=a(508),C=a(7322),ue=a(4107),g=a(4623),me=a(4834),pe=a(3322),f=a(3075);const ge=["pdfTable"];function fe(o,r){1&o&&(e.TgZ(0,"div",63)(1,"mat-icon",5),e._uU(2,"redeem"),e.qZA(),e._uU(3," It's a gift "),e.qZA())}function _e(o,r){1&o&&(e.TgZ(0,"mat-icon",21),e._uU(1,"close"),e.qZA())}function Ze(o,r){1&o&&(e.TgZ(0,"mat-icon",21),e._uU(1,"check"),e.qZA())}function he(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",64)(2,"button",65),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancelOrder(i.order))}),e.YNc(3,_e,2,0,"mat-icon",66),e._uU(4),e.qZA(),e.TgZ(5,"button",67),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.accept(i.order))}),e.YNc(6,Ze,2,0,"mat-icon",66),e._uU(7),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.isCanceling),e.xp6(1),e.Q6J("ngIf",!t.isCanceling),e.xp6(1),e.hij(" ",t.isCanceling?"CANCELLING....":"CANCEL ORDER"," "),e.xp6(2),e.Q6J("ngIf",!t.isAccepting),e.xp6(1),e.hij(" ",t.isAccepting?"ACCEPTING....":"ACCEPT ORDER"," ")}}function xe(o,r){if(1&o&&(e.TgZ(0,"mat-option",73),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ve(o,r){if(1&o&&(e.TgZ(0,"mat-option",73),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}const Te=function(){return["Paid","Unpaid"]};function Ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",68)(1,"mat-form-field",69)(2,"mat-label"),e._uU(3,"Payment Status"),e.qZA(),e.TgZ(4,"mat-select",70),e.NdJ("selectionChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.updatePaymentStatus(s.order,i))})("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.order.paymentStatus=i)}),e.YNc(5,xe,2,2,"mat-option",71),e.qZA()(),e.TgZ(6,"mat-form-field",69)(7,"mat-label"),e._uU(8,"Order Status"),e.qZA(),e.TgZ(9,"mat-select",72),e.NdJ("selectionChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.updateStatus(i,s.order))})("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.order.status[0].name=i)}),e.YNc(10,ve,2,2,"mat-option",71),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.order.paymentStatus),e.xp6(1),e.Q6J("ngForOf",e.DdM(5,Te)),e.xp6(4),e.Q6J("ngModel",t.order.status[0].name)("compareWith",t.compareFn),e.xp6(1),e.Q6J("ngForOf",t.statuses)}}function ye(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14),e._UZ(2,"img",15),e.TgZ(3,"h2",16),e._uU(4),e.qZA(),e.TgZ(5,"button",74),e._uU(6),e.qZA()(),e.TgZ(7,"mat-list",18)(8,"mat-list-item")(9,"mat-icon",19),e._uU(10,"phone_android"),e.qZA(),e.TgZ(11,"span",18),e._uU(12),e.qZA(),e.TgZ(13,"a",20)(14,"mat-icon",21),e._uU(15,"call"),e.qZA()()(),e._UZ(16,"mat-divider"),e.TgZ(17,"mat-list-item")(18,"mat-icon",19),e._uU(19,"location_on"),e.qZA(),e.TgZ(20,"span",18),e._uU(21),e.qZA(),e.TgZ(22,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.open())}),e.TgZ(23,"mat-icon",21),e._uU(24,"near_me"),e.qZA()()(),e._UZ(25,"mat-divider"),e.TgZ(26,"div",23),e._uU(27," Gift Note"),e.qZA(),e.TgZ(28,"mat-list-item")(29,"p"),e._uU(30),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.order.receiver.name),e.xp6(2),e.hij(" Gift Receiver (",t.order.receiver.surprise?"surprise":"Not surprise",") "),e.xp6(6),e.Oqu(t.order.receiver.phoneNumber),e.xp6(1),e.Q6J("href","tel:"+t.order.receiver.phoneNumber,e.LSH),e.xp6(8),e.Oqu(t.order.receiver.address.name+" "+t.order.receiver.address.administrativeArea+" "+t.order.receiver.address.locality),e.xp6(9),e.hij("",t.order.receiver.note||"No Notes"," ")}}function Oe(o,r){if(1&o&&(e.TgZ(0,"div",81),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&o){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.lnq(" ",t.quantity," x ",t.name," = ",e.xi3(2,3,t.quantity*t.price,n.order.store.currency)," ")}}function Ue(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td",34)(2,"div",54),e._UZ(3,"div",75),e.TgZ(4,"div",76)(5,"div",77),e._uU(6),e.qZA(),e.TgZ(7,"div",78),e.YNc(8,Oe,3,6,"div",79),e.qZA()()()(),e.TgZ(9,"td",34)(10,"div",40),e._uU(11),e.qZA()(),e.TgZ(12,"td",34)(13,"div",41),e._uU(14),e.ALo(15,"currency"),e.qZA()(),e.TgZ(16,"td",34)(17,"div",41),e._uU(18),e.ALo(19,"currency"),e.qZA()(),e.TgZ(20,"td",34)(21,"div",42)(22,"button",80)(23,"mat-icon",21),e._uU(24,"delete"),e.qZA()()()()()),2&o){const t=r.$implicit,n=e.oxw();e.xp6(6),e.Oqu(t.name),e.xp6(2),e.Q6J("ngForOf",t.options),e.xp6(3),e.Oqu(t.quantity),e.xp6(3),e.Oqu(e.xi3(15,5,t.price+n.optionsPrice(t.options),n.order.store.currency)),e.xp6(4),e.Oqu(e.xi3(19,8,(t.price+n.optionsPrice(t.options))*t.quantity,n.order.store.currency))}}function Ce(o,r){if(1&o&&(e.TgZ(0,"li",53)(1,"div",54)(2,"div",55),e.O4$(),e.TgZ(3,"svg",56),e._UZ(4,"path",57),e.qZA()(),e.kcU(),e._UZ(5,"div",58),e.qZA(),e.TgZ(6,"div",59)(7,"h3"),e._uU(8),e.qZA(),e.TgZ(9,"time",61),e._uU(10),e.ALo(11,"date"),e.qZA()()()),2&o){const t=r.$implicit;e.xp6(7),e.Tol("text-lg font-semibold "+t.color),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(11,4,null==t?null:t.updatedOn,"medium"))}}const qe=a(7238);U.vfs=de.I.vfs;let be=(()=>{class o{constructor(t,n,i,s,p){this.route=t,this.orderService=n,this._matDialog=i,this._matSnack=s,this.router=p,this.statuses=[{id:0,name:"Accepted",color:"text-yellow-700"},{id:1,name:"Preparing",color:"text-blue-500"},{id:2,name:"Ready for Pickup",color:"text-blue-500"},{id:4,name:"Shipped",color:"text-blue-500"},{id:3,name:"Canceled",color:"text-red-500"},{id:5,name:"Delivered",color:"text-green-500"}]}ngOnInit(){this.order=this.route.snapshot.data.order}optionsPrice(t){return t.reduce((n,i)=>n+i.price*i.quantity,0)}accept(t){this.isAccepting=!0,this.updateStatus({id:0,name:"Accepted",color:"text-yellow-700"},t,!1),t.category="Processing"}cancelOrder(t){this.isCanceling=!0,this.updateStatus({id:3,name:"Canceled",color:"text-red-500"},t,!1),t.category="Canceled"}updatePaymentStatus(t,n){this.orderService.updateOrder(t._id,{paymentStatus:n.value}).pipe((0,se.x)(()=>this.isCanceling=!1)).subscribe(i=>{t.paymentStatus=n.value,this._matSnack.open("Payment updated!","Close",{duration:3e3})})}compareFn(t,n){return t.name===n}updateStatus(t,n,i=!0){this.orderService.updateOrderStatus(n._id,n.user._id,i?t.value:t).subscribe(s=>{this.isCanceling=!1,this.isAccepting=!1,this._matSnack.open(`You have updated this order to ${t.value.name}`,"Close",{duration:3e3})})}exportPDF(){var n=qe(this.pdfTable.nativeElement.innerHTML);U.createPdf({content:n}).download()}open(){var t,n;window.open(`google.navigation:q=${null===(t=this.order.store.location)||void 0===t?void 0:t.coordinates[0]}+${null===(n=this.order.store.location)||void 0===n?void 0:n.coordinates[1]}`,"_blank")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.gz),e.Y36(m.N),e.Y36(y.uw),e.Y36(le.ux),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-orders-details"]],viewQuery:function(t,n){if(1&t&&e.Gf(ge,5),2&t){let i;e.iGM(i=e.CRH())&&(n.pdfTable=i.first)}},decls:256,vars:61,consts:[[1,"lg:flex","lg:items-center","lg:justify-between"],[1,"min-w-0","flex-1"],[1,"text-2xl","font-bold","leading-7","text-gray-900","sm:truncate","sm:text-3xl","sm:tracking-tight"],[1,"mt-1","flex","flex-col","sm:mt-0","sm:flex-row","sm:flex-wrap","sm:space-x-6"],[1,"mt-2","flex","items-center","text-sm","text-gray-500"],[1,"material-icons-outlined"],[1,"mt-2","flex","items-center","text-sm","text-black"],["class","mt-2 flex items-center text-sm text-pink-700",4,"ngIf"],[1,"mt-2","flex","items-center","text-sm","text-green-500","cursor-pointer",3,"click"],[4,"ngIf","ngIfElse"],["statusControl",""],["fxLayout.gt-md","row","fxLayoutAlign.gt-md","space-between start","fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","space-around stretch","fxLayoutGap","20px",1,"mt-10"],["fxLayout","column","fxLayoutAlign","space-between start","fxFlex","30%","fxLayoutGap","20px"],["fxLayout","column","fxLayoutAlign","start start",1,"mat-elevation-z2","rounded-md","w-full"],["fxLayout","column","fxLayoutAlign","space-around center",1,"w-full","p-3"],["src","https://davur.dexignzone.com/react/demo/static/media/1.7c3d5aa9.jpg","width","150","height","150",1,"rounded-full"],[1,"text-center","font-bolder"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-transparent","bg-green-600","px-4","py-2","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2"],[1,"w-full"],["matListIcon","",1,"material-icons-outlined"],["mat-icon-button","",3,"href"],[1,"mat-18"],["mat-icon-button","",3,"click"],["mat-subheader",""],["class","mat-elevation-z2  rounded-md w-full","fxLayout","column","fxLayoutAlign","start start",4,"ngIf"],[1,"mat-elevation-z2","rounded-md","w-full"],["width","150","height","150",1,"rounded-full",3,"src"],["fxFlex","70%","fxLayoutGap","20px"],["id","pdfTable",1,"mat-elevation-z2","p-3","rounded-md","w-full"],["pdfTable",""],[1,"p-3"],[1,"overflow-x-auto"],[1,"table-auto","w-full"],[1,"text-xs","font-semibold","uppercase","text-gray-400","bg-gray-50"],[1,"p-2","whitespace-nowrap"],[1,"font-semibold","text-left"],[1,"font-semibold","text-center"],[1,"text-sm","divide-y","divide-gray-100"],[4,"ngFor","ngForOf"],[1,"text-left","font-bold"],[1,"text-left"],[1,"text-left","font-medium","text-black"],[1,"text-lg","text-center"],[1,"text-left","font-medium","text-red-500"],[1,"bg-gray-700"],[1,"font-semibold","text-white","dark:white"],["scope","row",1,"py-3","px-6","whitespace-nowrap","text-base"],[1,"text-left","font-medium","text-white"],[1,"bg-blue-700"],[1,"bg-pink-700"],[1,"bg-green-700"],[1,"mat-elevation-z2","p-3","rounded-md","w-full","mt-5"],[1,"items-center","sm:flex"],[1,"relative","mb-6","sm:mb-0"],[1,"flex","items-center"],[1,"flex","z-10","justify-center","items-center","w-6","h-6","bg-blue-200","rounded-full","ring-0","ring-white","dark:bg-blue-900","sm:ring-8","dark:ring-gray-900","shrink-0"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-3","h-3","text-blue-600","dark:text-blue-300"],["fill-rule","evenodd","d","M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule","evenodd"],[1,"hidden","sm:flex","w-full","bg-gray-200","h-0.5","dark:bg-gray-700"],[1,"mt-3","sm:pr-8"],[1,"text-lg","font-semibold"],[1,"block","mb-2","text-sm","font-normal","leading-none","text-gray-400","dark:text-gray-500"],["class","relative mb-6 sm:mb-0",4,"ngFor","ngForOf"],[1,"mt-2","flex","items-center","text-sm","text-pink-700"],["fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","space-around stretch","ngClass.lt-lg","mt-10","fxLayoutGap","15px"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-red-500","bg-white","px-4","py-2","text-sm","font-medium","text-red-500","shadow-sm","hover:bg-red-50","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2",3,"disabled","click"],["class","mat-18",4,"ngIf"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-transparent","bg-green-600","px-4","py-2","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"click"],["fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","space-around stretch","ngClass.lt-lg","mt-10","fxLayoutGap.gt-md","10px"],["appearance","outline"],[3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","compareWith","selectionChange","ngModelChange"],[3,"value"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-transparent","bg-pink-600","px-4","py-2","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2"],[1,"w-10","h-10","flex-shrink-0","mr-2","sm:mr-3"],["fxLayout","column","fxLayoutAlign","start start"],[1,"font-medium","text-blue-800"],["fxLayout","column","fxLayoutAlign","space-around start"],["class","font-medium text-gray-800",4,"ngFor","ngForOf"],["mat-icon-button","","color","warm"],[1,"font-medium","text-gray-800"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"mat-icon",5),e._uU(7,"card_travel"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"div",4)(10,"mat-icon",5),e._uU(11,"credit_score"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"div",6)(14,"mat-icon",5),e._uU(15,"money"),e.qZA(),e._uU(16),e.ALo(17,"currency"),e.qZA(),e.TgZ(18,"div",4)(19,"mat-icon",5),e._uU(20,"calendar_today"),e.qZA(),e._uU(21),e.ALo(22,"date"),e.qZA(),e.YNc(23,fe,4,0,"div",7),e.TgZ(24,"div",8),e.NdJ("click",function(){return n.exportPDF()}),e.TgZ(25,"mat-icon",5),e._uU(26,"print"),e.qZA(),e._uU(27," Export Order "),e.qZA()()(),e.YNc(28,he,8,5,"ng-container",9),e.YNc(29,Ae,11,6,"ng-template",null,10,e.W1O),e.qZA(),e.TgZ(31,"div",11)(32,"div",12)(33,"div",13)(34,"div",14),e._UZ(35,"img",15),e.TgZ(36,"h2",16),e._uU(37),e.qZA(),e.TgZ(38,"button",17),e._uU(39," Customer "),e.qZA()(),e.TgZ(40,"mat-list",18)(41,"mat-list-item")(42,"mat-icon",19),e._uU(43,"phone_android"),e.qZA(),e.TgZ(44,"span",18),e._uU(45),e.qZA(),e.TgZ(46,"a",20)(47,"mat-icon",21),e._uU(48,"call"),e.qZA()()(),e._UZ(49,"mat-divider"),e.TgZ(50,"mat-list-item")(51,"mat-icon",19),e._uU(52,"location_on"),e.qZA(),e.TgZ(53,"span",18),e._uU(54),e.qZA(),e.TgZ(55,"button",22),e.NdJ("click",function(){return n.open()}),e.TgZ(56,"mat-icon",21),e._uU(57,"near_me"),e.qZA()()(),e._UZ(58,"mat-divider"),e.TgZ(59,"div",23),e._uU(60,"Order Note"),e.qZA(),e.TgZ(61,"mat-list-item")(62,"p"),e._uU(63),e.qZA()()()(),e.YNc(64,ye,31,6,"div",24),e.TgZ(65,"div",25)(66,"div",14),e._UZ(67,"img",26),e.TgZ(68,"h2",16),e._uU(69),e.qZA(),e.TgZ(70,"button",17),e._uU(71," Restaurant "),e.qZA()(),e.TgZ(72,"mat-list",18)(73,"mat-list-item")(74,"mat-icon",19),e._uU(75,"phone_android"),e.qZA(),e.TgZ(76,"span",18),e._uU(77),e.qZA(),e.TgZ(78,"a",20)(79,"mat-icon",21),e._uU(80,"call"),e.qZA()()(),e._UZ(81,"mat-divider"),e.TgZ(82,"mat-list-item")(83,"mat-icon",19),e._uU(84,"mail"),e.qZA(),e._uU(85),e.qZA(),e._UZ(86,"mat-divider"),e.TgZ(87,"mat-list-item")(88,"mat-icon",19),e._uU(89,"location_on"),e.qZA(),e._uU(90),e.qZA(),e._UZ(91,"mat-divider"),e.qZA()()(),e.TgZ(92,"div",27)(93,"div",28,29)(95,"div",30)(96,"div",31)(97,"table",32)(98,"thead",33)(99,"tr")(100,"th",34)(101,"div",35),e._uU(102,"Items"),e.qZA()(),e.TgZ(103,"th",34)(104,"div",35),e._uU(105," Qty"),e.qZA()(),e.TgZ(106,"th",34)(107,"div",35),e._uU(108,"Price"),e.qZA()(),e.TgZ(109,"th",34)(110,"div",35),e._uU(111,"Total Price"),e.qZA()(),e.TgZ(112,"th",34)(113,"div",36),e._uU(114,"Action"),e.qZA()()()(),e.TgZ(115,"tbody",37),e.YNc(116,Ue,25,11,"tr",38),e.TgZ(117,"tr")(118,"td",34)(119,"div",39),e._uU(120,"Service Fee"),e.qZA()(),e.TgZ(121,"td",34)(122,"div",40),e._uU(123,"-"),e.qZA()(),e.TgZ(124,"td",34)(125,"div",41),e._uU(126,"-"),e.qZA()(),e.TgZ(127,"td",34)(128,"div",41),e._uU(129),e.ALo(130,"currency"),e.qZA()(),e.TgZ(131,"td",34)(132,"div",42),e._uU(133," - "),e.qZA()()(),e.TgZ(134,"tr")(135,"td",34)(136,"div",39),e._uU(137,"Shipping Fee"),e.qZA()(),e.TgZ(138,"td",34)(139,"div",40),e._uU(140,"-"),e.qZA()(),e.TgZ(141,"td",34)(142,"div",43),e._uU(143,"-"),e.qZA()(),e.TgZ(144,"td",34)(145,"div",43),e._uU(146),e.ALo(147,"currency"),e.qZA()(),e.TgZ(148,"td",34)(149,"div",42),e._uU(150," - "),e.qZA()()(),e.TgZ(151,"tr")(152,"td",34)(153,"div",39),e._uU(154,"Discount"),e.qZA()(),e.TgZ(155,"td",34)(156,"div",40),e._uU(157,"-"),e.qZA()(),e.TgZ(158,"td",34)(159,"div",41),e._uU(160,"-"),e.qZA()(),e.TgZ(161,"td",34)(162,"div",41),e._uU(163),e.ALo(164,"currency"),e.qZA()(),e.TgZ(165,"td",34)(166,"div",42),e._uU(167," - "),e.qZA()()()(),e.TgZ(168,"tfoot",44)(169,"tr",45)(170,"th",46)(171,"div",39),e._uU(172,"Total"),e.qZA()(),e.TgZ(173,"td",34)(174,"div",40),e._uU(175,"-"),e.qZA()(),e.TgZ(176,"td",34)(177,"div",47),e._uU(178,"-"),e.qZA()(),e.TgZ(179,"td",34)(180,"div",47),e._uU(181),e.ALo(182,"currency"),e.qZA()(),e.TgZ(183,"td",34)(184,"div",42),e._uU(185," - "),e.qZA()()()(),e.TgZ(186,"tfoot",48)(187,"tr",45)(188,"th",46)(189,"div",39),e._uU(190,"Total Vendor Commission"),e.qZA()(),e.TgZ(191,"td",34)(192,"div",40),e._uU(193,"-"),e.qZA()(),e.TgZ(194,"td",34)(195,"div",47),e._uU(196,"-"),e.qZA()(),e.TgZ(197,"td",34)(198,"div",47),e._uU(199),e.ALo(200,"currency"),e.qZA()(),e.TgZ(201,"td",34)(202,"div",42),e._uU(203," - "),e.qZA()()()(),e.TgZ(204,"tfoot",49)(205,"tr",45)(206,"th",46)(207,"div",39),e._uU(208,"Vendor Receive's"),e.qZA()(),e.TgZ(209,"td",34)(210,"div",40),e._uU(211,"-"),e.qZA()(),e.TgZ(212,"td",34)(213,"div",47),e._uU(214,"-"),e.qZA()(),e.TgZ(215,"td",34)(216,"div",47),e._uU(217),e.ALo(218,"currency"),e.qZA()(),e.TgZ(219,"td",34)(220,"div",42),e._uU(221," - "),e.qZA()()()(),e.TgZ(222,"tfoot",50)(223,"tr",45)(224,"th",46)(225,"div",39),e._uU(226,"Shopbot Receives"),e.qZA()(),e.TgZ(227,"td",34)(228,"div",40),e._uU(229,"-"),e.qZA()(),e.TgZ(230,"td",34)(231,"div",47),e._uU(232,"-"),e.qZA()(),e.TgZ(233,"td",34)(234,"div",47),e._uU(235),e.ALo(236,"currency"),e.qZA()(),e.TgZ(237,"td",34)(238,"div",42),e._uU(239," - "),e.qZA()()()()()()()(),e.TgZ(240,"div",51)(241,"div",30)(242,"ol",52)(243,"li",53)(244,"div",54)(245,"div",55),e.O4$(),e.TgZ(246,"svg",56),e._UZ(247,"path",57),e.qZA()(),e.kcU(),e._UZ(248,"div",58),e.qZA(),e.TgZ(249,"div",59)(250,"h3",60),e._uU(251,"Order Created"),e.qZA(),e.TgZ(252,"time",61),e._uU(253),e.ALo(254,"date"),e.qZA()()(),e.YNc(255,Ce,12,7,"li",62),e.qZA()()()()()),2&t){const i=e.MAs(30);e.xp6(3),e.hij("Order ID #",n.order.reference,""),e.xp6(5),e.hij(" ",n.order.payment," "),e.xp6(4),e.hij(" ",n.order.paymentStatus," "),e.xp6(4),e.hij(" ",e.xi3(17,31,n.order.total,"\u20a6")," "),e.xp6(5),e.hij(" ",e.xi3(22,34,n.order.createdAt,"medium")," "),e.xp6(2),e.Q6J("ngIf",n.order.gift),e.xp6(5),e.Q6J("ngIf","New"==n.order.category)("ngIfElse",i),e.xp6(9),e.Oqu(n.order.user.name),e.xp6(8),e.Oqu(n.order.user.phoneNumber),e.xp6(1),e.Q6J("href","tel:"+n.order.user.phoneNumber,e.LSH),e.xp6(8),e.Oqu(n.order.shipping.name+" "+n.order.shipping.administrativeArea+" "+n.order.shipping.locality),e.xp6(9),e.hij("",n.order.orderInstruction||"No Notes"," "),e.xp6(1),e.Q6J("ngIf",n.order.gift),e.xp6(3),e.Q6J("src",n.order.store.logo,e.LSH),e.xp6(2),e.Oqu(n.order.store.name),e.xp6(8),e.Oqu(n.order.store.contactInfo.phone),e.xp6(1),e.Q6J("href","tel:"+n.order.store.contactInfo.phone,e.LSH),e.xp6(7),e.hij("",n.order.store.contactInfo.email," "),e.xp6(5),e.hij(" ",n.order.store.contactInfo.placeNumber+" "+n.order.store.contactInfo.placeName+" "+n.order.store.contactInfo.address||"No Address"," "),e.xp6(26),e.Q6J("ngForOf",n.order.cart.products),e.xp6(13),e.Oqu(e.xi3(130,37,n.order.serviceFee,n.order.store.currency)),e.xp6(17),e.Oqu(e.xi3(147,40,n.order.shippingFee,n.order.store.currency)),e.xp6(17),e.Oqu(e.xi3(164,43,n.order.discount,n.order.store.currency)),e.xp6(18),e.hij(" ",e.xi3(182,46,n.order.total,n.order.store.currency)," "),e.xp6(18),e.AsE(" ",e.xi3(200,49,(n.order.total-n.order.serviceFee-n.order.shippingFee)/100*n.order.vendorCommission,n.order.store.currency)," (",n.order.vendorCommission,"%) "),e.xp6(18),e.hij(" ",e.xi3(218,52,n.order.total-n.order.serviceFee-n.order.shippingFee-(n.order.total-n.order.serviceFee-n.order.shippingFee)/100*n.order.vendorCommission,n.order.store.currency)," "),e.xp6(18),e.hij(" ",e.xi3(236,55,n.order.total-(n.order.total-n.order.serviceFee-n.order.shippingFee-(n.order.total-n.order.serviceFee-n.order.shippingFee)/100*n.order.vendorCommission),n.order.store.currency)," "),e.xp6(18),e.Oqu(e.xi3(254,58,n.order.createdAt,"medium")),e.xp6(2),e.Q6J("ngForOf",n.order.status)}},dependencies:[l.sg,l.O5,ce.ey,_.lW,_.zs,C.KE,C.hX,O.Hw,ue.gD,g.i$,g.Tg,g.Nh,g.gs,me.d,u.xw,u.SQ,u.Wh,u.yH,pe.oO,f.JJ,f.On,l.H9,l.uU]}),o})();var q=a(5439);let b=(()=>{class o{constructor(t){this.orderService=t}resolve(){return this.orderService.getOrders({data:{$match:{}},control:[{$sort:{createdAt:-1}}]})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(m.N))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),L=(()=>{class o{constructor(t){this.orderService=t}resolve(t){const n=t.paramMap.get("id");return this.orderService.getOrder(n)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(m.N))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),h=(()=>{class o{constructor(t){this.orderService=t}resolve(t){const n=q().startOf("month").format("YYYY-MM-DD hh:mm"),i=q().endOf("month").format("YYYY-MM-DD hh:mm");return this.orderService.updateOrderCommission({startDate:n,endDate:i})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(m.N))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Le=[{path:"",component:w,children:[{path:"list",component:ae,resolve:{orders:b,commission:h}},{path:":id/details",component:be,resolve:{order:L,commission:h}}]}];let we=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(Le),c.Bz]}),o})();var De=a(2155),Ne=a(5221);let Se=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[b,L,m.N,h],imports:[l.ez,we,Ne.q,De.o9,f.UX,f.u5]}),o})()}}]);