"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[567],{567:(ft,v,r)=>{r.r(v),r.d(v,{AdminModule:()=>pt});var d=r(9808),u=r(6696),t=r(5e3);let L=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin"]],decls:1,vars:0,template:function(n,i){1&n&&t._UZ(0,"router-outlet")},dependencies:[u.lC]}),e})();var U=r(449),x=r(9062),l=r(4999),C=r(8392),q=r(2340),F=r(520);let h=(()=>{class e{constructor(n){this._httpClient=n,this.hostServer=q.N.hostServer}createAdmin(n){return this._httpClient.post(`${this.hostServer}/staffs`,n)}getAdmins(){return this._httpClient.get(`${this.hostServer}/staffs`)}getAdmin(n){return this._httpClient.get(`${this.hostServer}/staffs/${n}`)}deleteAdmin(n){return this._httpClient.delete(`${this.hostServer}/staffs/${n}`)}updateAdmin(n,i){return this._httpClient.put(`${this.hostServer}/staffs/${n}`,i)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(F.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var D=r(2349),g=r(7423),w=r(5245),k=r(7446),_=r(2181),s=r(7093);function J(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"span",1)(1,"button",19),t._uU(2),t.qZA(),t.TgZ(3,"button",20),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.deleteSelected())}),t.TgZ(4,"mat-icon",18),t._uU(5,"delete"),t.qZA(),t._uU(6," Delete Selected Administrators "),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.hij("",n.selection.selected.length," Selected")}}function Y(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"th",21)(1,"mat-checkbox",22),t.NdJ("change",function(a){t.CHM(n);const c=t.oxw();return t.KtG(a?c.toggleAllRows():null)}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())("aria-label",n.checkboxLabel())}}function Q(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",23)(1,"mat-checkbox",24),t.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const p=t.CHM(n).$implicit,f=t.oxw();return t.KtG(a?f.selection.toggle(p):null)}),t.qZA()()}if(2&e){const n=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(n))("aria-label",i.checkboxLabel(n))}}function I(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Name"),t.qZA())}function R(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.name)}}function M(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Phone Number"),t.qZA())}function O(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.phoneNumber)}}function $(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Email"),t.qZA())}function G(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.email)}}function z(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Registered at"),t.qZA())}function E(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,n.createdAt,"short"))}}function B(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Actions"),t.qZA())}const H=function(e){return["../",e,"details"]};function P(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",23)(1,"button",25)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,26)(6,"button",27),t.NdJ("click",function(){const a=t.CHM(n),c=a.$implicit,p=a.index,f=t.oxw();return t.KtG(f.deleteAdmin(c._id,p))}),t.TgZ(7,"mat-icon",28),t._uU(8,"delete"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Delete"),t.qZA()(),t.TgZ(11,"button",29)(12,"mat-icon",28),t._uU(13,"person"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Profile"),t.qZA()()()()}if(2&e){const n=o.$implicit,i=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(10),t.Q6J("routerLink",t.VKq(2,H,n._id))}}function X(e,o){1&e&&t._UZ(0,"tr",30)}function V(e,o){1&e&&t._UZ(0,"tr",31)}const K=function(){return[15,30,60]},W=function(){return["../","new"]};let j=(()=>{class e{constructor(n,i,a){this.route=n,this.adminService=i,this._matDialog=a,this.displayedColumns=["select","Name","phoneNumber","email","phoneNumber","createdAt","actions"],this.dataSource=new l.by([]),this.selection=new U.Ov(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new l.by(this.route.snapshot.data.admins)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(C.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete administrators?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these administrators?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this.selection.selected.forEach((i,a)=>{this.dataSource.data.splice(a,1),this.dataSource=new l.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.adminService.deleteAdmin(i._id).subscribe()})})}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row ${n.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteAdmin(n,i){this.confirmDialogRef=this._matDialog.open(C.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Administrator?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this administrator?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(a=>{a&&(this.dataSource.data.splice(i,1),this.dataSource=new l.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.adminService.deleteAdmin(n).subscribe())})}message(n){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.gz),t.Y36(h),t.Y36(D.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-admin"]],viewQuery:function(n,i){if(1&n&&t.Gf(x.NW,5),2&n){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first)}},decls:33,vars:8,consts:[["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","phoneNumber"],["matColumnDef","email"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["fxLayout","row","fxLayoutAlign","end center",1,"m-5"],["mat-fab","","color","primary",1,"m-10",3,"routerLink"],[1,"mat-18"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.TgZ(0,"div")(1,"div",0)(2,"span",1)(3,"span"),t._uU(4,"Administrators"),t.qZA()(),t.YNc(5,J,7,1,"span",2),t.qZA(),t.TgZ(6,"div",3)(7,"table",4),t.ynx(8,5),t.YNc(9,Y,2,3,"th",6),t.YNc(10,Q,2,2,"td",7),t.BQk(),t.ynx(11,8),t.YNc(12,I,2,0,"th",6),t.YNc(13,R,2,1,"td",7),t.BQk(),t.ynx(14,9),t.YNc(15,M,2,0,"th",6),t.YNc(16,O,2,1,"td",7),t.BQk(),t.ynx(17,10),t.YNc(18,$,2,0,"th",6),t.YNc(19,G,2,1,"td",7),t.BQk(),t.ynx(20,11),t.YNc(21,z,2,0,"th",6),t.YNc(22,E,3,4,"td",7),t.BQk(),t.ynx(23,12),t.YNc(24,B,2,0,"th",6),t.YNc(25,P,16,4,"td",7),t.BQk(),t.YNc(26,X,1,0,"tr",13),t.YNc(27,V,1,0,"tr",14),t.qZA(),t._UZ(28,"mat-paginator",15),t.qZA(),t.TgZ(29,"div",16)(30,"button",17)(31,"mat-icon",18),t._uU(32,"add"),t.qZA()()()()),2&n&&(t.xp6(5),t.Q6J("ngIf",i.selection.selected.length),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,K)),t.xp6(2),t.Q6J("routerLink",t.DdM(7,W)))},dependencies:[d.O5,u.rH,g.lW,w.Hw,x.NW,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,k.oG,_.VK,_.OP,_.p6,s.xw,s.SQ,s.Wh,d.uU]}),e})();var m=r(3075),b=r(508),A=r(7322),T=r(7531),y=r(4107);function tt(e,o){if(1&e&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function et(e,o){if(1&e&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n._id),t.xp6(1),t.Oqu(n.name)}}const nt=function(){return["Male","Female"]};let ot=(()=>{class e{constructor(n,i,a,c){this.fb=n,this.adminService=i,this.location=a,this.route=c,this.administratorForm=this.fb.group({name:["",m.kI.required],phoneNumber:["",m.kI.required],gender:["",m.kI.required],email:["",m.kI.email],password:["",m.kI.required],role:["",m.kI.required]}),this.roles=this.route.snapshot.data.roles}ngOnInit(){}submit(){this.administratorForm.valid&&this.adminService.createAdmin(this.administratorForm.getRawValue()).subscribe(n=>{this.location.back()})}back(){this.location.back()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.qu),t.Y36(h),t.Y36(d.Ye),t.Y36(u.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-create-admin"]],decls:34,vars:5,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Full Name","formControlName","name"],["matInput","","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","placeholder","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["formControlName","role"],["matInput","","type","password","placeholder","Password","formControlName","password"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Full Name"),t.qZA(),t._UZ(6,"input",4),t.qZA(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Phone Number"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"mat-form-field",3)(12,"mat-label"),t._uU(13,"Email"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Gender"),t.qZA(),t.TgZ(18,"mat-select",7),t.YNc(19,tt,2,2,"mat-option",8),t.qZA()(),t.TgZ(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Select Roles"),t.qZA(),t.TgZ(23,"mat-select",9),t.YNc(24,et,2,2,"mat-option",8),t.qZA()(),t.TgZ(25,"mat-form-field",3)(26,"mat-label"),t._uU(27,"Password"),t.qZA(),t._UZ(28,"input",10),t.qZA(),t.TgZ(29,"div",11)(30,"a",12),t.NdJ("click",function(){return i.back()}),t._uU(31,"CANCEL"),t.qZA(),t.TgZ(32,"button",13),t._uU(33,"SAVE"),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",i.administratorForm),t.xp6(18),t.Q6J("ngForOf",t.DdM(4,nt)),t.xp6(5),t.Q6J("ngForOf",i.roles),t.xp6(8),t.Q6J("disabled",i.administratorForm.invalid))},dependencies:[d.sg,b.ey,g.lW,g.zs,A.KE,A.hX,T.Nt,y.gD,s.xw,s.SQ,s.Wh,s.yH,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u]}),e})(),S=(()=>{class e{constructor(n){this.adminService=n}resolve(){return this.adminService.getAdmins()}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),N=(()=>{class e{constructor(n){this.adminService=n}resolve(n){const i=n.paramMap.get("id");return this.adminService.getAdmin(i)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(h))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function it(e,o){if(1&e&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function at(e,o){if(1&e&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n._id),t.xp6(1),t.Oqu(n.name)}}const rt=function(){return["Male","Female"]};let mt=(()=>{class e{constructor(n,i,a,c){var p,f;this.fb=n,this.adminService=i,this.location=a,this.route=c,this.roles=this.route.snapshot.data.roles,this.admin=this.route.snapshot.data.admin,this.administratorForm=this.fb.group({name:[this.admin.name,m.kI.required],phoneNumber:[this.admin.phoneNumber,m.kI.required],gender:[this.admin.gender,m.kI.required],email:[this.admin.email,m.kI.email],role:[null===(f=null===(p=this.admin)||void 0===p?void 0:p.role)||void 0===f?void 0:f._id,m.kI.required]})}ngOnInit(){}submit(){this.administratorForm.valid&&this.adminService.updateAdmin(this.admin._id,this.administratorForm.getRawValue()).subscribe(n=>{this.location.back()})}back(){this.location.back()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.qu),t.Y36(h),t.Y36(d.Ye),t.Y36(u.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-details"]],decls:30,vars:5,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Full Name","formControlName","name"],["matInput","","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","placeholder","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["formControlName","role"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Full Name"),t.qZA(),t._UZ(6,"input",4),t.qZA(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Phone Number"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"mat-form-field",3)(12,"mat-label"),t._uU(13,"Email"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Gender"),t.qZA(),t.TgZ(18,"mat-select",7),t.YNc(19,it,2,2,"mat-option",8),t.qZA()(),t.TgZ(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Select Roles"),t.qZA(),t.TgZ(23,"mat-select",9),t.YNc(24,at,2,2,"mat-option",8),t.qZA()(),t.TgZ(25,"div",10)(26,"a",11),t.NdJ("click",function(){return i.back()}),t._uU(27,"CANCEL"),t.qZA(),t.TgZ(28,"button",12),t._uU(29,"SAVE"),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",i.administratorForm),t.xp6(18),t.Q6J("ngForOf",t.DdM(4,rt)),t.xp6(5),t.Q6J("ngForOf",i.roles),t.xp6(4),t.Q6J("disabled",i.administratorForm.invalid))},dependencies:[d.sg,b.ey,g.lW,g.zs,A.KE,A.hX,T.Nt,y.gD,s.xw,s.SQ,s.Wh,s.yH,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u]}),e})();var Z=r(3475);const lt=[{path:"",component:L,children:[{path:"list",component:j,resolve:{admins:S}},{path:"new",component:ot,resolve:{roles:Z.T}},{path:":id/details",component:mt,resolve:{admin:N,roles:Z.T}}]}];let st=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(lt),u.Bz]}),e})();var ct=r(2155),dt=r(5221),ut=r(6614);let pt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[S,N,h,ut.$,Z.T],imports:[d.ez,st,dt.q,ct.o9,m.UX]}),e})()}}]);