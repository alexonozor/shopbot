"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[592],{4382:(g,h,s)=>{s.d(h,{D:()=>y});var i=s(3075),o=s(2349),l=s(1159),e=s(5e3),r=s(2152),a=s(9808),t=s(508),u=s(7423),d=s(6688),C=s(7322),E=s(5245),M=s(7531),O=s(4107),f=s(7093);function P(_,m){if(1&_){const n=e.EpF();e.TgZ(0,"mat-chip",18),e.NdJ("removed",function(){const v=e.CHM(n).$implicit,U=e.oxw(2);return e.KtG(U.remove(v))}),e._uU(1),e.TgZ(2,"button",19)(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&_){const n=m.$implicit;e.xp6(1),e.hij(" ",n.value.name," ")}}function D(_,m){if(1&_){const n=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field",13)(2,"mat-label"),e._uU(3,"Recipients"),e.qZA(),e.TgZ(4,"mat-chip-list",14,15),e.YNc(6,P,5,1,"mat-chip",16),e.TgZ(7,"input",17),e.NdJ("matChipInputTokenEnd",function(p){e.CHM(n);const v=e.oxw();return e.KtG(v.add(p))}),e.qZA()()(),e.BQk()}if(2&_){const n=e.MAs(5),c=e.oxw();e.xp6(6),e.Q6J("ngForOf",c.recipients.controls),e.xp6(1),e.Q6J("matChipInputFor",n)("matChipInputSeparatorKeyCodes",c.separatorKeysCodes)("matChipInputAddOnBlur",c.addOnBlur)}}function T(_,m){if(1&_&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&_){const n=m.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}const R=function(){return["Registered Customers","Unregistered Customers","Both"]};function S(_,m){1&_&&(e.TgZ(0,"mat-form-field")(1,"mat-label"),e._uU(2,"Select Recipients"),e.qZA(),e.TgZ(3,"mat-select",20),e.YNc(4,T,2,2,"mat-option",8),e.qZA()()),2&_&&(e.xp6(4),e.Q6J("ngForOf",e.DdM(1,R)))}function I(_,m){if(1&_&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&_){const n=m.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(n)}}const A=function(){return["Notification","Email","Both"]};let y=(()=>{class _{constructor(n,c,p,v){this.fb=n,this.notificationsService=c,this.dialogRef=p,this.data=v,this.messagesForm=this.fb.group({title:["",i.kI.required],body:["",i.kI.required],recipients:this.fb.array([]),type:["",i.kI.required],recipientsType:[""]}),this.addOnBlur=!0,this.separatorKeysCodes=[l.K5,l.OC],this.recipientsData=[]}ngOnInit(){this.data.allCustomers||(this.data.isBulkMsg?(this.recipientsData=this.data.customers,this.recipientsData.forEach(n=>{n.phoneCredentials.length>0&&this.addRecipients(n)})):(this.recipientsData.push(this.data.customers),this.recipientsData.map(n=>this.addRecipients(n))))}get recipients(){return this.messagesForm.controls.recipients}addRecipients(n){const c=this.fb.group({name:[n.name],id:[n._id],phoneToken:[n.phoneCredentials]});this.recipients.push(c)}deleteRecipient(n){this.recipients.removeAt(n)}submit(){this.notificationsService.createNotification(this.messagesForm.getRawValue()).subscribe(n=>{this.dialogRef.close(n)})}add(n){const c=(n.value||"").trim();c&&this.recipientsData.push({name:c}),n.chipInput.clear()}remove(n){const c=this.recipientsData.indexOf(n);c>=0&&this.recipientsData.splice(c,1)}edit(n,c){const p=c.value.trim();if(!p)return void this.remove(n);const v=this.recipientsData.indexOf(n);v>0&&(this.recipientsData[v].name=p)}}return _.\u0275fac=function(n){return new(n||_)(e.Y36(i.qu),e.Y36(r.T),e.Y36(o.so),e.Y36(o.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-create-messages"]],decls:25,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["fxLayout","column","fxLayoutAlign","space-around stretch",3,"formGroup"],[4,"ngIf","ngIfElse"],["selectRecipient",""],["appearance","fill"],["matInput","","placeholder","Enter Message Title","formControlName","title"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Enter Message Body","rows","20","formControlName","body"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"disabled","click"],["appearance","fill",1,"example-chip-list"],["aria-label","Fruit selection","formArrayName","recipients"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"removed"],["matChipRemove",""],["formControlName","recipientsType"],[3,"value"]],template:function(n,c){if(1&n&&(e.TgZ(0,"h1",0),e._uU(1,"Send Notification"),e.qZA(),e.TgZ(2,"div",1)(3,"form",2),e.YNc(4,D,8,4,"ng-container",3),e.YNc(5,S,5,2,"ng-template",null,4,e.W1O),e.TgZ(7,"mat-form-field",5)(8,"mat-label"),e._uU(9,"Title"),e.qZA(),e._UZ(10,"input",6),e.qZA(),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Select Message Type"),e.qZA(),e.TgZ(14,"mat-select",7),e.YNc(15,I,2,2,"mat-option",8),e.qZA()(),e.TgZ(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"body"),e.qZA(),e._UZ(19,"textarea",9),e.qZA()()(),e.TgZ(20,"div",10)(21,"button",11),e._uU(22,"Cancel"),e.qZA(),e.TgZ(23,"button",12),e.NdJ("click",function(){return c.submit()}),e._uU(24,"Send"),e.qZA()()),2&n){const p=e.MAs(6);e.xp6(3),e.Q6J("formGroup",c.messagesForm),e.xp6(1),e.Q6J("ngIf",!c.data.allCustomers)("ngIfElse",p),e.xp6(11),e.Q6J("ngForOf",e.DdM(6,A)),e.xp6(6),e.Q6J("mat-dialog-close",null),e.xp6(2),e.Q6J("disabled",c.messagesForm.invalid)}},dependencies:[a.sg,a.O5,t.ey,u.lW,d.qn,d.HS,d.oH,d.qH,C.KE,C.hX,E.Hw,M.Nt,O.gD,o.ZT,o.uh,o.xY,o.H8,f.xw,f.Wh,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,i.CE]}),_})()},4186:(g,h,s)=>{s.d(h,{e:()=>l,i:()=>e});var i=s(5e3),o=s(7408);let l=(()=>{class r{constructor(t){this.categoryService=t}resolve(){return this.categoryService.getCategories()}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(o.G))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),e=(()=>{class r{constructor(t){this.categoryService=t}resolve(t){const u=t.paramMap.get("id");return this.categoryService.getCategory(u)}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(o.G))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},4703:(g,h,s)=>{s.d(h,{K:()=>l,d:()=>e});var i=s(5e3),o=s(2442);let l=(()=>{class r{constructor(t){this.merchantService=t}resolve(){return this.merchantService.getMerchants()}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(o.S))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),e=(()=>{class r{constructor(t){this.merchantService=t}resolve(t){const u=t.paramMap.get("id");return this.merchantService.getMerchant(u)}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(o.S))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},3475:(g,h,s)=>{s.d(h,{T:()=>l,f:()=>e});var i=s(5e3),o=s(6614);let l=(()=>{class r{constructor(t){this.permissionService=t}resolve(){return this.permissionService.getPermissions()}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(o.$))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),e=(()=>{class r{constructor(t){this.permissionService=t}resolve(t){const u=t.paramMap.get("id");return this.permissionService.getPermission(u)}}return r.\u0275fac=function(t){return new(t||r)(i.LFG(o.$))},r.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},7408:(g,h,s)=>{s.d(h,{G:()=>e});var i=s(2340),o=s(5e3),l=s(520);let e=(()=>{class r{constructor(t){this._httpClient=t,this.hostServer=i.N.hostServer}getCategories(){return this._httpClient.get(`${this.hostServer}/categories`)}getCategory(t){return this._httpClient.get(`${this.hostServer}/categories/${t}`)}deleteCategory(t){return this._httpClient.delete(`${this.hostServer}/categories/${t}`)}updateCategory(t,u){return this._httpClient.put(`${this.hostServer}/categories/${t}`,u)}createCategory(t){return this._httpClient.post(`${this.hostServer}/categories`,t)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(l.eN))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})()},3880:(g,h,s)=>{s.d(h,{x:()=>e});var i=s(2340),o=s(5e3),l=s(520);let e=(()=>{class r{constructor(t){this._httpClient=t,this.hostServer=i.N.hostServer}createCuisine(t){return this._httpClient.post(`${this.hostServer}/cuisines`,t)}getCuisines(){return this._httpClient.get(`${this.hostServer}/cuisines`)}getCuisine(t){return this._httpClient.get(`${this.hostServer}/cuisines/${t}`)}updateCuisine(t,u){return this._httpClient.put(`${this.hostServer}/cuisines/${t}`,u)}deleteCuisine(t){return this._httpClient.delete(`${this.hostServer}/cuisines/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(l.eN))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})()},2442:(g,h,s)=>{s.d(h,{S:()=>e});var i=s(2340),o=s(5e3),l=s(520);let e=(()=>{class r{constructor(t){this._httpClient=t,this.hostServer=i.N.hostServer}getMerchants(){return this._httpClient.get(`${this.hostServer}/merchants`)}getMerchant(t){return this._httpClient.get(`${this.hostServer}/merchants/${t}`)}deleteMerchant(t){return this._httpClient.delete(`${this.hostServer}/merchants/${t}`)}updateMerchant(t,u){return this._httpClient.put(`${this.hostServer}/merchants/${t}`,u)}createMerchant(t){return this._httpClient.post(`${this.hostServer}/merchants`,t)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(l.eN))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})()},6614:(g,h,s)=>{s.d(h,{$:()=>e});var i=s(2340),o=s(5e3),l=s(520);let e=(()=>{class r{constructor(t){this._httpClient=t,this.hostServer=i.N.hostServer}createPermission(t){return this._httpClient.post(`${this.hostServer}/roles`,t)}getPermissions(){return this._httpClient.get(`${this.hostServer}/roles`)}getPermission(t){return this._httpClient.get(`${this.hostServer}/roles/${t}`)}updatePermission(t,u){return this._httpClient.put(`${this.hostServer}/roles/${t}`,u)}deletePermission(t){return this._httpClient.delete(`${this.hostServer}/roles/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(l.eN))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})()}}]);