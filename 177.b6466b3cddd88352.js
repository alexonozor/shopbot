"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[177],{2558:(B,v,r)=>{r.r(v),r.d(v,{MERCHANTS_ROUTING:()=>O});var c=r(177),m=r(8498),t=r(4020);let x=(()=>{class a{constructor(){}ngOnInit(){}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-merchants"]],decls:1,vars:0,template:function(n,o){1&n&&t.nrm(0,"router-outlet")},dependencies:[c.MD,m.iI,m.n3],encapsulation:2})}}return a})();var N=r(5024),k=r(6440),p=r(9159),C=r(1269),b=r(6924),M=r(2765),R=r(6471),y=r(9213),f=r(9115),l=r(8834),g=r(6074),j=r(5351);const I=()=>["../","new"],D=a=>["../",a,"details"];function G(a,d){if(1&a){const e=t.RV6();t.j41(0,"tr",10)(1,"th",11)(2,"div",12)(3,"div",13),t.EFF(4),t.k0s(),t.j41(5,"div",14),t.EFF(6),t.k0s()()(),t.j41(7,"td",15),t.EFF(8),t.k0s(),t.j41(9,"td",15)(10,"button",16)(11,"mat-icon"),t.EFF(12,"more_vert"),t.k0s()(),t.j41(13,"mat-menu",17,0),t.bIt("click",function(o){return t.eBV(e),t.Njj(o.stopPropagation())}),t.j41(15,"button",18),t.bIt("click",function(o){const s=t.eBV(e),X=s.$implicit,V=s.index;return t.XpG().deleteMerchant(X._id,V),t.Njj(o.stopPropagation())}),t.j41(16,"mat-icon"),t.EFF(17,"delete"),t.k0s(),t.EFF(18," Delete"),t.k0s(),t.j41(19,"button",19)(20,"mat-icon"),t.EFF(21,"edit"),t.k0s(),t.EFF(22," Edit "),t.k0s()()()()}if(2&a){const e=d.$implicit,n=t.sdS(14);t.R7$(4),t.JRh(e.name),t.R7$(2),t.JRh(e.phoneNumber),t.R7$(2),t.SpI(" ",e.email," "),t.R7$(2),t.Y8G("matMenuTriggerFor",n),t.R7$(9),t.Y8G("routerLink",t.eq3(5,D,e._id))}}let $=(()=>{class a{constructor(e,n,o){this.route=e,this.merchantService=n,this._matDialog=o,this.displayedColumns=["select","Name","phoneNumber","email","phoneNumber","createdAt","actions"],this.dataSource=new p.I6([]),this.selection=new N.CB(!0,[]),this.merchants=this.route.snapshot.data.merchants}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(C.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete merchants?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these merchants?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this.selection.selected.forEach((n,o)=>{this.dataSource.data.splice(o,1),this.dataSource=new p.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.merchantService.deleteMerchant(n._id).subscribe()})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteMerchant(e,n){this.confirmDialogRef=this._matDialog.open(C.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Merchant?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this merchant?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(o=>{o&&(this.dataSource.data.splice(n,1),this.dataSource=new p.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.merchantService.deleteMerchant(e).subscribe())})}message(e){}static{this.\u0275fac=function(n){return new(n||a)(t.rXU(m.nX),t.rXU(g.b),t.rXU(j.bZ))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-list-merchant"]],viewQuery:function(n,o){if(1&n&&t.GBs(k.iy,5),2&n){let s;t.mGM(s=t.lsd())&&(o.paginator=s.first)}},decls:18,vars:3,consts:[["menu","matMenu"],[1,"h-screen","w-full"],["mat-subheader",""],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"px-6","py-3"],["class","bg-white border-b ",4,"ngFor","ngForOf"],["mat-fab","","color","primary",2,"position","fixed","bottom","80px","right","15px",3,"routerLink"],[1,"mat-18"],[1,"bg-white","border-b"],["scope","row",1,"flex","items-center","px-6","py-4","text-gray-900","whitespace-nowrap"],[1,"pl-3"],[1,"text-base","font-semibold"],[1,"font-normal","text-gray-500"],[1,"px-6","py-4"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"click"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"]],template:function(n,o){1&n&&(t.j41(0,"div",1)(1,"div",2),t.EFF(2,"Merchants"),t.k0s(),t.j41(3,"div",3)(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),t.EFF(8," Name "),t.k0s(),t.j41(9,"th",6),t.EFF(10," Email "),t.k0s(),t.j41(11,"th",6),t.EFF(12," Action "),t.k0s()()(),t.j41(13,"tbody"),t.DNE(14,G,23,7,"tr",7),t.k0s()()(),t.j41(15,"button",8)(16,"mat-icon",9),t.EFF(17,"add"),t.k0s()()()),2&n&&(t.R7$(14),t.Y8G("ngForOf",o.merchants),t.R7$(),t.Y8G("routerLink",t.lJ4(2,I)))},dependencies:[c.MD,c.Sq,y.m_,y.An,p.tP,M.g7,R.YN,f.Cn,f.kk,f.fb,f.Cp,m.iI,m.Wk,k.Ou,b.YF,l.Hl,l.iY,l.Sr],encapsulation:2})}}return a})();var i=r(9417),u=r(636),F=r(2798),S=r(3),h=r(2920);const L=()=>["Male","Female"];function T(a,d){if(1&a&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&a){const e=d.$implicit;t.Y8G("value",e),t.R7$(),t.JRh(e)}}let A=(()=>{class a{constructor(e,n,o,s){this.fb=e,this.merchantService=n,this.location=o,this.route=s,this.merchantForm=this.fb.group({name:["",i.k0.required],phoneNumber:["",i.k0.required],gender:["",i.k0.required],email:["",i.k0.email],password:["",i.k0.required]})}ngOnInit(){}submit(){this.merchantForm.valid&&this.merchantService.createMerchant(this.merchantForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}static{this.\u0275fac=function(n){return new(n||a)(t.rXU(i.ok),t.rXU(g.b),t.rXU(c.aZ),t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-create-merchant"]],decls:29,vars:4,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Full Name","formControlName","name"],["matInput","","cancellation","Phone Number","formControlName","phoneNumber"],["matInput","","cancellation","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","password","cancellation","Password","formControlName","password"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.submit()}),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t.EFF(5,"Full Name"),t.k0s(),t.nrm(6,"input",4),t.k0s(),t.j41(7,"mat-form-field",3)(8,"mat-label"),t.EFF(9,"Phone Number"),t.k0s(),t.nrm(10,"input",5),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Email"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Gender"),t.k0s(),t.j41(18,"mat-select",7),t.DNE(19,T,2,2,"mat-option",8),t.k0s()(),t.j41(20,"mat-form-field",3)(21,"mat-label"),t.EFF(22,"Password"),t.k0s(),t.nrm(23,"input",9),t.k0s(),t.j41(24,"div",10)(25,"a",11),t.bIt("click",function(){return o.back()}),t.EFF(26,"CANCEL"),t.k0s(),t.j41(27,"button",12),t.EFF(28,"SAVE"),t.k0s()()()()()),2&n&&(t.R7$(),t.Y8G("formGroup",o.merchantForm),t.R7$(18),t.Y8G("ngForOf",t.lJ4(3,L)),t.R7$(8),t.Y8G("disabled",o.merchantForm.invalid))},dependencies:[i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,i.YN,u.RG,u.rl,u.nJ,c.MD,c.Sq,F.Ve,F.VO,S.wT,l.Hl,l.It,l.$z,b.YF,h.DJ,h.BO,h.sA,h.UI,m.iI],encapsulation:2})}}return a})();var E=r(1379);const Y=()=>["Male","Female"];function w(a,d){if(1&a&&(t.j41(0,"mat-option",12),t.EFF(1),t.k0s()),2&a){const e=d.$implicit;t.Y8G("value",e),t.R7$(),t.JRh(e)}}const O=[{path:"",component:x,children:[{path:"list",component:$,resolve:{merchants:E.W}},{path:"new",component:A},{path:":id/details",component:(()=>{class a{constructor(e,n,o,s){this.fb=e,this.merchantService=n,this.location=o,this.route=s,this.merchant=this.route.snapshot.data.merchant,this.merchantForm=this.fb.group({name:[this.merchant.name,i.k0.required],phoneNumber:[this.merchant.phoneNumber,i.k0.required],gender:[this.merchant.gender,i.k0.required],email:[this.merchant.email,i.k0.email]})}ngOnInit(){}submit(){this.merchantForm.valid&&this.merchantService.updateMerchant(this.merchant._id,this.merchantForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}static{this.\u0275fac=function(n){return new(n||a)(t.rXU(i.ok),t.rXU(g.b),t.rXU(c.aZ),t.rXU(m.nX))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-merchant-details"]],decls:25,vars:4,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Full Name","formControlName","name"],["matInput","","cancellation","Phone Number","formControlName","phoneNumber"],["matInput","","cancellation","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.submit()}),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t.EFF(5,"Full Name"),t.k0s(),t.nrm(6,"input",4),t.k0s(),t.j41(7,"mat-form-field",3)(8,"mat-label"),t.EFF(9,"Phone Number"),t.k0s(),t.nrm(10,"input",5),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Email"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Gender"),t.k0s(),t.j41(18,"mat-select",7),t.DNE(19,w,2,2,"mat-option",8),t.k0s()(),t.j41(20,"div",9)(21,"a",10),t.bIt("click",function(){return o.back()}),t.EFF(22,"CANCEL"),t.k0s(),t.j41(23,"button",11),t.EFF(24,"SAVE"),t.k0s()()()()()),2&n&&(t.R7$(),t.Y8G("formGroup",o.merchantForm),t.R7$(18),t.Y8G("ngForOf",t.lJ4(3,Y)),t.R7$(4),t.Y8G("disabled",o.merchantForm.invalid))},dependencies:[i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,i.YN,u.RG,u.rl,u.nJ,c.MD,c.Sq,F.Ve,F.VO,S.wT,l.Hl,l.It,l.$z,b.YF,h.DJ,h.BO,h.sA,h.UI,m.iI],encapsulation:2})}}return a})(),resolve:{merchant:E.r}}]}]}}]);