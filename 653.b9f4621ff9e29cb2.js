"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[653],{653:(le,y,a)=>{a.r(y),a.d(y,{CUISINES_ROUTE:()=>ae});var f=a(8498),e=a(4020);let V=(()=>{class i{constructor(){}ngOnInit(){}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-cuisines"]],decls:1,vars:0,template:function(s,n){1&s&&e.nrm(0,"router-outlet")},dependencies:[f.iI,f.n3],encapsulation:2})}}return i})();var $=a(5024),v=a(6440),u=a(9159),j=a(1269),m=a(177),D=a(9213),_=a(2765),g=a(9115),p=a(8834),S=a(6924),F=a(6737),R=a(5351),d=a(2920);const G=()=>["../","new"],T=()=>[15,30,60],w=i=>["../",i,"details"];function N(i,c){if(1&i){const t=e.RV6();e.j41(0,"span",2)(1,"button",19),e.EFF(2),e.k0s(),e.j41(3,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelected())}),e.j41(4,"mat-icon",6),e.EFF(5,"delete"),e.k0s(),e.EFF(6," Delete Selected Cuisines "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(2),e.SpI("",t.selection.selected.length," Selected")}}function Y(i,c){if(1&i){const t=e.RV6();e.j41(0,"th",21)(1,"mat-checkbox",22),e.bIt("change",function(n){e.eBV(t);const l=e.XpG();return e.Njj(n?l.toggleAllRows():null)}),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function A(i,c){if(1&i){const t=e.RV6();e.j41(0,"td",23)(1,"mat-checkbox",24),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())})("change",function(n){const l=e.eBV(t).$implicit,r=e.XpG();return e.Njj(n?r.selection.toggle(l):null)}),e.k0s()()}if(2&i){const t=c.$implicit,s=e.XpG();e.R7$(),e.Y8G("checked",s.selection.isSelected(t))("aria-label",s.checkboxLabel(t))}}function X(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Name"),e.k0s())}function B(i,c){if(1&i&&(e.j41(0,"td",23),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.JRh(t.name)}}function O(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Status"),e.k0s())}function U(i,c){if(1&i&&(e.j41(0,"td",23),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.JRh(t.status)}}function M(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Created At"),e.k0s())}function Z(i,c){if(1&i&&(e.j41(0,"td",23),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.JRh(e.i5U(2,1,t.createdAt,"short"))}}function J(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Actions"),e.k0s())}function z(i,c){if(1&i){const t=e.RV6();e.j41(0,"td",23)(1,"button",25)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",null,0)(6,"button",26),e.bIt("click",function(){const n=e.eBV(t),l=n.$implicit,r=n.index,oe=e.XpG();return e.Njj(oe.deleteCuisines(l._id,r))}),e.j41(7,"mat-icon",27),e.EFF(8,"delete"),e.k0s(),e.j41(9,"span"),e.EFF(10,"Delete"),e.k0s()(),e.j41(11,"button",28)(12,"mat-icon",27),e.EFF(13,"edit"),e.k0s(),e.j41(14,"span"),e.EFF(15,"Edit"),e.k0s()()()()}if(2&i){const t=c.$implicit,s=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",s),e.R7$(10),e.Y8G("routerLink",e.eq3(2,w,t._id))}}function H(i,c){1&i&&e.nrm(0,"tr",29)}function K(i,c){1&i&&e.nrm(0,"tr",30)}let P=(()=>{class i{constructor(t,s,n){this.route=t,this.cuisinesService=s,this._matDialog=n,this.displayedColumns=["select","name","status","createdAt","actions"],this.dataSource=new u.I6([]),this.selection=new $.CB(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new u.I6(this.route.snapshot.data.cuisines)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(j.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete cuisines?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these cuisines?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&this.selection.selected.forEach((s,n)=>{this.dataSource.data.splice(n,1),this.dataSource=new u.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.cuisinesService.deleteCuisine(s._id).subscribe()})})}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteCuisines(t,s){this.confirmDialogRef=this._matDialog.open(j.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Cuisines?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this cuisines?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&(this.dataSource.data.splice(s,1),this.dataSource=new u.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.cuisinesService.deleteCuisine(t).subscribe())})}message(t){}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(f.nX),e.rXU(F.F),e.rXU(R.bZ))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-list-cuisines"]],viewQuery:function(s,n){if(1&s&&e.GBs(v.iy,5),2&s){let l;e.mGM(l=e.lsd())&&(n.paginator=l.first)}},decls:31,vars:8,consts:[["menu","matMenu"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],["fxLayout","row","fxLayoutGap","10px"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],["mat-raised-button","","color","primary",3,"routerLink"],[1,"mat-18"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","status"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"change","checked","indeterminate","aria-label"],["mat-cell",""],[3,"click","change","checked","aria-label"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(s,n){1&s&&(e.j41(0,"div")(1,"div",1)(2,"span",2)(3,"span"),e.EFF(4,"Cuisines"),e.k0s()(),e.j41(5,"div",3),e.DNE(6,N,7,1,"span",4),e.j41(7,"button",5)(8,"mat-icon",6),e.EFF(9,"add"),e.k0s(),e.EFF(10," Create Cuisine "),e.k0s()()(),e.j41(11,"div",7)(12,"table",8),e.qex(13,9),e.DNE(14,Y,2,3,"th",10)(15,A,2,2,"td",11),e.bVm(),e.qex(16,12),e.DNE(17,X,2,0,"th",10)(18,B,2,1,"td",11),e.bVm(),e.qex(19,13),e.DNE(20,O,2,0,"th",10)(21,U,2,1,"td",11),e.bVm(),e.qex(22,14),e.DNE(23,M,2,0,"th",10)(24,Z,3,4,"td",11),e.bVm(),e.qex(25,15),e.DNE(26,J,2,0,"th",10)(27,z,16,4,"td",11),e.bVm(),e.DNE(28,H,1,0,"tr",16)(29,K,1,0,"tr",17),e.k0s(),e.nrm(30,"mat-paginator",18),e.k0s()()),2&s&&(e.R7$(6),e.Y8G("ngIf",n.selection.selected.length),e.R7$(),e.Y8G("routerLink",e.lJ4(6,G)),e.R7$(5),e.Y8G("dataSource",n.dataSource),e.R7$(16),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(7,T)))},dependencies:[m.MD,m.bT,m.vh,u.tP,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,D.m_,D.An,_.g7,_.So,g.Cn,g.kk,g.fb,g.Cp,f.iI,f.Wk,v.Ou,v.iy,p.Hl,p.$z,p.iY,S.YF,d.DJ,d.BO,d.sA],encapsulation:2})}}return i})();var o=a(9417),E=a(9443),L=a(801),h=a(636),C=a(2798),b=a(9631),k=a(450),x=a(3);function Q(i,c){if(1&i&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Lme(" (+",((null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)||0)-1," ",2===(null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)?"other":"others",") ")}}function W(i,c){if(1&i&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t.country),e.R7$(),e.JRh(t.country)}}let q=(()=>{class i{constructor(t,s,n,l,r){this.fb=t,this.cuisineService=s,this.location=n,this.dialog=l,this.route=r,this.mediaData={image:null,icon:null}}ngOnInit(){this.deliveriesZones=this.route.snapshot.data.deliveriesZones,this.cuisineForm=this.fb.group({name:["",o.k0.required],status:["",o.k0.required],image:["",o.k0.required],countries:["",o.k0.required]})}submit(){this.cuisineForm.valid&&this.cuisineService.createCuisine(this.cuisineForm.getRawValue()).subscribe(t=>{this.location.back()})}selectedCountry(t){this.selectedZone=this.deliveriesZones.find(s=>s.country==t.value)}back(){this.location.back()}addMedia(t){this.dialog.open(E.w).afterClosed().subscribe(n=>{n&&(this.cuisineForm.patchValue({[t]:n.url}),this.mediaData[t]={[t]:n}[t])})}removeValue(t){this.cuisineForm.patchValue({[t]:null}),this.mediaData[t]=null}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(o.ok),e.rXU(F.F),e.rXU(m.aZ),e.rXU(R.bZ),e.rXU(f.nX))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-create-cuisine"]],decls:23,vars:7,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"removeValue","openMediaBrowser","isNew","mediaData"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Name Of Cuisine","formControlName","name"],["formControlName","status"],["appearance","fill"],["multiple","","formControlName","countries"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[1,"example-additional-selection"],[3,"value"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(2,"div",2)(3,"app-select-media",3),e.bIt("removeValue",function(r){return n.removeValue(r)})("openMediaBrowser",function(r){return n.addMedia(r)}),e.k0s(),e.j41(4,"mat-form-field",4)(5,"mat-label"),e.EFF(6,"Name Of Cuisine"),e.k0s(),e.nrm(7,"input",5),e.k0s(),e.j41(8,"mat-slide-toggle",6),e.EFF(9,"Enable"),e.k0s(),e.j41(10,"mat-form-field",7)(11,"mat-label"),e.EFF(12,"Country"),e.k0s(),e.j41(13,"mat-select",8)(14,"mat-select-trigger"),e.EFF(15),e.DNE(16,Q,2,2,"span",9),e.k0s(),e.DNE(17,W,2,2,"mat-option",10),e.k0s()(),e.j41(18,"div",11)(19,"a",12),e.bIt("click",function(){return n.back()}),e.EFF(20,"CANCEL"),e.k0s(),e.j41(21,"button",13),e.EFF(22,"SAVE"),e.k0s()()()()()),2&s&&(e.R7$(),e.Y8G("formGroup",n.cuisineForm),e.R7$(2),e.Y8G("isNew",!1)("mediaData",null==n.mediaData?null:n.mediaData.image),e.R7$(12),e.SpI(" ",(null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries[0])||""," "),e.R7$(),e.Y8G("ngIf",((null==n.cuisineForm.value||null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries.length)||0)>1),e.R7$(),e.Y8G("ngForOf",n.deliveriesZones),e.R7$(4),e.Y8G("disabled",n.cuisineForm.invalid))},dependencies:[m.MD,m.Sq,m.bT,L.C,o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,o.YN,p.Hl,p.It,p.$z,h.RG,h.rl,h.nJ,C.Ve,C.VO,C.$2,x.wT,S.YF,d.DJ,d.BO,d.sA,d.UI,b.fS,b.fg,k.mV,k.sG],encapsulation:2})}}return i})(),ee=(()=>{class i{constructor(t){this.cuisineService=t}resolve(){return this.cuisineService.getCuisines()}static{this.\u0275fac=function(s){return new(s||i)(e.KVO(F.F))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),te=(()=>{class i{constructor(t){this.cuisineService=t}resolve(t){const s=t.paramMap.get("id");return this.cuisineService.getCuisine(s)}static{this.\u0275fac=function(s){return new(s||i)(e.KVO(F.F))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ie(i,c){if(1&i&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Lme(" (+",((null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)||0)-1," ",2===(null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)?"other":"others",") ")}}function ne(i,c){if(1&i&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t.country),e.R7$(),e.JRh(t.country)}}let se=(()=>{class i{constructor(t,s,n,l,r){this.fb=t,this.cuisineService=s,this.location=n,this.dialog=l,this.route=r,this.cuisine=this.route.snapshot.data.cuisine,this.mediaData={image:null,icon:null},this.cuisineForm=this.fb.group({name:[this.cuisine.name,o.k0.required],status:[this.cuisine.status,o.k0.required],image:[this.cuisine.image,o.k0.required],countries:[this.cuisine.countries,o.k0.required]}),this.mediaData={image:null,icon:null},this.mediaData.image=this.cuisine.image}ngOnInit(){this.deliveriesZones=this.route.snapshot.data.deliveriesZones}selectedCountry(t){this.selectedZone=this.deliveriesZones.find(s=>s.country==t)}submit(){this.cuisineForm.valid&&this.cuisineService.updateCuisine(this.cuisine._id,this.cuisineForm.getRawValue()).subscribe(t=>{this.location.back()})}back(){this.location.back()}addMedia(t){this.dialog.open(E.w).afterClosed().subscribe(n=>{n&&(this.cuisineForm.patchValue({[t]:n.url}),this.mediaData[t]={[t]:n}[t])})}removeValue(t){this.cuisineForm.patchValue({[t]:null}),this.mediaData[t]=null}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(o.ok),e.rXU(F.F),e.rXU(m.aZ),e.rXU(R.bZ),e.rXU(f.nX))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-cuisines-details"]],decls:23,vars:7,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"removeValue","openMediaBrowser","isNew","mediaData"],["appearance","fill",1,"full-width","my-4"],["matInput","","cancellation","Name Of Cuisine","formControlName","name"],["formControlName","status",1,"my-4"],["appearance","fill"],["multiple","","formControlName","countries"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[1,"example-additional-selection"],[3,"value"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(2,"div",2)(3,"app-select-media",3),e.bIt("removeValue",function(r){return n.removeValue(r)})("openMediaBrowser",function(r){return n.addMedia(r)}),e.k0s(),e.j41(4,"mat-form-field",4)(5,"mat-label"),e.EFF(6,"Name Of Cuisine"),e.k0s(),e.nrm(7,"input",5),e.k0s(),e.j41(8,"mat-slide-toggle",6),e.EFF(9,"Enable"),e.k0s(),e.j41(10,"mat-form-field",7)(11,"mat-label"),e.EFF(12,"Country"),e.k0s(),e.j41(13,"mat-select",8)(14,"mat-select-trigger"),e.EFF(15),e.DNE(16,ie,2,2,"span",9),e.k0s(),e.DNE(17,ne,2,2,"mat-option",10),e.k0s()(),e.j41(18,"div",11)(19,"a",12),e.bIt("click",function(){return n.back()}),e.EFF(20,"CANCEL"),e.k0s(),e.j41(21,"button",13),e.EFF(22,"SAVE"),e.k0s()()()()()),2&s&&(e.R7$(),e.Y8G("formGroup",n.cuisineForm),e.R7$(2),e.Y8G("isNew",!1)("mediaData",null==n.mediaData?null:n.mediaData.image),e.R7$(12),e.SpI(" ",(null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries[0])||""," "),e.R7$(),e.Y8G("ngIf",((null==n.cuisineForm.value||null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries.length)||0)>1),e.R7$(),e.Y8G("ngForOf",n.deliveriesZones),e.R7$(4),e.Y8G("disabled",n.cuisineForm.invalid))},dependencies:[m.MD,m.Sq,m.bT,u.tP,D.m_,_.g7,g.Cn,f.iI,v.Ou,L.C,o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,h.RG,h.rl,h.nJ,C.Ve,C.VO,C.$2,x.wT,S.YF,d.DJ,d.BO,d.sA,d.UI,p.Hl,p.It,p.$z,b.fS,b.fg,k.mV,k.sG],encapsulation:2})}}return i})();var I=a(4e3);const ae=[{path:"",component:V,children:[{path:"list",component:P,resolve:{cuisines:ee}},{path:"new",component:q,resolve:{deliveriesZones:I.K}},{path:":id/details",component:se,resolve:{cuisine:te,deliveriesZones:I.K}}]}]}}]);