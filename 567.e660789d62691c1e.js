"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[567],{567:(st,C,a)=>{a.r(C),a.d(C,{AdminModule:()=>rt});var c=a(9808),d=a(6696),t=a(5e3);let y=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin"]],decls:1,vars:0,template:function(n,i){1&n&&t._UZ(0,"router-outlet")},dependencies:[d.lC]}),e})();var T=a(449),x=a(9062),s=a(4999),_=a(454),S=a(2340),L=a(520);let u=(()=>{class e{constructor(n){this._httpClient=n,this.hostServer=S.N.hostServer}createAdmin(n){return this._httpClient.post(`${this.hostServer}/staffs`,n)}getAdmins(){return this._httpClient.get(`${this.hostServer}/staffs`)}getAdmin(n){return this._httpClient.get(`${this.hostServer}/staffs/${n}`)}deleteAdmin(n){return this._httpClient.delete(`${this.hostServer}/staffs/${n}`)}updateAdmin(n,i){return this._httpClient.put(`${this.hostServer}/staffs/${n}`,i)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(L.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var N=a(2349),f=a(7423),w=a(5245),D=a(7446),h=a(2181),l=a(7093);function U(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"span",1)(1,"button",19),t._uU(2),t.qZA(),t.TgZ(3,"button",20),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.deleteSelected())}),t.TgZ(4,"mat-icon",18),t._uU(5,"delete"),t.qZA(),t._uU(6," Delete Selected Administrators "),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.hij("",n.selection.selected.length," Selected")}}function F(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"th",21)(1,"mat-checkbox",22),t.NdJ("change",function(r){t.CHM(n);const p=t.oxw();return t.KtG(r?p.toggleAllRows():null)}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())("aria-label",n.checkboxLabel())}}function k(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",23)(1,"mat-checkbox",24),t.NdJ("click",function(r){return r.stopPropagation()})("change",function(r){const A=t.CHM(n).$implicit,g=t.oxw();return t.KtG(r?g.selection.toggle(A):null)}),t.qZA()()}if(2&e){const n=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(n))("aria-label",i.checkboxLabel(n))}}function R(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Name"),t.qZA())}function q(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.name)}}function Y(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Phone Number"),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.phoneNumber)}}function Q(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Email"),t.qZA())}function I(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.email)}}function M(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Registered at"),t.qZA())}function $(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,n.createdAt,"short"))}}function G(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1,"Actions"),t.qZA())}const O=function(e){return["../",e,"details"]};function z(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",23)(1,"button",25)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,26)(6,"button",27),t.NdJ("click",function(){const r=t.CHM(n),p=r.$implicit,A=r.index,g=t.oxw();return t.KtG(g.deleteAdmin(p._id,A))}),t.TgZ(7,"mat-icon",28),t._uU(8,"delete"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Delete"),t.qZA()(),t.TgZ(11,"button",29)(12,"mat-icon",28),t._uU(13,"person"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Profile"),t.qZA()()()()}if(2&e){const n=o.$implicit,i=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(10),t.Q6J("routerLink",t.VKq(2,O,n._id))}}function B(e,o){1&e&&t._UZ(0,"tr",30)}function E(e,o){1&e&&t._UZ(0,"tr",31)}const H=function(){return[15,30,60]},X=function(){return["../","new"]};let P=(()=>{class e{constructor(n,i,r){this.route=n,this.adminService=i,this._matDialog=r,this.displayedColumns=["select","Name","phoneNumber","email","phoneNumber","createdAt","actions"],this.dataSource=new s.by([]),this.selection=new T.Ov(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new s.by(this.route.snapshot.data.admins)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(_.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete administrators?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these administrators?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this.selection.selected.forEach((i,r)=>{this.dataSource.data.splice(r,1),this.dataSource=new s.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.adminService.deleteAdmin(i._id).subscribe()})})}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row ${n.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteAdmin(n,i){this.confirmDialogRef=this._matDialog.open(_.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Administrator?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this administrator?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(r=>{r&&(this.dataSource.data.splice(i,1),this.dataSource=new s.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.adminService.deleteAdmin(n).subscribe())})}message(n){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.gz),t.Y36(u),t.Y36(N.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-admin"]],viewQuery:function(n,i){if(1&n&&t.Gf(x.NW,5),2&n){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first)}},decls:33,vars:8,consts:[["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","phoneNumber"],["matColumnDef","email"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["fxLayout","row","fxLayoutAlign","end center",1,"m-5"],["mat-fab","","color","primary",1,"m-10",3,"routerLink"],[1,"mat-18"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.TgZ(0,"div")(1,"div",0)(2,"span",1)(3,"span"),t._uU(4,"Administrators"),t.qZA()(),t.YNc(5,U,7,1,"span",2),t.qZA(),t.TgZ(6,"div",3)(7,"table",4),t.ynx(8,5),t.YNc(9,F,2,3,"th",6),t.YNc(10,k,2,2,"td",7),t.BQk(),t.ynx(11,8),t.YNc(12,R,2,0,"th",6),t.YNc(13,q,2,1,"td",7),t.BQk(),t.ynx(14,9),t.YNc(15,Y,2,0,"th",6),t.YNc(16,J,2,1,"td",7),t.BQk(),t.ynx(17,10),t.YNc(18,Q,2,0,"th",6),t.YNc(19,I,2,1,"td",7),t.BQk(),t.ynx(20,11),t.YNc(21,M,2,0,"th",6),t.YNc(22,$,3,4,"td",7),t.BQk(),t.ynx(23,12),t.YNc(24,G,2,0,"th",6),t.YNc(25,z,16,4,"td",7),t.BQk(),t.YNc(26,B,1,0,"tr",13),t.YNc(27,E,1,0,"tr",14),t.qZA(),t._UZ(28,"mat-paginator",15),t.qZA(),t.TgZ(29,"div",16)(30,"button",17)(31,"mat-icon",18),t._uU(32,"add"),t.qZA()()()()),2&n&&(t.xp6(5),t.Q6J("ngIf",i.selection.selected.length),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,H)),t.xp6(2),t.Q6J("routerLink",t.DdM(7,X)))},dependencies:[c.O5,d.rH,f.lW,w.Hw,x.NW,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,D.oG,h.VK,h.OP,h.p6,l.xw,l.SQ,l.Wh,c.uU]}),e})();var m=a(3075),K=a(508),v=a(7322),V=a(7531),j=a(4107);function W(e,o){if(1&e&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}const tt=function(){return["Male","Female"]};let et=(()=>{class e{constructor(n,i,r){this.fb=n,this.adminService=i,this.location=r,this.administratorForm=this.fb.group({name:["",m.kI.required],phoneNumber:["",m.kI.required],gender:["",m.kI.required],email:["",m.kI.email],password:["",m.kI.required]})}ngOnInit(){}submit(){this.administratorForm.valid&&this.adminService.createAdmin(this.administratorForm.getRawValue()).subscribe(n=>{this.location.back()})}back(){this.location.back()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.qu),t.Y36(u),t.Y36(c.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-create-admin"]],decls:29,vars:4,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Full Name","formControlName","name"],["matInput","","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","placeholder","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return i.submit()}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Full Name"),t.qZA(),t._UZ(6,"input",4),t.qZA(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Phone Number"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"mat-form-field",3)(12,"mat-label"),t._uU(13,"Email"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Gender"),t.qZA(),t.TgZ(18,"mat-select",7),t.YNc(19,W,2,2,"mat-option",8),t.qZA()(),t.TgZ(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Password"),t.qZA(),t._UZ(23,"input",9),t.qZA(),t.TgZ(24,"div",10)(25,"a",11),t.NdJ("click",function(){return i.back()}),t._uU(26,"CANCEL"),t.qZA(),t.TgZ(27,"button",12),t._uU(28,"SAVE"),t.qZA()()()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",i.administratorForm),t.xp6(18),t.Q6J("ngForOf",t.DdM(3,tt)),t.xp6(8),t.Q6J("disabled",i.administratorForm.invalid))},dependencies:[c.sg,K.ey,f.lW,f.zs,v.KE,v.hX,V.Nt,j.gD,l.xw,l.SQ,l.Wh,l.yH,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u]}),e})(),Z=(()=>{class e{constructor(n){this.adminService=n}resolve(){return this.adminService.getAdmins()}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(u))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),b=(()=>{class e{constructor(n){this.adminService=n}resolve(n){const i=n.paramMap.get("id");return this.adminService.getAdmin(i)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(u))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const nt=[{path:"",component:y,children:[{path:"list",component:P,resolve:{admins:Z}},{path:"new",component:et},{path:":id/details",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-details"]],decls:2,vars:0,template:function(n,i){1&n&&(t.TgZ(0,"p"),t._uU(1,"admin-details works!"),t.qZA())}}),e})(),resolve:{admin:b}}]}];let ot=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.Bz.forChild(nt),d.Bz]}),e})();var it=a(9764),at=a(7985);let rt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[Z,b,u],imports:[c.ez,ot,at.q,it.o9,m.UX]}),e})()}}]);