"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[1824],{1824:(L,h,n)=>{n.r(h),n.d(h,{STORE_PRODUCTS_ROUTE:()=>O,categoriesResolver:()=>p});var b=n(1269),a=n(8498),d=n(177),v=n(6924),F=n(5085),l=n(9115),x=n(9213),u=n(8834),t=n(4020),y=n(7506),k=n(5351),g=n(2920);const C=()=>["../new"],j=()=>({pageType:"new"}),P=o=>["../",o,"edit"];function E(o,s){if(1&o){const e=t.RV6();t.j41(0,"tr",13)(1,"td",14)(2,"div",9),t.nrm(3,"input",15),t.j41(4,"label",16),t.EFF(5,"checkbox"),t.k0s()()(),t.j41(6,"th",17),t.nrm(7,"img",18),t.j41(8,"div",19)(9,"div",20),t.EFF(10),t.k0s()()(),t.j41(11,"td",21),t.EFF(12),t.k0s(),t.j41(13,"td",21),t.EFF(14),t.k0s(),t.j41(15,"td",21),t.EFF(16),t.nI1(17,"currency"),t.k0s(),t.j41(18,"td",21)(19,"button",22),t.bIt("click",function(i){return t.eBV(e),t.Njj(i.stopPropagation())}),t.j41(20,"mat-icon"),t.EFF(21,"more_vert"),t.k0s()(),t.j41(22,"mat-menu",null,0)(24,"button",23),t.bIt("click",function(){const i=t.eBV(e),c=i.$implicit,m=i.$index,w=t.XpG(3);return t.Njj(w.delete(m,c._id))}),t.j41(25,"mat-icon"),t.EFF(26,"delete"),t.k0s(),t.EFF(27," Delete"),t.k0s(),t.j41(28,"button",24)(29,"mat-icon"),t.EFF(30,"edit"),t.k0s(),t.EFF(31," Edit"),t.k0s()()()()}if(2&o){const e=s.$implicit,r=t.sdS(23),i=t.XpG(3);t.R7$(7),t.Y8G("src",e.photos[0],t.B4B)("alt",e.name),t.R7$(3),t.JRh(e.name),t.R7$(2),t.SpI(" ",e.quantity," "),t.R7$(2),t.SpI(" ",(null==e||null==e.menu?null:e.menu.name)||"No Category"," "),t.R7$(2),t.SpI(" ",t.i5U(17,8,e.price,i.store.currency)," "),t.R7$(3),t.Y8G("matMenuTriggerFor",r),t.R7$(9),t.Y8G("routerLink",t.eq3(11,P,e._id))}}function R(o,s){if(1&o&&(t.j41(0,"div",2)(1,"div",4)(2,"h2"),t.EFF(3,"Products"),t.k0s(),t.j41(4,"div")(5,"button",5),t.EFF(6,"Add Products"),t.k0s()()(),t.j41(7,"table",6)(8,"thead",7)(9,"tr")(10,"th",8)(11,"div",9),t.nrm(12,"input",10),t.j41(13,"label",11),t.EFF(14,"checkbox"),t.k0s()()(),t.j41(15,"th",12),t.EFF(16," Product name "),t.k0s(),t.j41(17,"th",12),t.EFF(18," Quantity "),t.k0s(),t.j41(19,"th",12),t.EFF(20," Category "),t.k0s(),t.j41(21,"th",12),t.EFF(22," Price "),t.k0s(),t.j41(23,"th",12),t.EFF(24," Action "),t.k0s()()(),t.j41(25,"tbody"),t.Z7z(26,E,32,13,"tr",13,t.Vm6),t.k0s()()()),2&o){const e=t.XpG();t.R7$(5),t.Y8G("routerLink",t.lJ4(2,C))("queryParams",t.lJ4(3,j)),t.R7$(21),t.Dyx(e)}}function M(o,s){1&o&&(t.j41(0,"section",3)(1,"div",25),t.nrm(2,"img",26),t.j41(3,"div",27)(4,"h2",28),t.EFF(5,"It\u2019s a bit empty here"),t.k0s(),t.j41(6,"p",29),t.EFF(7,"Make sure to customize your product."),t.k0s(),t.j41(8,"a",30),t.EFF(9,"Add First Product"),t.k0s()()()())}function S(o,s){1&o&&t.DNE(0,R,28,4,"div",2)(1,M,10,0,"section",3),2&o&&t.vxM(s.length>0?0:1)}let D=(()=>{class o{constructor(e,r,i,c,m){this.productService=e,this._matDialog=r,this.router=i,this.route=c,this._location=m,this.menus=[],this.store=this.route.parent?.parent?.parent?.parent?.parent?.snapshot.data.store}ngOnInit(){this.loadProducts()}loadProducts(){this.products$=this.productService.getStoreProducts(this.store._id)}delete(e,r){this.confirmDialogRef=this._matDialog.open(b.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Product?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this product?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(i=>{i&&this.productService.deleteProduct(e,r).subscribe(()=>{this.loadProducts()}),this.confirmDialogRef=null})}addMenu(){}openEdit(e){}viewMenu(e){this.router.navigate(["dashboard","stores",this.store._id,"details",e,"menu"])}goBack(){this._location.back()}static{this.\u0275fac=function(r){return new(r||o)(t.rXU(y.g),t.rXU(k.bZ),t.rXU(a.Ix),t.rXU(a.nX),t.rXU(d.aZ))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-store-products-list"]],features:[t.Jv_([F.b])],decls:3,vars:3,consts:[["menu2","matMenu"],[2,"height","100vh","position","relative"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"py-4","bg-neutral-50","overflow-hidden"],["fxLayout","row","fxLayoutAlign","space-between start",1,"p-3"],["mat-raised-button","","color","primary",3,"routerLink","queryParams"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"p-4"],[1,"flex","items-center"],["id","checkbox-all-search","type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500"],["for","checkbox-all-search",1,"sr-only"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b"],[1,"w-4","p-4"],["id","checkbox-table-search-1","type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","border-gray-300","rounded","focus:ring-blue-500"],["for","checkbox-table-search-1",1,"sr-only"],["scope","row",1,"flex","items-center","px-6","py-4","text-gray-900","whitespace-nowrap"],[1,"w-10","h-10","rounded-full",3,"src","alt"],[1,"ps-3"],[1,"text-base","font-semibold"],[1,"px-6","py-4"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],[1,"container","px-4","mx-auto"],["src","dashy-assets/images/empty.png","alt","",1,"mx-auto"],[1,"max-w-md","mx-auto","text-center"],[1,"font-heading","mb-3","text-2xl","font-semibold"],[1,"mb-7","text-neutral-500"],["href","#",1,"inline-flex","px-6","py-2.5","text-sm","bg-primary-700","text-neutral-50","font-medium","rounded-lg","transition","duration-300"]],template:function(r,i){if(1&r&&(t.j41(0,"div",1),t.DNE(1,S,2,1),t.nI1(2,"async"),t.k0s()),2&r){let c;t.R7$(),t.vxM((c=t.bMT(2,1,i.products$))?1:-1,c)}},dependencies:[d.MD,d.Jj,d.oe,v.YF,g.DJ,g.sA,a.iI,a.Wk,l.Cn,l.kk,l.fb,l.Cp,x.m_,x.An,u.Hl,u.$z,u.iY],styles:[".example-list[_ngcontent-%COMP%]{width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}}return o})();var f=n(9538),T=n(1268),$=n(2390);const p=(o,s)=>{const e=I(o);return(0,t.WQX)($.g).getStoreMenus(e)},I=o=>{let s=o;for(;s;){const e=s.paramMap.get("id");if(e)return e;s=s.parent}return null},O=[{path:"list",component:D},{path:"new",component:f.a,resolve:{storeCategories:p}},{path:":productId/edit",component:f.a,resolve:{product:T.productResolver,storeCategories:p}},{path:"**",pathMatch:"full",redirectTo:"list"}]}}]);