"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[140],{140:(ht,x,r)=>{r.r(x),r.d(x,{AdminModule:()=>pt});var u=r(177),c=r(8498),t=r(4020);let D=(()=>{class e{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-admin"]],decls:1,vars:0,template:function(i,o){1&i&&t.nrm(0,"router-outlet")},dependencies:[c.iI,c.n3],encapsulation:2})}}return e})();var T=r(5024),g=r(6440),m=r(9159),y=r(1269),C=r(6924),a=r(9417),A=r(850),p=r(8834),k=r(2765),f=r(636),v=r(9213),h=r(9115),b=r(2798),S=r(450),V=r(5312),w=r(1626);let F=(()=>{class e{constructor(n){this._httpClient=n,this.hostServer=V.c.hostServer}createAdmin(n){return this._httpClient.post(`${this.hostServer}/staffs`,n)}getAdmins(){return this._httpClient.get(`${this.hostServer}/staffs`)}getAdmin(n){return this._httpClient.get(`${this.hostServer}/staffs/${n}`)}deleteAdmin(n){return this._httpClient.delete(`${this.hostServer}/staffs/${n}`)}updateAdmin(n,i){return this._httpClient.put(`${this.hostServer}/staffs/${n}`,i)}static{this.\u0275fac=function(i){return new(i||e)(t.KVO(w.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})();var Y=r(5351),d=r(2920);const X=()=>[15,30,60],O=()=>["../","new"],B=e=>["../",e,"details"];function J(e,s){if(1&e){const n=t.RV6();t.j41(0,"span",2)(1,"button",20),t.EFF(2),t.k0s(),t.j41(3,"button",21),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.deleteSelected())}),t.j41(4,"mat-icon",19),t.EFF(5,"delete"),t.k0s(),t.EFF(6," Delete Selected Administrators "),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(2),t.SpI("",n.selection.selected.length," Selected")}}function U(e,s){if(1&e){const n=t.RV6();t.j41(0,"th",22)(1,"mat-checkbox",23),t.bIt("change",function(o){t.eBV(n);const l=t.XpG();return t.Njj(o?l.toggleAllRows():null)}),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())("aria-label",n.checkboxLabel())}}function M(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",24)(1,"mat-checkbox",25),t.bIt("click",function(o){return t.eBV(n),t.Njj(o.stopPropagation())})("change",function(o){const l=t.eBV(n).$implicit,R=t.XpG();return t.Njj(o?R.selection.toggle(l):null)}),t.k0s()()}if(2&e){const n=s.$implicit,i=t.XpG();t.R7$(),t.Y8G("checked",i.selection.isSelected(n))("aria-label",i.checkboxLabel(n))}}function P(e,s){1&e&&(t.j41(0,"th",22),t.EFF(1,"Name"),t.k0s())}function z(e,s){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(n.name)}}function H(e,s){1&e&&(t.j41(0,"th",22),t.EFF(1,"Phone Number"),t.k0s())}function K(e,s){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(n.phoneNumber)}}function Z(e,s){1&e&&(t.j41(0,"th",22),t.EFF(1,"Email"),t.k0s())}function Q(e,s){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(n.email)}}function W(e,s){1&e&&(t.j41(0,"th",22),t.EFF(1,"Registered at"),t.k0s())}function q(e,s){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(t.i5U(2,1,n.createdAt,"short"))}}function tt(e,s){1&e&&(t.j41(0,"th",22),t.EFF(1,"Actions"),t.k0s())}function et(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",24)(1,"button",26)(2,"mat-icon"),t.EFF(3,"more_vert"),t.k0s()(),t.j41(4,"mat-menu",null,0)(6,"button",27),t.bIt("click",function(){const o=t.eBV(n),l=o.$implicit,R=o.index,ft=t.XpG();return t.Njj(ft.deleteAdmin(l._id,R))}),t.j41(7,"mat-icon",28),t.EFF(8,"delete"),t.k0s(),t.j41(9,"span"),t.EFF(10,"Delete"),t.k0s()(),t.j41(11,"button",29)(12,"mat-icon",28),t.EFF(13,"person"),t.k0s(),t.j41(14,"span"),t.EFF(15,"Profile"),t.k0s()()()()}if(2&e){const n=s.$implicit,i=t.sdS(5);t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(10),t.Y8G("routerLink",t.eq3(2,B,n._id))}}function nt(e,s){1&e&&t.nrm(0,"tr",30)}function it(e,s){1&e&&t.nrm(0,"tr",31)}let E=(()=>{class e{constructor(n,i,o){this.route=n,this.adminService=i,this._matDialog=o,this.displayedColumns=["select","Name","phoneNumber","email","phoneNumber","createdAt","actions"],this.dataSource=new m.I6([]),this.selection=new T.CB(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new m.I6(this.route.snapshot.data.admins)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(y.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete administrators?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these administrators?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this.selection.selected.forEach((i,o)=>{this.dataSource.data.splice(o,1),this.dataSource=new m.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.adminService.deleteAdmin(i._id).subscribe()})})}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row ${n.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteAdmin(n,i){this.confirmDialogRef=this._matDialog.open(y.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Administrator?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this administrator?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(o=>{o&&(this.dataSource.data.splice(i,1),this.dataSource=new m.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.adminService.deleteAdmin(n).subscribe())})}message(n){}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(c.nX),t.rXU(F),t.rXU(Y.bZ))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-list-admin"]],viewQuery:function(i,o){if(1&i&&t.GBs(g.iy,5),2&i){let l;t.mGM(l=t.lsd())&&(o.paginator=l.first)}},decls:33,vars:8,consts:[["menu","matMenu"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","phoneNumber"],["matColumnDef","email"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["fxLayout","row","fxLayoutAlign","end center",1,"m-5"],["mat-fab","","color","primary",1,"m-10",3,"routerLink"],[1,"mat-18"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"change","checked","indeterminate","aria-label"],["mat-cell",""],[3,"click","change","checked","aria-label"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.j41(0,"div")(1,"div",1)(2,"span",2)(3,"span"),t.EFF(4,"Administrators"),t.k0s()(),t.DNE(5,J,7,1,"span",3),t.k0s(),t.j41(6,"div",4)(7,"table",5),t.qex(8,6),t.DNE(9,U,2,3,"th",7)(10,M,2,2,"td",8),t.bVm(),t.qex(11,9),t.DNE(12,P,2,0,"th",7)(13,z,2,1,"td",8),t.bVm(),t.qex(14,10),t.DNE(15,H,2,0,"th",7)(16,K,2,1,"td",8),t.bVm(),t.qex(17,11),t.DNE(18,Z,2,0,"th",7)(19,Q,2,1,"td",8),t.bVm(),t.qex(20,12),t.DNE(21,W,2,0,"th",7)(22,q,3,4,"td",8),t.bVm(),t.qex(23,13),t.DNE(24,tt,2,0,"th",7)(25,et,16,4,"td",8),t.bVm(),t.DNE(26,nt,1,0,"tr",14)(27,it,1,0,"tr",15),t.k0s(),t.nrm(28,"mat-paginator",16),t.k0s(),t.j41(29,"div",17)(30,"button",18)(31,"mat-icon",19),t.EFF(32,"add"),t.k0s()()()()),2&i&&(t.R7$(5),t.Y8G("ngIf",o.selection.selected.length),t.R7$(2),t.Y8G("dataSource",o.dataSource),t.R7$(19),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(6,X)),t.R7$(2),t.Y8G("routerLink",t.lJ4(7,O)))},dependencies:[u.MD,u.bT,u.vh,v.m_,v.An,m.tP,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,k.g7,k.So,g.Ou,g.iy,h.Cn,h.kk,h.fb,h.Cp,c.iI,c.Wk,p.Hl,p.$z,p.iY,p.Sr,C.YF,d.DJ,d.BO,d.sA,S.mV,f.RG,b.Ve,a.X1,a.YN,A.jL],encapsulation:2})}}return e})();var L=r(9631),N=r(3);const ot=()=>["Male","Female"];function at(e,s){if(1&e&&(t.j41(0,"mat-option",14),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n),t.R7$(),t.JRh(n)}}function st(e,s){if(1&e&&(t.j41(0,"mat-option",14),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n._id),t.R7$(),t.JRh(n.name)}}let _=(()=>{class e{constructor(n,i,o,l){this.fb=n,this.adminService=i,this.location=o,this.route=l,this.administratorForm=this.fb.group({name:["",a.k0.required],phoneNumber:["",a.k0.required],gender:["",a.k0.required],email:["",a.k0.email],password:["",a.k0.required],role:["",a.k0.required]}),this.roles=this.route.snapshot.data.roles}ngOnInit(){}submit(){this.administratorForm.valid&&this.adminService.createAdmin(this.administratorForm.getRawValue()).subscribe(n=>{this.location.back()})}back(){this.location.back()}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(a.ok),t.rXU(F),t.rXU(u.aZ),t.rXU(c.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-create-admin"]],decls:34,vars:5,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Full Name","formControlName","name"],["matInput","","cancellation","Phone Number","formControlName","phoneNumber"],["matInput","","cancellation","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["formControlName","role"],["matInput","","type","password","cancellation","Password","formControlName","password"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.submit()}),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t.EFF(5,"Full Name"),t.k0s(),t.nrm(6,"input",4),t.k0s(),t.j41(7,"mat-form-field",3)(8,"mat-label"),t.EFF(9,"Phone Number"),t.k0s(),t.nrm(10,"input",5),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Email"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Gender"),t.k0s(),t.j41(18,"mat-select",7),t.DNE(19,at,2,2,"mat-option",8),t.k0s()(),t.j41(20,"mat-form-field",3)(21,"mat-label"),t.EFF(22,"Select Roles"),t.k0s(),t.j41(23,"mat-select",9),t.DNE(24,st,2,2,"mat-option",8),t.k0s()(),t.j41(25,"mat-form-field",3)(26,"mat-label"),t.EFF(27,"Password"),t.k0s(),t.nrm(28,"input",10),t.k0s(),t.j41(29,"div",11)(30,"a",12),t.bIt("click",function(){return o.back()}),t.EFF(31,"CANCEL"),t.k0s(),t.j41(32,"button",13),t.EFF(33,"SAVE"),t.k0s()()()()()),2&i&&(t.R7$(),t.Y8G("formGroup",o.administratorForm),t.R7$(18),t.Y8G("ngForOf",t.lJ4(4,ot)),t.R7$(5),t.Y8G("ngForOf",o.roles),t.R7$(8),t.Y8G("disabled",o.administratorForm.invalid))},dependencies:[u.MD,u.Sq,v.m_,m.tP,k.g7,g.Ou,h.Cn,c.iI,p.Hl,p.It,p.$z,C.YF,d.DJ,d.BO,d.sA,d.UI,S.mV,f.RG,f.rl,f.nJ,b.Ve,b.VO,N.wT,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,a.YN,A.jL,L.fS,L.fg],encapsulation:2})}}return e})(),$=(()=>{class e{constructor(n){this.adminService=n}resolve(){return this.adminService.getAdmins()}static{this.\u0275fac=function(i){return new(i||e)(t.KVO(F))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),G=(()=>{class e{constructor(n){this.adminService=n}resolve(n){const i=n.paramMap.get("id");return this.adminService.getAdmin(i)}static{this.\u0275fac=function(i){return new(i||e)(t.KVO(F))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const rt=()=>["Male","Female"];function mt(e,s){if(1&e&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n),t.R7$(),t.JRh(n)}}function lt(e,s){if(1&e&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.Y8G("value",n._id),t.R7$(),t.JRh(n.name)}}let I=(()=>{class e{constructor(n,i,o,l){this.fb=n,this.adminService=i,this.location=o,this.route=l,this.roles=this.route.snapshot.data.roles,this.admin=this.route.snapshot.data.admin,this.administratorForm=this.fb.group({name:[this.admin.name,a.k0.required],phoneNumber:[this.admin.phoneNumber,a.k0.required],gender:[this.admin.gender,a.k0.required],email:[this.admin.email,a.k0.email],role:[this.admin?.role?._id,a.k0.required]})}ngOnInit(){}submit(){this.administratorForm.valid&&this.adminService.updateAdmin(this.admin._id,this.administratorForm.getRawValue()).subscribe(n=>{this.location.back()})}back(){this.location.back()}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(a.ok),t.rXU(F),t.rXU(u.aZ),t.rXU(c.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-admin-details"]],decls:30,vars:5,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Full Name","formControlName","name"],["matInput","","cancellation","Phone Number","formControlName","phoneNumber"],["matInput","","cancellation","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["formControlName","role"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.submit()}),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t.EFF(5,"Full Name"),t.k0s(),t.nrm(6,"input",4),t.k0s(),t.j41(7,"mat-form-field",3)(8,"mat-label"),t.EFF(9,"Phone Number"),t.k0s(),t.nrm(10,"input",5),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Email"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Gender"),t.k0s(),t.j41(18,"mat-select",7),t.DNE(19,mt,2,2,"mat-option",8),t.k0s()(),t.j41(20,"mat-form-field",3)(21,"mat-label"),t.EFF(22,"Select Roles"),t.k0s(),t.j41(23,"mat-select",9),t.DNE(24,lt,2,2,"mat-option",8),t.k0s()(),t.j41(25,"div",10)(26,"a",11),t.bIt("click",function(){return o.back()}),t.EFF(27,"CANCEL"),t.k0s(),t.j41(28,"button",12),t.EFF(29,"SAVE"),t.k0s()()()()()),2&i&&(t.R7$(),t.Y8G("formGroup",o.administratorForm),t.R7$(18),t.Y8G("ngForOf",t.lJ4(4,rt)),t.R7$(5),t.Y8G("ngForOf",o.roles),t.R7$(4),t.Y8G("disabled",o.administratorForm.invalid))},dependencies:[u.MD,u.Sq,v.m_,m.tP,k.g7,g.Ou,h.Cn,c.iI,p.Hl,p.It,p.$z,C.YF,d.DJ,d.BO,d.sA,d.UI,S.mV,f.RG,f.rl,f.nJ,b.Ve,b.VO,N.wT,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,a.YN,A.jL],encapsulation:2})}}return e})();var j=r(5220);const ct=[{path:"",component:D,children:[{path:"list",component:E,resolve:{admins:$}},{path:"new",component:_,resolve:{roles:j.N}},{path:":id/details",component:I,resolve:{admin:G,roles:j.N}}]}];let dt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[c.iI.forChild(ct),c.iI]})}}return e})();var ut=r(9358);let pt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({providers:[$,G,F,ut.K,j.N],imports:[u.MD,dt,C.YF,a.X1,D,E,_,I]})}}return e})()}}]);