"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[750],{5750:(Y,v,a)=>{a.r(v),a.d(v,{CuisinesModule:()=>de});var m=a(6814),p=a(1896),e=a(5879);let Z=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-cuisines"]],decls:1,vars:0,template:function(s,n){1&s&&e._UZ(0,"router-outlet")},dependencies:[p.lC]})}return i})();var h=a(8337),F=a(3365),o=a(5313),g=a(6567),C=a(7841),y=a(7700),f=a(2296),I=a(617),R=a(5986),A=a(7988),d=a(3814);function M(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"span",1)(1,"button",18),e._uU(2),e.qZA(),e.TgZ(3,"button",19),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelected())}),e.TgZ(4,"mat-icon",17),e._uU(5,"delete"),e.qZA(),e._uU(6," Delete Selected Cuisines "),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.hij("",t.selection.selected.length," Selected")}}function Q(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"th",20)(1,"mat-checkbox",21),e.NdJ("change",function(n){e.CHM(t);const c=e.oxw();return e.KtG(n?c.toggleAllRows():null)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function k(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"td",22)(1,"mat-checkbox",23),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(n){const r=e.CHM(t).$implicit,b=e.oxw();return e.KtG(n?b.selection.toggle(r):null)}),e.qZA()()}if(2&i){const t=u.$implicit,s=e.oxw();e.xp6(1),e.Q6J("checked",s.selection.isSelected(t))("aria-label",s.checkboxLabel(t))}}function O(i,u){1&i&&(e.TgZ(0,"th",20),e._uU(1,"Name"),e.qZA())}function q(i,u){if(1&i&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.Oqu(t.name)}}function E(i,u){1&i&&(e.TgZ(0,"th",20),e._uU(1,"Status"),e.qZA())}function V(i,u){if(1&i&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.Oqu(t.status)}}function B(i,u){1&i&&(e.TgZ(0,"th",20),e._uU(1,"Created At"),e.qZA())}function $(i,u){if(1&i&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=u.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.createdAt,"short"))}}function z(i,u){1&i&&(e.TgZ(0,"th",20),e._uU(1,"Actions"),e.qZA())}const G=function(i){return["../",i,"details"]};function H(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"td",22)(1,"button",24)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,25)(6,"button",26),e.NdJ("click",function(){const n=e.CHM(t),c=n.$implicit,r=n.index,b=e.oxw();return e.KtG(b.deleteCuisines(c._id,r))}),e.TgZ(7,"mat-icon",27),e._uU(8,"delete"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Delete"),e.qZA()(),e.TgZ(11,"button",28)(12,"mat-icon",27),e._uU(13,"edit"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Edit"),e.qZA()()()()}if(2&i){const t=u.$implicit,s=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",s),e.xp6(10),e.Q6J("routerLink",e.VKq(2,G,t._id))}}function K(i,u){1&i&&e._UZ(0,"tr",29)}function W(i,u){1&i&&e._UZ(0,"tr",30)}const X=function(){return[15,30,60]},j=function(){return["../","new"]};let P=(()=>{class i{constructor(t,s,n){this.route=t,this.cuisinesService=s,this._matDialog=n,this.displayedColumns=["select","name","status","createdAt","actions"],this.dataSource=new o.by([]),this.selection=new h.Ov(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new o.by(this.route.snapshot.data.cuisines)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(g.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete cuisines?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these cuisines?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&this.selection.selected.forEach((s,n)=>{this.dataSource.data.splice(n,1),this.dataSource=new o.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.cuisinesService.deleteCuisine(s._id).subscribe()})})}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteCuisines(t,s){this.confirmDialogRef=this._matDialog.open(g.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Cuisines?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this cuisines?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&(this.dataSource.data.splice(s,1),this.dataSource=new o.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.cuisinesService.deleteCuisine(t).subscribe())})}message(t){}static#e=this.\u0275fac=function(s){return new(s||i)(e.Y36(p.gz),e.Y36(C.x),e.Y36(y.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-list-cuisines"]],viewQuery:function(s,n){if(1&s&&e.Gf(F.NW,5),2&s){let c;e.iGM(c=e.CRH())&&(n.paginator=c.first)}},decls:30,vars:8,consts:[["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","status"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["fxLayout","row","fxLayoutAlign","end center",1,"m-5"],["mat-fab","","color","primary",1,"m-10",3,"routerLink"],[1,"mat-18"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(s,n){1&s&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1)(3,"span"),e._uU(4,"Cuisines"),e.qZA()(),e.YNc(5,M,7,1,"span",2),e.qZA(),e.TgZ(6,"div",3)(7,"table",4),e.ynx(8,5),e.YNc(9,Q,2,3,"th",6),e.YNc(10,k,2,2,"td",7),e.BQk(),e.ynx(11,8),e.YNc(12,O,2,0,"th",6),e.YNc(13,q,2,1,"td",7),e.BQk(),e.ynx(14,9),e.YNc(15,E,2,0,"th",6),e.YNc(16,V,2,1,"td",7),e.BQk(),e.ynx(17,10),e.YNc(18,B,2,0,"th",6),e.YNc(19,$,3,4,"td",7),e.BQk(),e.ynx(20,11),e.YNc(21,z,2,0,"th",6),e.YNc(22,H,16,4,"td",7),e.BQk(),e.YNc(23,K,1,0,"tr",12),e.YNc(24,W,1,0,"tr",13),e.qZA(),e._UZ(25,"mat-paginator",14),e.qZA(),e.TgZ(26,"div",15)(27,"button",16)(28,"mat-icon",17),e._uU(29,"add"),e.qZA()()()()),2&s&&(e.xp6(5),e.Q6J("ngIf",n.selection.selected.length),e.xp6(2),e.Q6J("dataSource",n.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(6,X)),e.xp6(2),e.Q6J("routerLink",e.DdM(7,j)))},dependencies:[m.O5,p.rH,f.lW,f.RK,f.cs,I.Hw,F.NW,o.BZ,o.fO,o.as,o.w1,o.Dz,o.nj,o.ge,o.ev,o.XQ,o.Gk,R.oG,A.VK,A.OP,A.p6,d.xw,d.SQ,d.Wh,m.uU]})}return i})();var l=a(6223),S=a(6116),D=a(3680),_=a(9157),L=a(2032),x=a(8525),N=a(2599),w=a(3064);function ee(i,u){if(1&i&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.AsE(" (+",((null==t.cuisineForm.value||null==t.cuisineForm.value.country?null:t.cuisineForm.value.country.length)||0)-1," ",2===(null==t.cuisineForm.value||null==t.cuisineForm.value.country?null:t.cuisineForm.value.country.length)?"other":"others",") ")}}function te(i,u){if(1&i&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.Q6J("value",t.country),e.xp6(1),e.Oqu(t.country)}}let ie=(()=>{class i{constructor(t,s,n,c,r){this.fb=t,this.cuisineService=s,this.location=n,this.dialog=c,this.route=r,this.mediaData={image:null,icon:null}}ngOnInit(){this.deliveriesZones=this.route.snapshot.data.deliveriesZones,this.cuisineForm=this.fb.group({name:["",l.kI.required],status:["",l.kI.required],image:["",l.kI.required],country:["",l.kI.required]})}submit(){this.cuisineForm.valid&&this.cuisineService.createCuisine(this.cuisineForm.getRawValue()).subscribe(t=>{this.location.back()})}back(){this.location.back()}addMedia(t){this.dialog.open(S.R).afterClosed().subscribe(n=>{n&&(this.cuisineForm.patchValue({[t]:n.url}),this.mediaData[t]={[t]:n}[t])})}removeValue(t){this.cuisineForm.patchValue({[t]:null}),this.mediaData[t]=null}static#e=this.\u0275fac=function(s){return new(s||i)(e.Y36(l.qu),e.Y36(C.x),e.Y36(m.Ye),e.Y36(y.uw),e.Y36(p.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-cuisine"]],decls:23,vars:7,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"isNew","mediaData","removeValue","openMediaBrowser"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Name Of Cuisine","formControlName","name"],["formControlName","status"],["appearance","fill"],["multiple","","formControlName","country"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[1,"example-additional-selection"],[3,"value"]],template:function(s,n){1&s&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.submit()}),e.TgZ(2,"div",2)(3,"app-select-media",3),e.NdJ("removeValue",function(r){return n.removeValue(r)})("openMediaBrowser",function(r){return n.addMedia(r)}),e.qZA(),e.TgZ(4,"mat-form-field",4)(5,"mat-label"),e._uU(6,"Name Of Cuisine"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"mat-slide-toggle",6),e._uU(9,"Enable"),e.qZA(),e.TgZ(10,"mat-form-field",7)(11,"mat-label"),e._uU(12,"Country"),e.qZA(),e.TgZ(13,"mat-select",8)(14,"mat-select-trigger"),e._uU(15),e.YNc(16,ee,2,2,"span",9),e.qZA(),e.YNc(17,te,2,2,"mat-option",10),e.qZA()(),e.TgZ(18,"div",11)(19,"a",12),e.NdJ("click",function(){return n.back()}),e._uU(20,"CANCEL"),e.qZA(),e.TgZ(21,"button",13),e._uU(22,"SAVE"),e.qZA()()()()()),2&s&&(e.xp6(1),e.Q6J("formGroup",n.cuisineForm),e.xp6(2),e.Q6J("isNew",!1)("mediaData",null==n.mediaData?null:n.mediaData.image),e.xp6(12),e.hij(" ",(null==n.cuisineForm.value||null==n.cuisineForm.value.country?null:n.cuisineForm.value.country[0])||""," "),e.xp6(1),e.Q6J("ngIf",((null==n.cuisineForm.value||null==n.cuisineForm.value.country||null==n.cuisineForm.value.country.value?null:n.cuisineForm.value.country.value.length)||0)>1),e.xp6(1),e.Q6J("ngForOf",n.deliveriesZones),e.xp6(4),e.Q6J("disabled",n.cuisineForm.invalid))},dependencies:[m.sg,m.O5,D.ey,f.zs,f.lW,_.KE,_.hX,L.Nt,x.gD,x.$L,N.Rr,d.xw,d.SQ,d.Wh,d.yH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,w.t]})}return i})(),U=(()=>{class i{constructor(t){this.cuisineService=t}resolve(){return this.cuisineService.getCuisines()}static#e=this.\u0275fac=function(s){return new(s||i)(e.LFG(C.x))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),J=(()=>{class i{constructor(t){this.cuisineService=t}resolve(t){const s=t.paramMap.get("id");return this.cuisineService.getCuisine(s)}static#e=this.\u0275fac=function(s){return new(s||i)(e.LFG(C.x))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ne(i,u){if(1&i&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.AsE(" (+",((null==t.cuisineForm.value||null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)||0)-1," ",2===(null==t.cuisineForm.value||null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)?"other":"others",") ")}}function se(i,u){if(1&i&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.Q6J("value",t.country),e.xp6(1),e.Oqu(t.country)}}let ae=(()=>{class i{constructor(t,s,n,c,r){this.fb=t,this.cuisineService=s,this.location=n,this.dialog=c,this.route=r,this.cuisine=this.route.snapshot.data.cuisine,this.mediaData={image:null,icon:null},this.cuisineForm=this.fb.group({name:[this.cuisine.name,l.kI.required],status:[this.cuisine.status,l.kI.required],image:[this.cuisine.image,l.kI.required],countries:[this.cuisine.countries,l.kI.required]}),this.mediaData={image:null,icon:null},this.mediaData.image=this.cuisine.image}ngOnInit(){this.deliveriesZones=this.route.snapshot.data.deliveriesZones}submit(){this.cuisineForm.valid&&this.cuisineService.updateCuisine(this.cuisine._id,this.cuisineForm.getRawValue()).subscribe(t=>{this.location.back()})}back(){this.location.back()}addMedia(t){this.dialog.open(S.R).afterClosed().subscribe(n=>{n&&(this.cuisineForm.patchValue({[t]:n.url}),this.mediaData[t]={[t]:n}[t])})}removeValue(t){this.cuisineForm.patchValue({[t]:null}),this.mediaData[t]=null}static#e=this.\u0275fac=function(s){return new(s||i)(e.Y36(l.qu),e.Y36(C.x),e.Y36(m.Ye),e.Y36(y.uw),e.Y36(p.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-cuisines-details"]],decls:23,vars:7,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"isNew","mediaData","removeValue","openMediaBrowser"],["appearance","fill",1,"full-width","my-4"],["matInput","","placeholder","Name Of Cuisine","formControlName","name"],["formControlName","status",1,"my-4"],["appearance","fill"],["multiple","","formControlName","countries"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[1,"example-additional-selection"],[3,"value"]],template:function(s,n){1&s&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.submit()}),e.TgZ(2,"div",2)(3,"app-select-media",3),e.NdJ("removeValue",function(r){return n.removeValue(r)})("openMediaBrowser",function(r){return n.addMedia(r)}),e.qZA(),e.TgZ(4,"mat-form-field",4)(5,"mat-label"),e._uU(6,"Name Of Cuisine"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"mat-slide-toggle",6),e._uU(9,"Enable"),e.qZA(),e.TgZ(10,"mat-form-field",7)(11,"mat-label"),e._uU(12,"countries"),e.qZA(),e.TgZ(13,"mat-select",8)(14,"mat-select-trigger"),e._uU(15),e.YNc(16,ne,2,2,"span",9),e.qZA(),e.YNc(17,se,2,2,"mat-option",10),e.qZA()(),e.TgZ(18,"div",11)(19,"a",12),e.NdJ("click",function(){return n.back()}),e._uU(20,"CANCEL"),e.qZA(),e.TgZ(21,"button",13),e._uU(22,"SAVE"),e.qZA()()()()()),2&s&&(e.xp6(1),e.Q6J("formGroup",n.cuisineForm),e.xp6(2),e.Q6J("isNew",!1)("mediaData",null==n.mediaData?null:n.mediaData.image),e.xp6(12),e.hij(" ",(null==n.cuisineForm.value||null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries[0])||""," "),e.xp6(1),e.Q6J("ngIf",((null==n.cuisineForm.value||null==n.cuisineForm.value.countries||null==n.cuisineForm.value.countries.value?null:n.cuisineForm.value.countries.value.length)||0)>1),e.xp6(1),e.Q6J("ngForOf",n.deliveriesZones),e.xp6(4),e.Q6J("disabled",n.cuisineForm.invalid))},dependencies:[m.sg,m.O5,D.ey,f.zs,f.lW,_.KE,_.hX,L.Nt,x.gD,x.$L,N.Rr,d.xw,d.SQ,d.Wh,d.yH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,w.t]})}return i})();var T=a(3212);const oe=[{path:"",component:Z,children:[{path:"list",component:P,resolve:{cuisines:U}},{path:"new",component:ie,resolve:{deliveriesZones:T.h}},{path:":id/details",component:ae,resolve:{cuisine:J,deliveriesZones:T.h}}]}];let le=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(oe),p.Bz]})}return i})();var ue=a(1447),ce=a(6005),re=a(6208),me=a(547);let de=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({providers:[U,J,C.x,T.h,me._],imports:[m.ez,le,ce.q,ue.o9,l.UX,re.m]})}return i})()},7841:(Y,v,a)=>{a.d(v,{x:()=>Z});var m=a(553),p=a(5879),e=a(9862);let Z=(()=>{class h{constructor(o){this._httpClient=o,this.hostServer=m.N.hostServer}createCuisine(o){return this._httpClient.post(`${this.hostServer}/cuisines`,o)}getCuisines(){return this._httpClient.get(`${this.hostServer}/cuisines`)}getCuisine(o){return this._httpClient.get(`${this.hostServer}/cuisines/${o}`)}updateCuisine(o,g){return this._httpClient.put(`${this.hostServer}/cuisines/${o}`,g)}deleteCuisine(o){return this._httpClient.delete(`${this.hostServer}/cuisines/${o}`)}static#e=this.\u0275fac=function(g){return new(g||h)(p.LFG(e.eN))};static#t=this.\u0275prov=p.Yz7({token:h,factory:h.\u0275fac})}return h})()}}]);