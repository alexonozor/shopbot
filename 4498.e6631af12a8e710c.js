"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[4498],{4498:(de,k,a)=>{a.r(k),a.d(k,{CuisinesModule:()=>ue});var d=a(177),f=a(8498),e=a(3953);let $=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-cuisines"]],decls:1,vars:0,template:function(s,n){1&s&&e.nrm(0,"router-outlet")},dependencies:[f.n3]})}return i})();var G=a(5024),D=a(6440),u=a(9159),_=a(1269),h=a(6737),v=a(5351),p=a(8834),I=a(9213),V=a(2765),F=a(9115),m=a(2920);const T=()=>[15,30,60],w=()=>["../","new"],N=i=>["../",i,"details"];function A(i,c){if(1&i){const t=e.RV6();e.j41(0,"span",2)(1,"button",19),e.EFF(2),e.k0s(),e.j41(3,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelected())}),e.j41(4,"mat-icon",18),e.EFF(5,"delete"),e.k0s(),e.EFF(6," Delete Selected Cuisines "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(2),e.SpI("",t.selection.selected.length," Selected")}}function Y(i,c){if(1&i){const t=e.RV6();e.j41(0,"th",21)(1,"mat-checkbox",22),e.bIt("change",function(n){e.eBV(t);const o=e.XpG();return e.Njj(n?o.toggleAllRows():null)}),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function B(i,c){if(1&i){const t=e.RV6();e.j41(0,"td",23)(1,"mat-checkbox",24),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())})("change",function(n){const o=e.eBV(t).$implicit,r=e.XpG();return e.Njj(n?r.selection.toggle(o):null)}),e.k0s()()}if(2&i){const t=c.$implicit,s=e.XpG();e.R7$(),e.Y8G("checked",s.selection.isSelected(t))("aria-label",s.checkboxLabel(t))}}function X(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Name"),e.k0s())}function M(i,c){if(1&i&&(e.j41(0,"td",23),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.JRh(t.name)}}function O(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Status"),e.k0s())}function U(i,c){if(1&i&&(e.j41(0,"td",23),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.JRh(t.status)}}function Z(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Created At"),e.k0s())}function J(i,c){if(1&i&&(e.j41(0,"td",23),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.JRh(e.i5U(2,1,t.createdAt,"short"))}}function z(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Actions"),e.k0s())}function K(i,c){if(1&i){const t=e.RV6();e.j41(0,"td",23)(1,"button",25)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",null,0)(6,"button",26),e.bIt("click",function(){const n=e.eBV(t),o=n.$implicit,r=n.index,me=e.XpG();return e.Njj(me.deleteCuisines(o._id,r))}),e.j41(7,"mat-icon",27),e.EFF(8,"delete"),e.k0s(),e.j41(9,"span"),e.EFF(10,"Delete"),e.k0s()(),e.j41(11,"button",28)(12,"mat-icon",27),e.EFF(13,"edit"),e.k0s(),e.j41(14,"span"),e.EFF(15,"Edit"),e.k0s()()()()}if(2&i){const t=c.$implicit,s=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",s),e.R7$(10),e.Y8G("routerLink",e.eq3(2,N,t._id))}}function H(i,c){1&i&&e.nrm(0,"tr",29)}function Q(i,c){1&i&&e.nrm(0,"tr",30)}let P=(()=>{class i{constructor(t,s,n){this.route=t,this.cuisinesService=s,this._matDialog=n,this.displayedColumns=["select","name","status","createdAt","actions"],this.dataSource=new u.I6([]),this.selection=new G.CB(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new u.I6(this.route.snapshot.data.cuisines)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(_.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete cuisines?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these cuisines?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&this.selection.selected.forEach((s,n)=>{this.dataSource.data.splice(n,1),this.dataSource=new u.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.cuisinesService.deleteCuisine(s._id).subscribe()})})}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteCuisines(t,s){this.confirmDialogRef=this._matDialog.open(_.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Cuisines?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this cuisines?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&(this.dataSource.data.splice(s,1),this.dataSource=new u.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.cuisinesService.deleteCuisine(t).subscribe())})}message(t){}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(f.nX),e.rXU(h.F),e.rXU(v.bZ))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-list-cuisines"]],viewQuery:function(s,n){if(1&s&&e.GBs(D.iy,5),2&s){let o;e.mGM(o=e.lsd())&&(n.paginator=o.first)}},decls:30,vars:8,consts:[["menu","matMenu"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","status"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["fxLayout","row","fxLayoutAlign","end center",1,"m-5"],["mat-fab","","color","primary",1,"m-10",3,"routerLink"],[1,"mat-18"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"change","checked","indeterminate","aria-label"],["mat-cell",""],[3,"click","change","checked","aria-label"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(s,n){1&s&&(e.j41(0,"div")(1,"div",1)(2,"span",2)(3,"span"),e.EFF(4,"Cuisines"),e.k0s()(),e.DNE(5,A,7,1,"span",3),e.k0s(),e.j41(6,"div",4)(7,"table",5),e.qex(8,6),e.DNE(9,Y,2,3,"th",7)(10,B,2,2,"td",8),e.bVm(),e.qex(11,9),e.DNE(12,X,2,0,"th",7)(13,M,2,1,"td",8),e.bVm(),e.qex(14,10),e.DNE(15,O,2,0,"th",7)(16,U,2,1,"td",8),e.bVm(),e.qex(17,11),e.DNE(18,Z,2,0,"th",7)(19,J,3,4,"td",8),e.bVm(),e.qex(20,12),e.DNE(21,z,2,0,"th",7)(22,K,16,4,"td",8),e.bVm(),e.DNE(23,H,1,0,"tr",13)(24,Q,1,0,"tr",14),e.k0s(),e.nrm(25,"mat-paginator",15),e.k0s(),e.j41(26,"div",16)(27,"button",17)(28,"mat-icon",18),e.EFF(29,"add"),e.k0s()()()()),2&s&&(e.R7$(5),e.Y8G("ngIf",n.selection.selected.length),e.R7$(2),e.Y8G("dataSource",n.dataSource),e.R7$(16),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(6,T)),e.R7$(2),e.Y8G("routerLink",e.lJ4(7,w)))},dependencies:[d.bT,f.Wk,p.$z,p.iY,p.Sr,I.An,D.iy,u.Zl,u.tL,u.ji,u.cC,u.YV,u.iL,u.KS,u.$R,u.YZ,u.NB,V.So,F.kk,F.fb,F.Cp,m.DJ,m.BO,m.sA,d.vh]})}return i})();var l=a(9417),R=a(2264),y=a(6600),C=a(3719),S=a(9631),g=a(2798),j=a(450),L=a(801);function W(i,c){if(1&i&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Lme(" (+",((null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)||0)-1," ",2===(null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)?"other":"others",") ")}}function q(i,c){if(1&i&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t.country),e.R7$(),e.JRh(t.country)}}let ee=(()=>{class i{constructor(t,s,n,o,r){this.fb=t,this.cuisineService=s,this.location=n,this.dialog=o,this.route=r,this.mediaData={image:null,icon:null}}ngOnInit(){this.deliveriesZones=this.route.snapshot.data.deliveriesZones,this.cuisineForm=this.fb.group({name:["",l.k0.required],status:["",l.k0.required],image:["",l.k0.required],countries:["",l.k0.required]})}submit(){this.cuisineForm.valid&&this.cuisineService.createCuisine(this.cuisineForm.getRawValue()).subscribe(t=>{this.location.back()})}selectedCountry(t){this.selectedZone=this.deliveriesZones.find(s=>s.country==t.value)}back(){this.location.back()}addMedia(t){this.dialog.open(R.w).afterClosed().subscribe(n=>{n&&(this.cuisineForm.patchValue({[t]:n.url}),this.mediaData[t]={[t]:n}[t])})}removeValue(t){this.cuisineForm.patchValue({[t]:null}),this.mediaData[t]=null}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(l.ok),e.rXU(h.F),e.rXU(d.aZ),e.rXU(v.bZ),e.rXU(f.nX))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-create-cuisine"]],decls:23,vars:7,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"removeValue","openMediaBrowser","isNew","mediaData"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Name Of Cuisine","formControlName","name"],["formControlName","status"],["appearance","fill"],["multiple","","formControlName","countries"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[1,"example-additional-selection"],[3,"value"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(2,"div",2)(3,"app-select-media",3),e.bIt("removeValue",function(r){return n.removeValue(r)})("openMediaBrowser",function(r){return n.addMedia(r)}),e.k0s(),e.j41(4,"mat-form-field",4)(5,"mat-label"),e.EFF(6,"Name Of Cuisine"),e.k0s(),e.nrm(7,"input",5),e.k0s(),e.j41(8,"mat-slide-toggle",6),e.EFF(9,"Enable"),e.k0s(),e.j41(10,"mat-form-field",7)(11,"mat-label"),e.EFF(12,"Country"),e.k0s(),e.j41(13,"mat-select",8)(14,"mat-select-trigger"),e.EFF(15),e.DNE(16,W,2,2,"span",9),e.k0s(),e.DNE(17,q,2,2,"mat-option",10),e.k0s()(),e.j41(18,"div",11)(19,"a",12),e.bIt("click",function(){return n.back()}),e.EFF(20,"CANCEL"),e.k0s(),e.j41(21,"button",13),e.EFF(22,"SAVE"),e.k0s()()()()()),2&s&&(e.R7$(),e.Y8G("formGroup",n.cuisineForm),e.R7$(2),e.Y8G("isNew",!1)("mediaData",null==n.mediaData?null:n.mediaData.image),e.R7$(12),e.SpI(" ",(null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries[0])||""," "),e.R7$(),e.Y8G("ngIf",((null==n.cuisineForm.value||null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries.length)||0)>1),e.R7$(),e.Y8G("ngForOf",n.deliveriesZones),e.R7$(4),e.Y8G("disabled",n.cuisineForm.invalid))},dependencies:[d.Sq,d.bT,y.wT,p.It,p.$z,C.rl,C.nJ,S.fg,g.VO,g.$2,j.sG,m.DJ,m.BO,m.sA,m.UI,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,L.C]})}return i})(),x=(()=>{class i{constructor(t){this.cuisineService=t}resolve(){return this.cuisineService.getCuisines()}static#e=this.\u0275fac=function(s){return new(s||i)(e.KVO(h.F))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),E=(()=>{class i{constructor(t){this.cuisineService=t}resolve(t){const s=t.paramMap.get("id");return this.cuisineService.getCuisine(s)}static#e=this.\u0275fac=function(s){return new(s||i)(e.KVO(h.F))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function te(i,c){if(1&i&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Lme(" (+",((null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)||0)-1," ",2===(null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)?"other":"others",") ")}}function ie(i,c){if(1&i&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t.country),e.R7$(),e.JRh(t.country)}}let ne=(()=>{class i{constructor(t,s,n,o,r){this.fb=t,this.cuisineService=s,this.location=n,this.dialog=o,this.route=r,this.cuisine=this.route.snapshot.data.cuisine,this.mediaData={image:null,icon:null},this.cuisineForm=this.fb.group({name:[this.cuisine.name,l.k0.required],status:[this.cuisine.status,l.k0.required],image:[this.cuisine.image,l.k0.required],countries:[this.cuisine.countries,l.k0.required]}),this.mediaData={image:null,icon:null},this.mediaData.image=this.cuisine.image}ngOnInit(){this.deliveriesZones=this.route.snapshot.data.deliveriesZones}selectedCountry(t){this.selectedZone=this.deliveriesZones.find(s=>s.country==t)}submit(){this.cuisineForm.valid&&this.cuisineService.updateCuisine(this.cuisine._id,this.cuisineForm.getRawValue()).subscribe(t=>{this.location.back()})}back(){this.location.back()}addMedia(t){this.dialog.open(R.w).afterClosed().subscribe(n=>{n&&(this.cuisineForm.patchValue({[t]:n.url}),this.mediaData[t]={[t]:n}[t])})}removeValue(t){this.cuisineForm.patchValue({[t]:null}),this.mediaData[t]=null}static#e=this.\u0275fac=function(s){return new(s||i)(e.rXU(l.ok),e.rXU(h.F),e.rXU(d.aZ),e.rXU(v.bZ),e.rXU(f.nX))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-cuisines-details"]],decls:23,vars:7,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"removeValue","openMediaBrowser","isNew","mediaData"],["appearance","fill",1,"full-width","my-4"],["matInput","","cancellation","Name Of Cuisine","formControlName","name"],["formControlName","status",1,"my-4"],["appearance","fill"],["multiple","","formControlName","countries"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[1,"example-additional-selection"],[3,"value"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(2,"div",2)(3,"app-select-media",3),e.bIt("removeValue",function(r){return n.removeValue(r)})("openMediaBrowser",function(r){return n.addMedia(r)}),e.k0s(),e.j41(4,"mat-form-field",4)(5,"mat-label"),e.EFF(6,"Name Of Cuisine"),e.k0s(),e.nrm(7,"input",5),e.k0s(),e.j41(8,"mat-slide-toggle",6),e.EFF(9,"Enable"),e.k0s(),e.j41(10,"mat-form-field",7)(11,"mat-label"),e.EFF(12,"Country"),e.k0s(),e.j41(13,"mat-select",8)(14,"mat-select-trigger"),e.EFF(15),e.DNE(16,te,2,2,"span",9),e.k0s(),e.DNE(17,ie,2,2,"mat-option",10),e.k0s()(),e.j41(18,"div",11)(19,"a",12),e.bIt("click",function(){return n.back()}),e.EFF(20,"CANCEL"),e.k0s(),e.j41(21,"button",13),e.EFF(22,"SAVE"),e.k0s()()()()()),2&s&&(e.R7$(),e.Y8G("formGroup",n.cuisineForm),e.R7$(2),e.Y8G("isNew",!1)("mediaData",null==n.mediaData?null:n.mediaData.image),e.R7$(12),e.SpI(" ",(null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries[0])||""," "),e.R7$(),e.Y8G("ngIf",((null==n.cuisineForm.value||null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries.length)||0)>1),e.R7$(),e.Y8G("ngForOf",n.deliveriesZones),e.R7$(4),e.Y8G("disabled",n.cuisineForm.invalid))},dependencies:[d.Sq,d.bT,y.wT,p.It,p.$z,C.rl,C.nJ,S.fg,g.VO,g.$2,j.sG,m.DJ,m.BO,m.sA,m.UI,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,L.C]})}return i})();var b=a(4e3);const se=[{path:"",component:$,children:[{path:"list",component:P,resolve:{cuisines:x}},{path:"new",component:ee,resolve:{deliveriesZones:b.K}},{path:":id/details",component:ne,resolve:{cuisine:E,deliveriesZones:b.K}}]}];let ae=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[f.iI.forChild(se),f.iI]})}return i})();var oe=a(6924),le=a(3457),ce=a(3887),re=a(4919);let ue=(()=>{class i{static#e=this.\u0275fac=function(s){return new(s||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({providers:[x,E,h.F,b.K,re.s],imports:[d.MD,ae,le.G,oe.YF,l.X1,ce.G]})}return i})()}}]);