"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[140],{140:(ft,k,s)=>{s.r(k),s.d(k,{AdminModule:()=>ut});var d=s(177),u=s(8498),t=s(3953);let R=(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-admin"]],decls:1,vars:0,template:function(i,o){1&i&&t.nrm(0,"router-outlet")},dependencies:[u.n3]})}return e})();var y=s(5024),C=s(6440),l=s(9159),v=s(1269),E=s(5312),D=s(1626);let f=(()=>{class e{constructor(n){this._httpClient=n,this.hostServer=E.c.hostServer}createAdmin(n){return this._httpClient.post(`${this.hostServer}/staffs`,n)}getAdmins(){return this._httpClient.get(`${this.hostServer}/staffs`)}getAdmin(n){return this._httpClient.get(`${this.hostServer}/staffs/${n}`)}deleteAdmin(n){return this._httpClient.delete(`${this.hostServer}/staffs/${n}`)}updateAdmin(n,i){return this._httpClient.put(`${this.hostServer}/staffs/${n}`,i)}static#t=this.\u0275fac=function(i){return new(i||e)(t.KVO(D.Qq))};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}return e})();var L=s(5351),p=s(8834),$=s(9213),N=s(2765),F=s(9115),c=s(2920);const G=()=>[15,30,60],I=()=>["../","new"],T=e=>["../",e,"details"];function w(e,a){if(1&e){const n=t.RV6();t.j41(0,"span",2)(1,"button",20),t.EFF(2),t.k0s(),t.j41(3,"button",21),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.deleteSelected())}),t.j41(4,"mat-icon",19),t.EFF(5,"delete"),t.k0s(),t.EFF(6," Delete Selected Administrators "),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(2),t.SpI("",n.selection.selected.length," Selected")}}function V(e,a){if(1&e){const n=t.RV6();t.j41(0,"th",22)(1,"mat-checkbox",23),t.bIt("change",function(o){t.eBV(n);const m=t.XpG();return t.Njj(o?m.toggleAllRows():null)}),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())("aria-label",n.checkboxLabel())}}function Y(e,a){if(1&e){const n=t.RV6();t.j41(0,"td",24)(1,"mat-checkbox",25),t.bIt("click",function(o){return t.eBV(n),t.Njj(o.stopPropagation())})("change",function(o){const m=t.eBV(n).$implicit,b=t.XpG();return t.Njj(o?b.selection.toggle(m):null)}),t.k0s()()}if(2&e){const n=a.$implicit,i=t.XpG();t.R7$(),t.Y8G("checked",i.selection.isSelected(n))("aria-label",i.checkboxLabel(n))}}function X(e,a){1&e&&(t.j41(0,"th",22),t.EFF(1,"Name"),t.k0s())}function B(e,a){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.JRh(n.name)}}function O(e,a){1&e&&(t.j41(0,"th",22),t.EFF(1,"Phone Number"),t.k0s())}function J(e,a){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.JRh(n.phoneNumber)}}function U(e,a){1&e&&(t.j41(0,"th",22),t.EFF(1,"Email"),t.k0s())}function M(e,a){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.JRh(n.email)}}function z(e,a){1&e&&(t.j41(0,"th",22),t.EFF(1,"Registered at"),t.k0s())}function P(e,a){if(1&e&&(t.j41(0,"td",24),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=a.$implicit;t.R7$(),t.JRh(t.i5U(2,1,n.createdAt,"short"))}}function H(e,a){1&e&&(t.j41(0,"th",22),t.EFF(1,"Actions"),t.k0s())}function K(e,a){if(1&e){const n=t.RV6();t.j41(0,"td",24)(1,"button",26)(2,"mat-icon"),t.EFF(3,"more_vert"),t.k0s()(),t.j41(4,"mat-menu",null,0)(6,"button",27),t.bIt("click",function(){const o=t.eBV(n),m=o.$implicit,b=o.index,pt=t.XpG();return t.Njj(pt.deleteAdmin(m._id,b))}),t.j41(7,"mat-icon",28),t.EFF(8,"delete"),t.k0s(),t.j41(9,"span"),t.EFF(10,"Delete"),t.k0s()(),t.j41(11,"button",29)(12,"mat-icon",28),t.EFF(13,"person"),t.k0s(),t.j41(14,"span"),t.EFF(15,"Profile"),t.k0s()()()()}if(2&e){const n=a.$implicit,i=t.sdS(5);t.R7$(),t.Y8G("matMenuTriggerFor",i),t.R7$(10),t.Y8G("routerLink",t.eq3(2,T,n._id))}}function Z(e,a){1&e&&t.nrm(0,"tr",30)}function Q(e,a){1&e&&t.nrm(0,"tr",31)}let W=(()=>{class e{constructor(n,i,o){this.route=n,this.adminService=i,this._matDialog=o,this.displayedColumns=["select","Name","phoneNumber","email","phoneNumber","createdAt","actions"],this.dataSource=new l.I6([]),this.selection=new y.CB(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new l.I6(this.route.snapshot.data.admins)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(v.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete administrators?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these administrators?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this.selection.selected.forEach((i,o)=>{this.dataSource.data.splice(o,1),this.dataSource=new l.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.adminService.deleteAdmin(i._id).subscribe()})})}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row ${n.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteAdmin(n,i){this.confirmDialogRef=this._matDialog.open(v.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Administrator?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this administrator?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(o=>{o&&(this.dataSource.data.splice(i,1),this.dataSource=new l.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.adminService.deleteAdmin(n).subscribe())})}message(n){}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(u.nX),t.rXU(f),t.rXU(L.bZ))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-list-admin"]],viewQuery:function(i,o){if(1&i&&t.GBs(C.iy,5),2&i){let m;t.mGM(m=t.lsd())&&(o.paginator=m.first)}},decls:33,vars:8,consts:[["menu","matMenu"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","phoneNumber"],["matColumnDef","email"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["fxLayout","row","fxLayoutAlign","end center",1,"m-5"],["mat-fab","","color","primary",1,"m-10",3,"routerLink"],[1,"mat-18"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"change","checked","indeterminate","aria-label"],["mat-cell",""],[3,"click","change","checked","aria-label"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.j41(0,"div")(1,"div",1)(2,"span",2)(3,"span"),t.EFF(4,"Administrators"),t.k0s()(),t.DNE(5,w,7,1,"span",3),t.k0s(),t.j41(6,"div",4)(7,"table",5),t.qex(8,6),t.DNE(9,V,2,3,"th",7)(10,Y,2,2,"td",8),t.bVm(),t.qex(11,9),t.DNE(12,X,2,0,"th",7)(13,B,2,1,"td",8),t.bVm(),t.qex(14,10),t.DNE(15,O,2,0,"th",7)(16,J,2,1,"td",8),t.bVm(),t.qex(17,11),t.DNE(18,U,2,0,"th",7)(19,M,2,1,"td",8),t.bVm(),t.qex(20,12),t.DNE(21,z,2,0,"th",7)(22,P,3,4,"td",8),t.bVm(),t.qex(23,13),t.DNE(24,H,2,0,"th",7)(25,K,16,4,"td",8),t.bVm(),t.DNE(26,Z,1,0,"tr",14)(27,Q,1,0,"tr",15),t.k0s(),t.nrm(28,"mat-paginator",16),t.k0s(),t.j41(29,"div",17)(30,"button",18)(31,"mat-icon",19),t.EFF(32,"add"),t.k0s()()()()),2&i&&(t.R7$(5),t.Y8G("ngIf",o.selection.selected.length),t.R7$(2),t.Y8G("dataSource",o.dataSource),t.R7$(19),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(6,G)),t.R7$(2),t.Y8G("routerLink",t.lJ4(7,I)))},dependencies:[d.bT,u.Wk,p.$z,p.iY,p.Sr,$.An,C.iy,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,N.So,F.kk,F.fb,F.Cp,c.DJ,c.BO,c.sA,d.vh]})}return e})();var r=s(9417),A=s(6600),h=s(3719),_=s(9631),S=s(2798);const q=()=>["Male","Female"];function tt(e,a){if(1&e&&(t.j41(0,"mat-option",14),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.Y8G("value",n),t.R7$(),t.JRh(n)}}function et(e,a){if(1&e&&(t.j41(0,"mat-option",14),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.Y8G("value",n._id),t.R7$(),t.JRh(n.name)}}let nt=(()=>{class e{constructor(n,i,o,m){this.fb=n,this.adminService=i,this.location=o,this.route=m,this.administratorForm=this.fb.group({name:["",r.k0.required],phoneNumber:["",r.k0.required],gender:["",r.k0.required],email:["",r.k0.email],password:["",r.k0.required],role:["",r.k0.required]}),this.roles=this.route.snapshot.data.roles}ngOnInit(){}submit(){this.administratorForm.valid&&this.adminService.createAdmin(this.administratorForm.getRawValue()).subscribe(n=>{this.location.back()})}back(){this.location.back()}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(r.ok),t.rXU(f),t.rXU(d.aZ),t.rXU(u.nX))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-create-admin"]],decls:34,vars:5,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Full Name","formControlName","name"],["matInput","","cancellation","Phone Number","formControlName","phoneNumber"],["matInput","","cancellation","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["formControlName","role"],["matInput","","type","password","cancellation","Password","formControlName","password"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.submit()}),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t.EFF(5,"Full Name"),t.k0s(),t.nrm(6,"input",4),t.k0s(),t.j41(7,"mat-form-field",3)(8,"mat-label"),t.EFF(9,"Phone Number"),t.k0s(),t.nrm(10,"input",5),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Email"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Gender"),t.k0s(),t.j41(18,"mat-select",7),t.DNE(19,tt,2,2,"mat-option",8),t.k0s()(),t.j41(20,"mat-form-field",3)(21,"mat-label"),t.EFF(22,"Select Roles"),t.k0s(),t.j41(23,"mat-select",9),t.DNE(24,et,2,2,"mat-option",8),t.k0s()(),t.j41(25,"mat-form-field",3)(26,"mat-label"),t.EFF(27,"Password"),t.k0s(),t.nrm(28,"input",10),t.k0s(),t.j41(29,"div",11)(30,"a",12),t.bIt("click",function(){return o.back()}),t.EFF(31,"CANCEL"),t.k0s(),t.j41(32,"button",13),t.EFF(33,"SAVE"),t.k0s()()()()()),2&i&&(t.R7$(),t.Y8G("formGroup",o.administratorForm),t.R7$(18),t.Y8G("ngForOf",t.lJ4(4,q)),t.R7$(5),t.Y8G("ngForOf",o.roles),t.R7$(8),t.Y8G("disabled",o.administratorForm.invalid))},dependencies:[d.Sq,A.wT,p.It,p.$z,h.rl,h.nJ,_.fg,S.VO,c.DJ,c.BO,c.sA,c.UI,r.qT,r.me,r.BC,r.cb,r.j4,r.JD]})}return e})(),j=(()=>{class e{constructor(n){this.adminService=n}resolve(){return this.adminService.getAdmins()}static#t=this.\u0275fac=function(i){return new(i||e)(t.KVO(f))};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),x=(()=>{class e{constructor(n){this.adminService=n}resolve(n){const i=n.paramMap.get("id");return this.adminService.getAdmin(i)}static#t=this.\u0275fac=function(i){return new(i||e)(t.KVO(f))};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const it=()=>["Male","Female"];function ot(e,a){if(1&e&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.Y8G("value",n),t.R7$(),t.JRh(n)}}function at(e,a){if(1&e&&(t.j41(0,"mat-option",13),t.EFF(1),t.k0s()),2&e){const n=a.$implicit;t.Y8G("value",n._id),t.R7$(),t.JRh(n.name)}}let st=(()=>{class e{constructor(n,i,o,m){this.fb=n,this.adminService=i,this.location=o,this.route=m,this.roles=this.route.snapshot.data.roles,this.admin=this.route.snapshot.data.admin,this.administratorForm=this.fb.group({name:[this.admin.name,r.k0.required],phoneNumber:[this.admin.phoneNumber,r.k0.required],gender:[this.admin.gender,r.k0.required],email:[this.admin.email,r.k0.email],role:[this.admin?.role?._id,r.k0.required]})}ngOnInit(){}submit(){this.administratorForm.valid&&this.adminService.updateAdmin(this.admin._id,this.administratorForm.getRawValue()).subscribe(n=>{this.location.back()})}back(){this.location.back()}static#t=this.\u0275fac=function(i){return new(i||e)(t.rXU(r.ok),t.rXU(f),t.rXU(d.aZ),t.rXU(u.nX))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-admin-details"]],decls:30,vars:5,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Full Name","formControlName","name"],["matInput","","cancellation","Phone Number","formControlName","phoneNumber"],["matInput","","cancellation","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["formControlName","role"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return o.submit()}),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t.EFF(5,"Full Name"),t.k0s(),t.nrm(6,"input",4),t.k0s(),t.j41(7,"mat-form-field",3)(8,"mat-label"),t.EFF(9,"Phone Number"),t.k0s(),t.nrm(10,"input",5),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Email"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Gender"),t.k0s(),t.j41(18,"mat-select",7),t.DNE(19,ot,2,2,"mat-option",8),t.k0s()(),t.j41(20,"mat-form-field",3)(21,"mat-label"),t.EFF(22,"Select Roles"),t.k0s(),t.j41(23,"mat-select",9),t.DNE(24,at,2,2,"mat-option",8),t.k0s()(),t.j41(25,"div",10)(26,"a",11),t.bIt("click",function(){return o.back()}),t.EFF(27,"CANCEL"),t.k0s(),t.j41(28,"button",12),t.EFF(29,"SAVE"),t.k0s()()()()()),2&i&&(t.R7$(),t.Y8G("formGroup",o.administratorForm),t.R7$(18),t.Y8G("ngForOf",t.lJ4(4,it)),t.R7$(5),t.Y8G("ngForOf",o.roles),t.R7$(4),t.Y8G("disabled",o.administratorForm.invalid))},dependencies:[d.Sq,A.wT,p.It,p.$z,h.rl,h.nJ,_.fg,S.VO,c.DJ,c.BO,c.sA,c.UI,r.qT,r.me,r.BC,r.cb,r.j4,r.JD]})}return e})();var g=s(5220);const rt=[{path:"",component:R,children:[{path:"list",component:W,resolve:{admins:j}},{path:"new",component:nt,resolve:{roles:g.N}},{path:":id/details",component:st,resolve:{admin:x,roles:g.N}}]}];let mt=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[u.iI.forChild(rt),u.iI]})}return e})();var lt=s(6924),ct=s(3457),dt=s(9358);let ut=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({providers:[j,x,f,dt.K,g.N],imports:[d.MD,mt,ct.G,lt.YF,r.X1]})}return e})()}}]);