"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[9076],{9076:(U,p,t)=>{t.r(p),t.d(p,{PickupAndDeliveryTabComponent:()=>G});var n=t(9417),f=t(980),v=t(5749),s=t(177),_=t(6924),y=t(3457),e=t(3953),F=t(5416),E=t(8498),g=t(6600),h=t(8834),d=t(3719),k=t(9213),D=t(9631),O=t(2798),P=t(1997),b=t(450),c=t(5951),u=t(2920);const A=()=>["Instant Delivery","Schedule Delivery"];function C(r,o){if(1&r&&(e.j41(0,"mat-form-field",28)(1,"mat-label"),e.EFF(2,"Enter Minimum order amount"),e.k0s(),e.nrm(3,"input",29),e.j41(4,"span",10),e.EFF(5),e.k0s()()),2&r){const i=e.XpG(2);e.R7$(5),e.JRh(i.store.currency?i.store.currency:"Currency")}}function I(r,o){if(1&r&&(e.j41(0,"div",20),e.nrm(1,"mat-divider"),e.j41(2,"div",21)(3,"h3"),e.EFF(4,"Minimum order amount"),e.k0s(),e.j41(5,"div",22)(6,"mat-slide-toggle",23),e.EFF(7,"Require a minimum amount for orders to be eligible for pickup "),e.k0s(),e.DNE(8,C,6,1,"mat-form-field",24),e.k0s()(),e.nrm(9,"mat-divider"),e.j41(10,"div",25)(11,"h2"),e.EFF(12,"How will customers pickup their orders? "),e.k0s(),e.j41(13,"p"),e.EFF(14,"Provide instructions for your customers so they know how to get their pickup orders. Include information such as:Provide instructions for your customers so they know how to get their pickup orders. Include information such as:"),e.k0s(),e.j41(15,"ul")(16,"li"),e.EFF(17,"Where to go in the store"),e.k0s(),e.j41(18,"li"),e.EFF(19,"If they need name or order number"),e.k0s(),e.j41(20,"li"),e.EFF(21,"If someone else can pickup the order"),e.k0s()(),e.j41(22,"mat-form-field",26)(23,"mat-label"),e.EFF(24,"Enter Pickup Instruction"),e.k0s(),e.nrm(25,"textarea",27),e.k0s()()()),2&r){const i=e.XpG();e.R7$(8),e.Y8G("ngIf",i.pickupAndDeliveryForm.value.orderSettings.allowMinimumOrderAmount)}}function T(r,o){if(1&r&&(e.j41(0,"mat-radio-button",30),e.EFF(1),e.k0s()),2&r){const i=o.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i," ")}}function j(r,o){if(1&r&&(e.j41(0,"mat-option",45),e.EFF(1),e.k0s()),2&r){const i=o.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i," ")}}function x(r,o){if(1&r&&(e.j41(0,"mat-option",45),e.EFF(1),e.k0s()),2&r){const i=o.$implicit;e.Y8G("value",i.value),e.R7$(),e.SpI(" ",i.viewValue," ")}}function M(r,o){1&r&&(e.j41(0,"mat-form-field",8)(1,"mat-label"),e.EFF(2,"Enter delivery for all orders"),e.k0s(),e.nrm(3,"input",46),e.k0s())}function S(r,o){1&r&&(e.j41(0,"div",22)(1,"mat-form-field",8)(2,"mat-label"),e.EFF(3,"Order amount to qualify for free delivery"),e.k0s(),e.nrm(4,"input",47),e.j41(5,"span",10),e.EFF(6,"N"),e.k0s()(),e.j41(7,"mat-form-field",8)(8,"mat-label"),e.EFF(9,"Delivery fee for all other orders"),e.k0s(),e.nrm(10,"input",48),e.j41(11,"span",10),e.EFF(12,"N"),e.k0s()()())}function N(r,o){1&r&&(e.j41(0,"div",22)(1,"mat-form-field",8)(2,"mat-label"),e.EFF(3,"Minimum delivery fee"),e.k0s(),e.nrm(4,"input",49),e.j41(5,"span",10),e.EFF(6,"N"),e.k0s()(),e.j41(7,"mat-form-field",8)(8,"mat-label"),e.EFF(9,"Delivery fee per kilometer"),e.k0s(),e.nrm(10,"input",50),e.j41(11,"span",10),e.EFF(12,"N"),e.k0s()()())}function R(r,o){1&r&&(e.j41(0,"mat-form-field",8)(1,"mat-label"),e.EFF(2,"Enter Minimum order amount"),e.k0s(),e.nrm(3,"input",51),e.j41(4,"span",10),e.EFF(5,"N"),e.k0s()())}function B(r,o){1&r&&(e.j41(0,"div")(1,"p",25),e.EFF(2,"Provide instructions for your customers so they know how to get their delivered orders. Include information such as: "),e.k0s(),e.j41(3,"ul")(4,"li"),e.EFF(5,"If they need name or order number"),e.k0s(),e.j41(6,"li"),e.EFF(7," If someone else can receive the order"),e.k0s()(),e.j41(8,"mat-form-field",26)(9,"mat-label"),e.EFF(10,"Enter Delivery Instruction"),e.k0s(),e.nrm(11,"textarea",52),e.k0s()())}function L(r,o){if(1&r&&(e.j41(0,"div")(1,"div",11)(2,"mat-form-field",8)(3,"mat-label"),e.EFF(4,"Delivery Types"),e.k0s(),e.j41(5,"mat-select",31),e.DNE(6,j,2,2,"mat-option",32),e.k0s()()(),e.j41(7,"div",11)(8,"p"),e.EFF(9,"Customers outside this area will not be able to place orders for delivery from this location. "),e.k0s(),e.j41(10,"mat-form-field",8)(11,"mat-label"),e.EFF(12,"Enter delivery radius"),e.k0s(),e.nrm(13,"input",33),e.j41(14,"span",10),e.EFF(15,"Km"),e.k0s()()(),e.nrm(16,"mat-divider"),e.j41(17,"div",25)(18,"h2"),e.EFF(19,"Delivery fee"),e.k0s(),e.j41(20,"div",34)(21,"mat-form-field",8)(22,"mat-label"),e.EFF(23,"Delivery fee"),e.k0s(),e.j41(24,"mat-select",35),e.DNE(25,x,2,2,"mat-option",32),e.k0s()(),e.DNE(26,M,4,0,"mat-form-field",36)(27,S,13,0,"div",37)(28,N,13,0,"div",37),e.k0s()(),e.nrm(29,"mat-divider"),e.j41(30,"div",38)(31,"h3"),e.EFF(32,"Minimum order amount"),e.k0s(),e.j41(33,"mat-slide-toggle",23),e.EFF(34,"Require a minimum amount for orders to be eligible for delivery "),e.k0s(),e.DNE(35,R,6,0,"mat-form-field",36),e.k0s(),e.nrm(36,"mat-divider"),e.j41(37,"div",39)(38,"h3"),e.EFF(39,"Estimated delivery time"),e.k0s(),e.j41(40,"p"),e.EFF(41,"The time it takes an order to get to the customer's door, after the courier picks it up from this location. "),e.k0s(),e.j41(42,"div",40)(43,"mat-form-field",8)(44,"mat-label"),e.EFF(45,"Enter Minimum delivery time"),e.k0s(),e.nrm(46,"input",41),e.j41(47,"span",10),e.EFF(48,"minutes"),e.k0s()(),e.j41(49,"p"),e.EFF(50,"to"),e.k0s(),e.j41(51,"mat-form-field",8)(52,"mat-label"),e.EFF(53,"Enter Maximum delivery time"),e.k0s(),e.nrm(54,"input",42),e.j41(55,"span",10),e.EFF(56,"minutes"),e.k0s()()()(),e.nrm(57,"mat-divider"),e.j41(58,"div",38)(59,"h3"),e.EFF(60,"Delivery instructions"),e.k0s(),e.j41(61,"mat-slide-toggle",43),e.EFF(62,"Provide delivery instructions for customers"),e.k0s(),e.DNE(63,B,12,0,"div",44),e.k0s()()),2&r){const i=e.XpG();e.R7$(6),e.Y8G("ngForOf",e.lJ4(7,A)),e.R7$(19),e.Y8G("ngForOf",i.foods),e.R7$(),e.Y8G("ngIf",1==i.pickupAndDeliveryForm.value.deliverySettings.deliveryFeeNumber),e.R7$(),e.Y8G("ngIf",3==i.pickupAndDeliveryForm.value.deliverySettings.deliveryFeeNumber),e.R7$(),e.Y8G("ngIf",4==i.pickupAndDeliveryForm.value.deliverySettings.deliveryFeeNumber),e.R7$(7),e.Y8G("ngIf",i.pickupAndDeliveryForm.value.deliverySettings.allowMinimumOrderAmount),e.R7$(28),e.Y8G("ngIf",i.pickupAndDeliveryForm.value.deliverySettings.enableDeliveryInstructions)}}function w(r,o){1&r&&(e.j41(0,"p"),e.EFF(1,"FoodBot will handle all settings pertaining to your deliveries."),e.k0s())}let G=(()=>{class r{constructor(i,l,a,m){this._formBuilder=i,this.storeService=l,this._snackBar=a,this.route=m,this.isActive=!1,this.couriers=["My own couriers","Shopbot couriers"],this.isLoading=!1,this.foods=[{value:1,viewValue:"Charge the same delivery fee for all orders"},{value:2,viewValue:"Free Delivery"},{value:3,viewValue:"Free Delivery for orders over certain amount."},{value:4,viewValue:"Distance-base fees"}],this.store=this.route.parent?.parent?.snapshot.data.store}ngOnInit(){this.pickupAndDeliveryForm=this.createProductForm()}createProductForm(){return this._formBuilder.group({orderSettings:this._formBuilder.group({orderPrepTime:[this.store.orderSettings.orderPrepTime],enablePickup:[this.store.orderSettings.enablePickup],allowMinimumOrderAmount:[this.store.orderSettings.allowMinimumOrderAmount],minimumOrderAmount:[this.store.orderSettings.minimumOrderAmount],pickUpInstruction:[this.store.orderSettings.pickUpInstruction]}),deliveryService:this._formBuilder.group({deliverOrderToCustomers:[this.store.deliveryService.deliverOrderToCustomers]}),deliverySettings:this._formBuilder.group({deliveryType:[this.store.deliverySettings.deliveryType],deliveryRadius:[this.store.deliverySettings.deliveryRadius],deliveryFeeNumber:[this.store.deliverySettings.deliveryFeeNumber],deliveryFee:[this.store.deliverySettings?.deliveryFee],minimumOrderAmountForFreeDelivery:[this.store.deliverySettings?.minimumOrderAmountForFreeDelivery||0],deliveryFeeForAllOrder:[this.store.deliverySettings?.deliveryFeeForAllOrder],minimumDeliveryFee:[this.store.deliverySettings?.minimumDeliveryFee],deliveryFeeByKilometers:[this.store.deliverySettings?.deliveryFeeByKilometers||50],allowMinimumOrderAmount:[this.store.deliverySettings?.allowMinimumOrderAmount||0],minimumOrderAmount:[this.store.deliverySettings?.minimumOrderAmount||0],estimatedDeliveryTime:this._formBuilder.group({minimum:[this.store.deliverySettings?.estimatedDeliveryTime?.minimum||0],maximum:[this.store.deliverySettings?.estimatedDeliveryTime?.maximum||0]}),enableDeliveryInstructions:[this.store.deliverySettings.enableDeliveryInstructions],deliveryInstructions:[this.store.deliverySettings.deliveryInstructions]})})}save(){this.isLoading=!0,this.store.paused=!this.store.paused,this.storeService.saveStore(this.pickupAndDeliveryForm.getRawValue(),this.store._id).pipe((0,f.j)(()=>this.isLoading=!1)).subscribe(i=>{this._snackBar.open("Saved","ok",{duration:5e3,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})}static#e=this.\u0275fac=function(l){return new(l||r)(e.rXU(n.ok),e.rXU(v.n),e.rXU(F.UG),e.rXU(E.nX))};static#r=this.\u0275cmp=e.VBU({type:r,selectors:[["app-pickup-and-delivery-tab"]],standalone:!0,features:[e.Jv_([v.n]),e.aNF],decls:44,vars:6,consts:[["ShopBotCouriers",""],["fxLayout","row","fxLayoutAlign","end center",1,"header"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"mat-18"],[3,"formGroup"],[2,"padding","10px"],["formGroupName","orderSettings"],[1,"mat-elevation-z6","example-container"],["appearance","fill",2,"width","50%"],["matInput","","formControlName","orderPrepTime","cancellation","Enter Order Pre time"],["matSuffix",""],[2,"margin-bottom","20px"],["formControlName","enablePickup"],["class","example-container",4,"ngIf"],["formGroupName","deliveryService",1,"mat-elevation-z6","example-container"],["id","example-radio-group-label"],["aria-labelledby","example-radio-group-label","formControlName","deliverOrderToCustomers",1,"example-radio-group"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],["formGroupName","deliverySettings",1,"mat-elevation-z6","example-container"],[4,"ngIf","ngIfElse"],[1,"example-container"],["fxLayout","column","fxLayoutAlign","space-between start",2,"margin","20px 0px"],["fxLayout","column","fxLayoutAlign","space-between start",2,"width","100%"],["formControlName","allowMinimumOrderAmount"],["appearance","fill","style","width: 50%; margin-top: 20px;",4,"ngIf"],[2,"margin-top","20px"],["appearance","fill",2,"width","100%"],["matInput","","formControlName","pickUpInstruction","cols","30","rows","5"],["appearance","fill",2,"width","50%","margin-top","20px"],["matInput","","type","number","formControlName","minimumOrderAmount","cancellation","Enter Minimum order amount"],[1,"example-radio-button",3,"value"],["name","food","formControlName","deliveryType","multiple","true"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","deliveryRadius","cancellation","Enter delivery radius"],[1,"example-radio-group"],["name","food","formControlName","deliveryFeeNumber"],["appearance","fill","style","width: 50%;",4,"ngIf"],["style","width: 100%;","fxLayout","column","fxLayoutAlign","space-between start",4,"ngIf"],[1,"example-radio-group",2,"margin","20px 0px"],["formGroupName","estimatedDeliveryTime",1,"example-radio-group",2,"margin","20px 0px"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","20px",2,"width","100%"],["matInput","","formControlName","minimum","cancellation","Enter Minimum order amount"],["matInput","","formControlName","maximum","cancellation","Enter Maximum order amount"],["formControlName","enableDeliveryInstructions"],[4,"ngIf"],[3,"value"],["matInput","","type","number","cancellation","Enter delivery fee","formControlName","deliveryFeeForAllOrder"],["matInput","","cancellation","Enter Minimum order amount","formControlName","minimumOrderAmountForFreeDelivery"],["matInput","","cancellation","Enter delivery fee","formControlName","deliveryFeeForAllOrder"],["matInput","","cancellation","Enter Minimum delivery Fee","formControlName","minimumDeliveryFee"],["matInput","","type","number","formControlName","deliveryFeeByKilometers","cancellation","Enter Delivery fee"],["matInput","","formControlName","minimumOrderAmount","cancellation","Enter Minimum order amount"],["matInput","","formControlName","deliveryInstructions","cols","30","rows","5"]],template:function(l,a){if(1&l){const m=e.RV6();e.j41(0,"div",1)(1,"button",2),e.bIt("click",function(){return e.eBV(m),e.Njj(a.save())}),e.j41(2,"mat-icon",3),e.EFF(3,"add"),e.k0s(),e.EFF(4," SAVE STORE "),e.k0s()(),e.j41(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h2"),e.EFF(10,"Order Settings"),e.k0s(),e.j41(11,"p"),e.EFF(12,"Average amount of time it takes to prepare an order."),e.k0s(),e.j41(13,"mat-form-field",8)(14,"mat-label"),e.EFF(15,"Enter Order Pre time"),e.k0s(),e.nrm(16,"input",9),e.j41(17,"span",10),e.EFF(18,"minutes"),e.k0s()()(),e.j41(19,"div",7)(20,"div",11)(21,"h2"),e.EFF(22,"Pickup Settings"),e.k0s(),e.j41(23,"h3"),e.EFF(24,"Enable pickup"),e.k0s(),e.j41(25,"mat-slide-toggle",12),e.EFF(26,"Allow your customers to come pick their orders up at your store"),e.k0s()(),e.DNE(27,I,26,1,"div",13),e.k0s()(),e.j41(28,"div",14)(29,"div",11)(30,"h2"),e.EFF(31,"Delivery Service"),e.k0s(),e.j41(32,"label",15),e.EFF(33,"How will you deliver orders to customers? "),e.k0s(),e.j41(34,"mat-radio-group",16),e.DNE(35,T,2,2,"mat-radio-button",17),e.k0s(),e.j41(36,"p"),e.EFF(37,"Shopbot has partnered with courier services to offer on-demand delivery. You will not be charged any additional fees or commissions from out partners."),e.k0s()()(),e.j41(38,"div",18)(39,"h2"),e.EFF(40,"Delivery Settings"),e.k0s(),e.DNE(41,L,64,8,"div",19)(42,w,2,0,"ng-template",null,0,e.C5r),e.k0s()()()}if(2&l){const m=e.sdS(43);e.R7$(),e.Y8G("disabled",a.isLoading),e.R7$(4),e.Y8G("formGroup",a.pickupAndDeliveryForm),e.R7$(22),e.Y8G("ngIf",a.pickupAndDeliveryForm.value.orderSettings.enablePickup),e.R7$(8),e.Y8G("ngForOf",a.couriers),e.R7$(6),e.Y8G("ngIf","My own couriers"===a.pickupAndDeliveryForm.value.deliveryService.deliverOrderToCustomers)("ngIfElse",m)}},dependencies:[y.G,g.wT,h.$z,d.rl,d.nJ,d.yw,k.An,D.fg,O.VO,P.q,b.sG,c.VT,c._g,s.MD,s.Sq,s.bT,n.YN,n.qT,n.me,n.Q0,n.BC,n.cb,n.X1,n.j4,n.JD,n.$R,_.YF,u.DJ,u.BO,u.sA],styles:[".example-container[_ngcontent-%COMP%]{padding:16px;margin-bottom:16px}.example-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0;align-items:flex-start}.example-radio-button[_ngcontent-%COMP%]{margin:5px}.header[_ngcontent-%COMP%]{margin-top:30px;border-bottom:2px #ccc;width:100%;padding:0 20px}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}"]})}return r})()}}]);