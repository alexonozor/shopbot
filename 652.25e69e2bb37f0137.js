"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[652],{652:(y,s,o)=>{o.r(s),o.d(s,{AUTH_ROUTE:()=>b});var t=o(9417),g=o(980),m=o(8498),l=o(177),c=o(636),r=o(4020),u=o(3664),h=o(2815),p=o(5416);const b=[{path:"",component:(()=>{class n{constructor(e,i,a,d,f){this.auth=e,this.fb=i,this.jwtService=a,this.router=d,this._snackBar=f,this.check=!1,this.isLoading=!1,this.loginInvalid=!1,this.horizontalPosition="center",this.verticalPosition="top",this.userForm=i.group({email:["",[t.k0.required,t.k0.email]],password:["",[t.k0.required]]})}ngOnInit(){this.jwtService.destroyToken()}onSubmit(){this.isLoading=!0,this.auth.login(this.userForm.getRawValue()).pipe((0,g.j)(()=>this.isLoading=!1)).subscribe(e=>{200==e.status?(this.auth.saveToken(e.access_token),this.getUser(e.email)):this.openSnackBar(e.msg)},e=>{console.log(e)})}openSnackBar(e){this._snackBar.open(e,"ok",{duration:5e3,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})}getUser(e){this.auth.getUserByEmail(e).subscribe(i=>{this.auth.saveUser(i),this.router.navigate(["dashboard"])})}static{this.\u0275fac=function(i){return new(i||n)(r.rXU(u.u),r.rXU(t.ok),r.rXU(h.b),r.rXU(m.Ix),r.rXU(p.UG))}}static{this.\u0275cmp=r.VBU({type:n,selectors:[["app-login"]],decls:27,vars:3,consts:[[1,"bg-gray-50","dark:bg-gray-900",2,"height","100vh"],[1,"flex","flex-col","items-center","justify-center","px-6","py-8","mx-auto","md:h-screen","lg:py-0"],["href","#",1,"flex","items-center","mb-6","text-2xl","font-semibold","text-gray-900","dark:text-white"],["src","assets/logo.png","alt","logo",1,"w-8","h-8","mr-2"],[1,"w-full","bg-white","rounded-lg","shadow","dark:border","md:mt-0","sm:max-w-md","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-6","space-y-4","md:space-y-6","sm:p-8"],[1,"text-xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-2xl","dark:text-white"],["autocomplete","off",1,"space-y-4","md:space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","formControlName","email","name","email","id","email","placeholder","name@company.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","name","password","formControlName","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","sm:text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"flex","items-center","justify-between"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","remember","aria-describedby","remember","type","checkbox","required","",1,"w-4","h-4","border","border-gray-300","rounded","bg-gray-50","focus:ring-3","focus:ring-primary-300","dark:bg-gray-700","dark:border-gray-600","dark:focus:ring-primary-600","dark:ring-offset-gray-800"],[1,"ml-3","text-sm"],["for","remember",1,"text-gray-500","dark:text-gray-300"],["mat-button-raised","","color","primary",1,"w-full","text-white","bg-primary-600","hover:bg-primary-700","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800",3,"disabled"]],template:function(i,a){1&i&&(r.j41(0,"section",0)(1,"div",1)(2,"a",2),r.nrm(3,"img",3),r.EFF(4," Shopbot Admin "),r.k0s(),r.j41(5,"div",4)(6,"div",5)(7,"h1",6),r.EFF(8," Sign in to your account "),r.k0s(),r.j41(9,"form",7),r.bIt("ngSubmit",function(){return a.onSubmit()}),r.j41(10,"div")(11,"label",8),r.EFF(12,"Your email"),r.k0s(),r.nrm(13,"input",9),r.k0s(),r.j41(14,"div")(15,"label",10),r.EFF(16,"Password"),r.k0s(),r.nrm(17,"input",11),r.k0s(),r.j41(18,"div",12)(19,"div",13)(20,"div",14),r.nrm(21,"input",15),r.k0s(),r.j41(22,"div",16)(23,"label",17),r.EFF(24,"Remember me"),r.k0s()()()(),r.j41(25,"button",18),r.EFF(26),r.k0s()()()()()()),2&i&&(r.R7$(9),r.Y8G("formGroup",a.userForm),r.R7$(16),r.Y8G("disabled",a.isLoading),r.R7$(),r.JRh(a.isLoading?"Checking...":"Sign in"))},dependencies:[t.YN,t.qT,t.me,t.BC,t.cb,t.YS,l.MD,m.iI,c.RG,t.X1,t.j4,t.JD],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;font-size:24px;font-weight:400;padding-right:16px;margin-bottom:25px}.logo-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{padding-right:5px;font-size:28px;width:28px;height:28px}.m-b[_ngcontent-%COMP%]{margin-bottom:20px}.example-section[_ngcontent-%COMP%]{margin:12px 0}"]})}}return n})()}]}}]);