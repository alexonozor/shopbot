"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[4498],{4498:(ce,y,o)=>{o.r(y),o.d(y,{CuisinesModule:()=>oe});var m=o(177),d=o(8498),e=o(4020);let S=(()=>{class i{constructor(){}ngOnInit(){}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-cuisines"]],decls:1,vars:0,template:function(s,n){1&s&&e.nrm(0,"router-outlet")},dependencies:[d.iI,d.n3],encapsulation:2})}}return i})();var w=o(5024),v=o(6440),r=o(9159),j=o(1269),b=o(9213),k=o(2765),F=o(9115),f=o(6737),D=o(5351);const N=()=>[15,30,60],A=()=>["../","new"],Y=i=>["../",i,"details"];function X(i,c){if(1&i){const t=e.RV6();e.j41(0,"span",2)(1,"button",19),e.EFF(2),e.k0s(),e.j41(3,"button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteSelected())}),e.j41(4,"mat-icon",18),e.EFF(5,"delete"),e.k0s(),e.EFF(6," Delete Selected Cuisines "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(2),e.SpI("",t.selection.selected.length," Selected")}}function B(i,c){if(1&i){const t=e.RV6();e.j41(0,"th",21)(1,"mat-checkbox",22),e.bIt("change",function(n){e.eBV(t);const l=e.XpG();return e.Njj(n?l.toggleAllRows():null)}),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function M(i,c){if(1&i){const t=e.RV6();e.j41(0,"td",23)(1,"mat-checkbox",24),e.bIt("click",function(n){return e.eBV(t),e.Njj(n.stopPropagation())})("change",function(n){const l=e.eBV(t).$implicit,u=e.XpG();return e.Njj(n?u.selection.toggle(l):null)}),e.k0s()()}if(2&i){const t=c.$implicit,s=e.XpG();e.R7$(),e.Y8G("checked",s.selection.isSelected(t))("aria-label",s.checkboxLabel(t))}}function O(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Name"),e.k0s())}function U(i,c){if(1&i&&(e.j41(0,"td",23),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.JRh(t.name)}}function Z(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Status"),e.k0s())}function J(i,c){if(1&i&&(e.j41(0,"td",23),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.JRh(t.status)}}function z(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Created At"),e.k0s())}function H(i,c){if(1&i&&(e.j41(0,"td",23),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.JRh(e.i5U(2,1,t.createdAt,"short"))}}function K(i,c){1&i&&(e.j41(0,"th",21),e.EFF(1,"Actions"),e.k0s())}function P(i,c){if(1&i){const t=e.RV6();e.j41(0,"td",23)(1,"button",25)(2,"mat-icon"),e.EFF(3,"more_vert"),e.k0s()(),e.j41(4,"mat-menu",null,0)(6,"button",26),e.bIt("click",function(){const n=e.eBV(t),l=n.$implicit,u=n.index,le=e.XpG();return e.Njj(le.deleteCuisines(l._id,u))}),e.j41(7,"mat-icon",27),e.EFF(8,"delete"),e.k0s(),e.j41(9,"span"),e.EFF(10,"Delete"),e.k0s()(),e.j41(11,"button",28)(12,"mat-icon",27),e.EFF(13,"edit"),e.k0s(),e.j41(14,"span"),e.EFF(15,"Edit"),e.k0s()()()()}if(2&i){const t=c.$implicit,s=e.sdS(5);e.R7$(),e.Y8G("matMenuTriggerFor",s),e.R7$(10),e.Y8G("routerLink",e.eq3(2,Y,t._id))}}function Q(i,c){1&i&&e.nrm(0,"tr",29)}function W(i,c){1&i&&e.nrm(0,"tr",30)}let L=(()=>{class i{constructor(t,s,n){this.route=t,this.cuisinesService=s,this._matDialog=n,this.displayedColumns=["select","name","status","createdAt","actions"],this.dataSource=new r.I6([]),this.selection=new w.CB(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new r.I6(this.route.snapshot.data.cuisines)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(j.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete cuisines?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these cuisines?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&this.selection.selected.forEach((s,n)=>{this.dataSource.data.splice(n,1),this.dataSource=new r.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.cuisinesService.deleteCuisine(s._id).subscribe()})})}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteCuisines(t,s){this.confirmDialogRef=this._matDialog.open(j.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Cuisines?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this cuisines?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&(this.dataSource.data.splice(s,1),this.dataSource=new r.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.cuisinesService.deleteCuisine(t).subscribe())})}message(t){}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(d.nX),e.rXU(f.F),e.rXU(D.bZ))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-list-cuisines"]],viewQuery:function(s,n){if(1&s&&e.GBs(v.iy,5),2&s){let l;e.mGM(l=e.lsd())&&(n.paginator=l.first)}},decls:30,vars:8,consts:[["menu","matMenu"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","status"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["fxLayout","row","fxLayoutAlign","end center",1,"m-5"],["mat-fab","","color","primary",1,"m-10",3,"routerLink"],[1,"mat-18"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"change","checked","indeterminate","aria-label"],["mat-cell",""],[3,"click","change","checked","aria-label"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(s,n){1&s&&(e.j41(0,"div")(1,"div",1)(2,"span",2)(3,"span"),e.EFF(4,"Cuisines"),e.k0s()(),e.DNE(5,X,7,1,"span",3),e.k0s(),e.j41(6,"div",4)(7,"table",5),e.qex(8,6),e.DNE(9,B,2,3,"th",7)(10,M,2,2,"td",8),e.bVm(),e.qex(11,9),e.DNE(12,O,2,0,"th",7)(13,U,2,1,"td",8),e.bVm(),e.qex(14,10),e.DNE(15,Z,2,0,"th",7)(16,J,2,1,"td",8),e.bVm(),e.qex(17,11),e.DNE(18,z,2,0,"th",7)(19,H,3,4,"td",8),e.bVm(),e.qex(20,12),e.DNE(21,K,2,0,"th",7)(22,P,16,4,"td",8),e.bVm(),e.DNE(23,Q,1,0,"tr",13)(24,W,1,0,"tr",14),e.k0s(),e.nrm(25,"mat-paginator",15),e.k0s(),e.j41(26,"div",16)(27,"button",17)(28,"mat-icon",18),e.EFF(29,"add"),e.k0s()()()()),2&s&&(e.R7$(5),e.Y8G("ngIf",n.selection.selected.length),e.R7$(2),e.Y8G("dataSource",n.dataSource),e.R7$(16),e.Y8G("matHeaderRowDef",n.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(6,N)),e.R7$(2),e.Y8G("routerLink",e.lJ4(7,A)))},dependencies:[m.MD,m.bT,m.vh,r.tP,r.Zl,r.tL,r.ji,r.cC,r.YV,r.iL,r.KS,r.$R,r.YZ,r.NB,b.m_,b.An,k.g7,k.So,F.Cn,F.kk,F.fb,F.Cp,d.iI,d.Wk,v.Ou,v.iy],encapsulation:2})}}return i})();var a=o(9417),x=o(9443),E=o(801),h=o(8834),C=o(636),g=o(2798),_=o(6924),I=o(3),p=o(2920);function q(i,c){if(1&i&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Lme(" (+",((null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)||0)-1," ",2===(null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)?"other":"others",") ")}}function ee(i,c){if(1&i&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t.country),e.R7$(),e.JRh(t.country)}}let $=(()=>{class i{constructor(t,s,n,l,u){this.fb=t,this.cuisineService=s,this.location=n,this.dialog=l,this.route=u,this.mediaData={image:null,icon:null}}ngOnInit(){this.deliveriesZones=this.route.snapshot.data.deliveriesZones,this.cuisineForm=this.fb.group({name:["",a.k0.required],status:["",a.k0.required],image:["",a.k0.required],countries:["",a.k0.required]})}submit(){this.cuisineForm.valid&&this.cuisineService.createCuisine(this.cuisineForm.getRawValue()).subscribe(t=>{this.location.back()})}selectedCountry(t){this.selectedZone=this.deliveriesZones.find(s=>s.country==t.value)}back(){this.location.back()}addMedia(t){this.dialog.open(x.w).afterClosed().subscribe(n=>{n&&(this.cuisineForm.patchValue({[t]:n.url}),this.mediaData[t]={[t]:n}[t])})}removeValue(t){this.cuisineForm.patchValue({[t]:null}),this.mediaData[t]=null}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(a.ok),e.rXU(f.F),e.rXU(m.aZ),e.rXU(D.bZ),e.rXU(d.nX))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-create-cuisine"]],decls:23,vars:7,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"removeValue","openMediaBrowser","isNew","mediaData"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Name Of Cuisine","formControlName","name"],["formControlName","status"],["appearance","fill"],["multiple","","formControlName","countries"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[1,"example-additional-selection"],[3,"value"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(2,"div",2)(3,"app-select-media",3),e.bIt("removeValue",function(u){return n.removeValue(u)})("openMediaBrowser",function(u){return n.addMedia(u)}),e.k0s(),e.j41(4,"mat-form-field",4)(5,"mat-label"),e.EFF(6,"Name Of Cuisine"),e.k0s(),e.nrm(7,"input",5),e.k0s(),e.j41(8,"mat-slide-toggle",6),e.EFF(9,"Enable"),e.k0s(),e.j41(10,"mat-form-field",7)(11,"mat-label"),e.EFF(12,"Country"),e.k0s(),e.j41(13,"mat-select",8)(14,"mat-select-trigger"),e.EFF(15),e.DNE(16,q,2,2,"span",9),e.k0s(),e.DNE(17,ee,2,2,"mat-option",10),e.k0s()(),e.j41(18,"div",11)(19,"a",12),e.bIt("click",function(){return n.back()}),e.EFF(20,"CANCEL"),e.k0s(),e.j41(21,"button",13),e.EFF(22,"SAVE"),e.k0s()()()()()),2&s&&(e.R7$(),e.Y8G("formGroup",n.cuisineForm),e.R7$(2),e.Y8G("isNew",!1)("mediaData",null==n.mediaData?null:n.mediaData.image),e.R7$(12),e.SpI(" ",(null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries[0])||""," "),e.R7$(),e.Y8G("ngIf",((null==n.cuisineForm.value||null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries.length)||0)>1),e.R7$(),e.Y8G("ngForOf",n.deliveriesZones),e.R7$(4),e.Y8G("disabled",n.cuisineForm.invalid))},dependencies:[m.MD,m.Sq,m.bT,E.C,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,a.YN,h.Hl,h.It,h.$z,C.RG,C.rl,C.nJ,g.Ve,g.VO,g.$2,I.wT,_.YF,p.DJ,p.BO,p.sA,p.UI],encapsulation:2})}}return i})(),G=(()=>{class i{constructor(t){this.cuisineService=t}resolve(){return this.cuisineService.getCuisines()}static{this.\u0275fac=function(s){return new(s||i)(e.KVO(f.F))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),V=(()=>{class i{constructor(t){this.cuisineService=t}resolve(t){const s=t.paramMap.get("id");return this.cuisineService.getCuisine(s)}static{this.\u0275fac=function(s){return new(s||i)(e.KVO(f.F))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function te(i,c){if(1&i&&(e.j41(0,"span",14),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Lme(" (+",((null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)||0)-1," ",2===(null==t.cuisineForm.value.countries?null:t.cuisineForm.value.countries.length)?"other":"others",") ")}}function ie(i,c){if(1&i&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&i){const t=c.$implicit;e.Y8G("value",t.country),e.R7$(),e.JRh(t.country)}}let T=(()=>{class i{constructor(t,s,n,l,u){this.fb=t,this.cuisineService=s,this.location=n,this.dialog=l,this.route=u,this.cuisine=this.route.snapshot.data.cuisine,this.mediaData={image:null,icon:null},this.cuisineForm=this.fb.group({name:[this.cuisine.name,a.k0.required],status:[this.cuisine.status,a.k0.required],image:[this.cuisine.image,a.k0.required],countries:[this.cuisine.countries,a.k0.required]}),this.mediaData={image:null,icon:null},this.mediaData.image=this.cuisine.image}ngOnInit(){this.deliveriesZones=this.route.snapshot.data.deliveriesZones}selectedCountry(t){this.selectedZone=this.deliveriesZones.find(s=>s.country==t)}submit(){this.cuisineForm.valid&&this.cuisineService.updateCuisine(this.cuisine._id,this.cuisineForm.getRawValue()).subscribe(t=>{this.location.back()})}back(){this.location.back()}addMedia(t){this.dialog.open(x.w).afterClosed().subscribe(n=>{n&&(this.cuisineForm.patchValue({[t]:n.url}),this.mediaData[t]={[t]:n}[t])})}removeValue(t){this.cuisineForm.patchValue({[t]:null}),this.mediaData[t]=null}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(a.ok),e.rXU(f.F),e.rXU(m.aZ),e.rXU(D.bZ),e.rXU(d.nX))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-cuisines-details"]],decls:23,vars:7,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"removeValue","openMediaBrowser","isNew","mediaData"],["appearance","fill",1,"full-width","my-4"],["matInput","","cancellation","Name Of Cuisine","formControlName","name"],["formControlName","status",1,"my-4"],["appearance","fill"],["multiple","","formControlName","countries"],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[1,"example-additional-selection"],[3,"value"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"form",1),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(2,"div",2)(3,"app-select-media",3),e.bIt("removeValue",function(u){return n.removeValue(u)})("openMediaBrowser",function(u){return n.addMedia(u)}),e.k0s(),e.j41(4,"mat-form-field",4)(5,"mat-label"),e.EFF(6,"Name Of Cuisine"),e.k0s(),e.nrm(7,"input",5),e.k0s(),e.j41(8,"mat-slide-toggle",6),e.EFF(9,"Enable"),e.k0s(),e.j41(10,"mat-form-field",7)(11,"mat-label"),e.EFF(12,"Country"),e.k0s(),e.j41(13,"mat-select",8)(14,"mat-select-trigger"),e.EFF(15),e.DNE(16,te,2,2,"span",9),e.k0s(),e.DNE(17,ie,2,2,"mat-option",10),e.k0s()(),e.j41(18,"div",11)(19,"a",12),e.bIt("click",function(){return n.back()}),e.EFF(20,"CANCEL"),e.k0s(),e.j41(21,"button",13),e.EFF(22,"SAVE"),e.k0s()()()()()),2&s&&(e.R7$(),e.Y8G("formGroup",n.cuisineForm),e.R7$(2),e.Y8G("isNew",!1)("mediaData",null==n.mediaData?null:n.mediaData.image),e.R7$(12),e.SpI(" ",(null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries[0])||""," "),e.R7$(),e.Y8G("ngIf",((null==n.cuisineForm.value||null==n.cuisineForm.value.countries?null:n.cuisineForm.value.countries.length)||0)>1),e.R7$(),e.Y8G("ngForOf",n.deliveriesZones),e.R7$(4),e.Y8G("disabled",n.cuisineForm.invalid))},dependencies:[m.MD,m.Sq,m.bT,r.tP,b.m_,k.g7,F.Cn,d.iI,v.Ou,E.C,a.X1,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,C.RG,C.rl,C.nJ,g.Ve,g.VO,g.$2,I.wT,_.YF,p.DJ,p.BO,p.sA,p.UI,h.Hl,h.It,h.$z],encapsulation:2})}}return i})();var R=o(4e3);const ne=[{path:"",component:S,children:[{path:"list",component:L,resolve:{cuisines:G}},{path:"new",component:$,resolve:{deliveriesZones:R.K}},{path:":id/details",component:T,resolve:{cuisine:V,deliveriesZones:R.K}}]}];let se=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild(ne),d.iI]})}}return i})();var ae=o(4919);let oe=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({providers:[G,V,f.F,R.K,ae.s],imports:[m.MD,se,_.YF,a.X1,S,L,$,T]})}}return i})()}}]);