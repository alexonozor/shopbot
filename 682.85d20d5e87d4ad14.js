"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[682],{3682:(tt,P,l)=>{l.r(P),l.d(P,{PaymentModule:()=>z});var u=l(9808),d=l(6696),o=l(3075),s=l(2349),F=l(8746),t=l(5e3),g=l(4795),h=l(508),v=l(7423),f=l(7322),T=l(7531),y=l(4107),p=l(7093);function b(n,i){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.name)}}function U(n,i){if(1&n&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" (+",((null==e.paymentForm.value||null==e.paymentForm.value.region?null:e.paymentForm.value.region.length)||0)-1," ",2===(null==e.paymentForm.value||null==e.paymentForm.value.region?null:e.paymentForm.value.region.length)?"other":"others",") ")}}function N(n,i){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const I=function(){return{name:"Yes",value:!0}},J=function(){return{name:"No",value:!1}},L=function(n,i){return[n,i]},M=function(){return["Nigeria","Mauritius","Kenya","Rwanda"]};let x=(()=>{class n{constructor(e,a,m,r){this._formBuilder=e,this.settingsService=a,this.dialogRef=m,this.data=r,this.isLoading=!1}ngOnInit(){this.paymentForm=this.createProductForm()}createProductForm(){return this._formBuilder.group({id:["",o.kI.required],image:["",o.kI.required],name:["",o.kI.required],region:[],active:[!1,o.kI.required],description:["",o.kI.required]})}save(){this.isLoading=!0,this.settingsService.createPayment(this.paymentForm.getRawValue()).pipe((0,F.x)(()=>this.isLoading=!1)).subscribe(e=>{this.isLoading=!0,this.dialogRef.close(!0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(o.qu),t.Y36(g.g),t.Y36(s.so),t.Y36(s.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-payments"]],decls:36,vars:13,consts:[["matDialogTitle",""],["mat-dialog-content",""],["name","storeForm","fxLayout","column","fxFlex","",1,"product","w-100-p",3,"formGroup"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","Icon image code","name","image","formControlName","image","required",""],["matInput","","type","number","placeholder","Position","name","id","formControlName","id","required",""],["matInput","","placeholder","Product Name","name","name","formControlName","name","required",""],["matInput","","placeholder","Product Description","name","description","formControlName","description","rows","5"],["formControlName","active","placeholder","Enabled"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline"],["multiple","","formControlName","region"],["class","example-additional-selection",4,"ngIf"],["mat-dialog-actions","",1,"pt-24"],["mat-button","","mat-dialog-close",""],["mat-raised-button","",1,"mat-accent","mr-16",3,"disabled","click"],[3,"value"],[1,"example-additional-selection"]],template:function(e,a){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Create Payment Method"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Icon"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"mat-form-field",3)(9,"mat-label"),t._uU(10,"Position"),t.qZA(),t._UZ(11,"input",5),t.qZA(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14,"Name"),t.qZA(),t._UZ(15,"input",6),t.qZA(),t.TgZ(16,"mat-form-field",3)(17,"mat-label"),t._uU(18,"Description"),t.qZA(),t._UZ(19,"textarea",7),t.qZA(),t.TgZ(20,"mat-form-field",3)(21,"mat-select",8),t.YNc(22,b,2,2,"mat-option",9),t.qZA()(),t.TgZ(23,"mat-form-field",10)(24,"mat-label"),t._uU(25,"Region"),t.qZA(),t.TgZ(26,"mat-select",11)(27,"mat-select-trigger"),t._uU(28),t.YNc(29,U,2,2,"span",12),t.qZA(),t.YNc(30,N,2,2,"mat-option",9),t.qZA()()()(),t.TgZ(31,"div",13)(32,"button",14),t._uU(33,"Cancel"),t.qZA(),t.TgZ(34,"button",15),t.NdJ("click",function(){return a.save()}),t._uU(35),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",a.paymentForm),t.xp6(19),t.Q6J("ngForOf",t.WLB(9,L,t.DdM(7,I),t.DdM(8,J))),t.xp6(6),t.hij(" ",(null==a.paymentForm.value||null==a.paymentForm.value.region?null:a.paymentForm.value.region[0])||""," "),t.xp6(1),t.Q6J("ngIf",((null==a.paymentForm.value||null==a.paymentForm.value.region||null==a.paymentForm.value.region.value?null:a.paymentForm.value.region.value.length)||0)>1),t.xp6(1),t.Q6J("ngForOf",t.DdM(12,M)),t.xp6(4),t.Q6J("disabled",!a.paymentForm.valid),t.xp6(1),t.Oqu(a.isLoading?"Please wait..":"Create Payment Method"))},dependencies:[u.sg,u.O5,h.ey,v.lW,f.KE,f.hX,T.Nt,y.gD,y.$L,s.ZT,s.uh,s.xY,s.H8,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.Q7,o.sg,o.u,p.xw,p.yH]}),n})();function D(n,i){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.name)}}function O(n,i){if(1&n&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" (+",((null==e.paymentForm.value||null==e.paymentForm.value.region?null:e.paymentForm.value.region.length)||0)-1," ",2===(null==e.paymentForm.value||null==e.paymentForm.value.region?null:e.paymentForm.value.region.length)?"other":"others",") ")}}function Y(n,i){if(1&n&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const w=function(){return{name:"Yes",value:!0}},R=function(){return{name:"No",value:!1}},E=function(n,i){return[n,i]},Q=function(){return["Nigeria","Mauritius","Kenya","Rwanda"]};let A=(()=>{class n{constructor(e,a,m,r){this._formBuilder=e,this.settingsService=a,this.dialogRef=m,this.data=r,this.isLoading=!1,this.payment=r}ngOnInit(){this.paymentForm=this.createProductForm()}createProductForm(){return this._formBuilder.group({id:[this.payment.id,o.kI.required],image:[this.payment.image,o.kI.required],name:[this.payment.name,o.kI.required],region:[this.payment.region],active:[this.payment.active,o.kI.required],description:[this.payment.description,o.kI.required]})}save(){this.isLoading=!0,this.settingsService.updatePayment(this.payment._id,this.paymentForm.getRawValue()).pipe((0,F.x)(()=>this.isLoading=!1)).subscribe(e=>{this.isLoading=!0,this.dialogRef.close(!0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(o.qu),t.Y36(g.g),t.Y36(s.so),t.Y36(s.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-payments"]],decls:36,vars:13,consts:[["matDialogTitle",""],["mat-dialog-content",""],["name","storeForm","fxLayout","column","fxFlex","",1,"product","w-100-p",3,"formGroup"],["appearance","outline","floatLabel","always",1,"w-100-p"],["matInput","","placeholder","Icon image code","name","image","formControlName","image","required",""],["matInput","","type","number","placeholder","Position","name","id","formControlName","id","required",""],["matInput","","placeholder","Product Name","name","name","formControlName","name","required",""],["matInput","","placeholder","Product Description","name","description","formControlName","description","rows","5"],["formControlName","active","placeholder","Enabled"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline"],["multiple","","formControlName","region"],["class","example-additional-selection",4,"ngIf"],["mat-dialog-actions","",1,"pt-24"],["mat-button","","mat-dialog-close",""],["mat-raised-button","",1,"mat-accent","mr-16",3,"disabled","click"],[3,"value"],[1,"example-additional-selection"]],template:function(e,a){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Edit Payment Method"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Icon"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"mat-form-field",3)(9,"mat-label"),t._uU(10,"Position"),t.qZA(),t._UZ(11,"input",5),t.qZA(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14,"Name"),t.qZA(),t._UZ(15,"input",6),t.qZA(),t.TgZ(16,"mat-form-field",3)(17,"mat-label"),t._uU(18,"Description"),t.qZA(),t._UZ(19,"textarea",7),t.qZA(),t.TgZ(20,"mat-form-field",3)(21,"mat-select",8),t.YNc(22,D,2,2,"mat-option",9),t.qZA()(),t.TgZ(23,"mat-form-field",10)(24,"mat-label"),t._uU(25,"Region"),t.qZA(),t.TgZ(26,"mat-select",11)(27,"mat-select-trigger"),t._uU(28),t.YNc(29,O,2,2,"span",12),t.qZA(),t.YNc(30,Y,2,2,"mat-option",9),t.qZA()()()(),t.TgZ(31,"div",13)(32,"button",14),t._uU(33,"Cancel"),t.qZA(),t.TgZ(34,"button",15),t.NdJ("click",function(){return a.save()}),t._uU(35),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",a.paymentForm),t.xp6(19),t.Q6J("ngForOf",t.WLB(9,E,t.DdM(7,w),t.DdM(8,R))),t.xp6(6),t.hij(" ",(null==a.paymentForm.value||null==a.paymentForm.value.region?null:a.paymentForm.value.region[0])||""," "),t.xp6(1),t.Q6J("ngIf",((null==a.paymentForm.value||null==a.paymentForm.value.region||null==a.paymentForm.value.region.value?null:a.paymentForm.value.region.value.length)||0)>1),t.xp6(1),t.Q6J("ngForOf",t.DdM(12,Q)),t.xp6(4),t.Q6J("disabled",!a.paymentForm.valid),t.xp6(1),t.Oqu(a.isLoading?"Please wait..":"Update Payment Method"))},dependencies:[u.sg,u.O5,h.ey,v.lW,f.KE,f.hX,T.Nt,y.gD,y.$L,s.ZT,s.uh,s.xY,s.H8,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.Q7,o.sg,o.u,p.xw,p.yH]}),n})();var $=l(8392),k=l(5245),_=l(2181),Z=l(4623),S=l(4834),B=l(2368);function H(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit,r=t.oxw();return t.KtG(r.viewDetails(m))}),t.TgZ(1,"mat-icon"),t._uU(2,"done"),t.qZA(),t._uU(3," Enable "),t.qZA()}}function K(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item")(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6)(4,"span",7),t._uU(5),t.qZA()(),t.TgZ(6,"div",8),t._uU(7),t.qZA(),t.TgZ(8,"mat-slide-toggle",9),t.NdJ("ngModelChange",function(m){const c=t.CHM(e).$implicit;return t.KtG(c.active=m)})("change",function(m){const c=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.onChange(c,m))}),t.qZA(),t.TgZ(9,"button",10)(10,"mat-icon"),t._uU(11,"more_vert"),t.qZA()(),t.TgZ(12,"mat-menu",11,12),t.NdJ("click",function(m){return m.stopPropagation()}),t.TgZ(14,"button",13),t.NdJ("click",function(m){const r=t.CHM(e),c=r.index,C=r.$implicit;return t.oxw().delete(c,C._id),t.KtG(m.stopPropagation())}),t.TgZ(15,"mat-icon"),t._uU(16,"delete"),t.qZA(),t._uU(17," Delete"),t.qZA(),t.YNc(18,H,4,0,"button",14),t.TgZ(19,"button",13),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.viewDetails(r))}),t.TgZ(20,"mat-icon"),t._uU(21,"edit"),t.qZA(),t._uU(22," Edit / View "),t.qZA()(),t._UZ(23,"mat-divider"),t.qZA()}if(2&n){const e=i.$implicit,a=t.MAs(13);t.xp6(2),t.Oqu(e.active?"APPROVE":"UNAPPROVED"),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.hij("",e.description," "),t.xp6(1),t.Q6J("ngModel",e.active),t.xp6(1),t.Q6J("matMenuTriggerFor",a),t.xp6(9),t.Q6J("ngIf",!e.active)}}let G=(()=>{class n{constructor(e,a,m,r){this.settingsService=e,this._matDialog=a,this.router=m,this.route=r,this.payments=[]}ngOnInit(){this.payments=this.route.snapshot.data.payments}delete(e,a){this.confirmDialogRef=this._matDialog.open($.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Payment?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this Payment?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(m=>{m&&(this.payments.splice(e,1),this.settingsService.deletePayment(a).subscribe()),this.confirmDialogRef=null})}addNewPayment(){this._matDialog.open(x,{width:"500px",disableClose:!1}).afterClosed().subscribe(a=>{a&&this.settingsService.getPayments().subscribe(m=>{this.payments=m})})}onChange(e,a){this.settingsService.updatePayment(e._id,{active:a.checked}).subscribe(()=>{})}viewDetails(e){this._matDialog.open(A,{data:e,width:"500px",disableClose:!1}).afterClosed().subscribe(m=>{m&&this.settingsService.getPayments().subscribe(r=>{this.payments=r})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.g),t.Y36(s.uw),t.Y36(d.F0),t.Y36(d.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-payments"]],decls:8,vars:1,consts:[[2,"margin-bottom","20px"],["mat-subheader",""],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end end"],["mat-fab","","color","primary","aria-label","Add Store",1,"fixed",3,"click"],["mat-line","",1,"status"],["mat-line",""],[1,"title","font-extrabold"],["mat-line","",1,"text-gray-400","font-thin"],["color","primary",1,"mx-8",3,"ngModel","ngModelChange","change"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"click"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-list",0)(1,"div",1),t._uU(2,"Payment Methods"),t.qZA(),t.YNc(3,K,24,6,"mat-list-item",2),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return a.addNewPayment()}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("ngForOf",a.payments))},dependencies:[u.sg,u.O5,v.lW,k.Hw,_.VK,_.OP,_.p6,Z.i$,Z.Tg,h.X2,Z.gs,S.d,B.Rr,o.JJ,o.On,p.xw,p.Wh]}),n})();var q=l(6899);const V=[{path:"",component:G,resolve:{payments:q.s}},{path:"create",component:x},{path:":id/edit",component:A,resolve:{payment:q.s}}];let W=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(V),d.Bz]}),n})();var X=l(5221),j=l(2155);let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[g.g],imports:[u.ez,W,X.q,o.u5,o.UX,j.o9]}),n})()}}]);