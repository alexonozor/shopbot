"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[315],{4315:(fe,b,c)=>{c.r(b),c.d(b,{OrdersModule:()=>ue});var m=c(6814),p=c(1896),t=c(5879);let Y=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-orders"]],decls:1,vars:0,template:function(o,n){1&o&&t._UZ(0,"router-outlet")},dependencies:[p.lC],encapsulation:2})}return i})();var F=c(8337),y=c(3365),l=c(5313),O=c(6567),Q=c(4664),J=c(9308),g=c(7957),f=c(7700),R=c(7175),x=c(2296),C=c(2557),q=c(617),$=c(5986),T=c(7988),h=c(3814);function M(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",1)(1,"button",24),t._uU(2),t.qZA(),t.TgZ(3,"button",25)(4,"mat-icon",26),t._uU(5,"campaign"),t.qZA(),t._uU(6," Message Orders"),t.qZA(),t.TgZ(7,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.deleteSelected())}),t.TgZ(8,"mat-icon",26),t._uU(9,"delete"),t.qZA(),t._uU(10," Delete Selected Orders"),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",e.selection.selected.length," Selected")}}function H(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"th",28)(1,"mat-checkbox",29),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw();return t.KtG(n?r.toggleAllRows():null)}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function G(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"td",30)(1,"mat-checkbox",31),t.NdJ("click",function(n){return n.stopPropagation()})("change",function(n){const a=t.CHM(e).$implicit,u=t.oxw();return t.KtG(n?u.selection.toggle(a):null)}),t.qZA()()}if(2&i){const e=s.$implicit,o=t.oxw();t.xp6(1),t.Q6J("checked",o.selection.isSelected(e))("aria-label",o.checkboxLabel(e))}}function P(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"#"),t.qZA())}function E(i,s){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=s.index;t.xp6(1),t.Oqu(e+1)}}function B(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Order Id"),t.qZA())}function j(i,s){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e.reference)}}function z(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Vendor Name"),t.qZA())}function K(i,s){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(null==e||null==e.store?null:e.store.name)}}function V(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Customer Name"),t.qZA())}function k(i,s){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e.user?e.user.name:"Customer has been removed")}}function W(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Device"),t.qZA())}function X(i,s){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e.user.phoneCredentials[0].deviceType+" "+e.user.phoneCredentials[0].make+" "+e.user.phoneCredentials[0].os)}}function tt(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Date"),t.qZA())}function et(i,s){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.createdAt,"medium"))}}function nt(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Order Status"),t.qZA())}function ot(i,s){if(1&i&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.status[0].name)}}function it(i,s){if(1&i&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.status[0].name)}}function rt(i,s){if(1&i&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.status[0].name)}}function at(i,s){if(1&i&&(t.TgZ(0,"mat-chip",38),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.status[0].name)}}function st(i,s){if(1&i&&(t.TgZ(0,"mat-chip",39),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.status[0].name)}}function ct(i,s){if(1&i&&(t.TgZ(0,"mat-chip",40),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.status[0].name)}}function lt(i,s){if(1&i&&(t.TgZ(0,"mat-chip",41),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.status[0].name)}}function dt(i,s){if(1&i&&(t.TgZ(0,"td",30)(1,"mat-chip-set",32),t.YNc(2,ot,2,1,"mat-chip",33),t.YNc(3,it,2,1,"mat-chip",33),t.YNc(4,rt,2,1,"mat-chip",33),t.YNc(5,at,2,1,"mat-chip",34),t.YNc(6,st,2,1,"mat-chip",35),t.YNc(7,ct,2,1,"mat-chip",36),t.YNc(8,lt,2,1,"mat-chip",37),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Q6J("ngIf","Shipped"===e.status[0].name),t.xp6(1),t.Q6J("ngIf","Preparing"===e.status[0].name),t.xp6(1),t.Q6J("ngIf","Ready for Pickup"===e.status[0].name),t.xp6(1),t.Q6J("ngIf","Delivered"===e.status[0].name),t.xp6(1),t.Q6J("ngIf","Canceled"===e.status[0].name),t.xp6(1),t.Q6J("ngIf","Pending"===e.status[0].name),t.xp6(1),t.Q6J("ngIf","Accepted"===e.status[0].name)}}function ut(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Payment Status"),t.qZA())}function mt(i,s){if(1&i&&(t.TgZ(0,"mat-chip",38),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.paymentStatus)}}function pt(i,s){if(1&i&&(t.TgZ(0,"mat-chip",43),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.paymentStatus)}}function ft(i,s){if(1&i&&(t.TgZ(0,"td",30)(1,"mat-chip-set",32),t.YNc(2,mt,2,1,"mat-chip",34),t.YNc(3,pt,2,1,"mat-chip",42),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Q6J("ngIf","Paid"===e.paymentStatus),t.xp6(1),t.Q6J("ngIf","Unpaid"===e.paymentStatus)}}function gt(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Settlement"),t.qZA())}function ht(i,s){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.hij(" ",e.settled?"Settled":"Not Settled"," ")}}function _t(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Payment Type"),t.qZA())}function Zt(i,s){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e.payment)}}function xt(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Amount"),t.qZA())}function vt(i,s){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.total,null==e||null==e.store?null:e.store.currency))}}function Tt(i,s){1&i&&(t.TgZ(0,"th",28),t._uU(1,"Actions"),t.qZA())}function At(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(),r=n.$implicit,a=n.index,u=t.oxw();return t.KtG(u.deleteOrder(r._id,a))}),t.TgZ(1,"mat-icon",48),t._uU(2,"delete"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Delete"),t.qZA()()}}const bt=function(i){return[i]},yt=function(i){return["../",i,"details"]};function Ot(i,s){if(1&i&&(t.TgZ(0,"td",30)(1,"button",44)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,45),t.YNc(6,At,5,0,"button",46),t.TgZ(7,"button",47)(8,"mat-icon",48),t._uU(9,"visibility"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"View Order"),t.qZA()()()()),2&i){const e=s.$implicit,o=t.MAs(5),n=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",o),t.xp6(5),t.Q6J("ngIf",n.auth.isShow(t.VKq(3,bt,n.Role.SuperAdmin))),t.xp6(1),t.Q6J("routerLink",t.VKq(5,yt,e._id))}}function Ct(i,s){1&i&&t._UZ(0,"tr",50)}function qt(i,s){1&i&&t._UZ(0,"tr",51)}let Ut=(()=>{class i{constructor(e,o,n,r){this.route=e,this.orderService=o,this._matDialog=n,this.auth=r,this.displayedColumns=["select","no","orderId","vendorName","customerName","device","date","status","paymentStatus","settled","paymentType","amount","actions"],this.dataSource=new l.by([]),this.selection=new F.Ov(!0,[]),this.totalOrders=0,this.Role=J.u}ngAfterViewInit(){this.paginator.page.pipe((0,Q.w)(e=>this.orderService.getOrders({data:{$match:{}},control:[{$sort:{createdAt:-1}},{$skip:e.pageSize*e.pageIndex},{$limit:20}]}))).subscribe(e=>{this.dataSource=new l.by(e)})}ngOnInit(){this.dataSource=new l.by(this.route.snapshot.data.orders),this.totalOrders=this.route.snapshot.data.totalOrders}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(O.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete orders?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these orders?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this.selection.selected.forEach((o,n)=>{this.dataSource.data.splice(n,1),this.dataSource=new l.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.orderService.deleteOrder(o._id).subscribe()})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteOrder(e,o){this.confirmDialogRef=this._matDialog.open(O.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Customer?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this order?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&(this.dataSource.data.splice(o,1),this.dataSource=new l.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.orderService.deleteOrder(e).subscribe())})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(p.gz),t.Y36(g.N),t.Y36(f.uw),t.Y36(R.e))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-orders"]],viewQuery:function(o,n){if(1&o&&t.Gf(y.NW,5),2&o){let r;t.iGM(r=t.CRH())&&(n.paginator=r.first)}},decls:50,vars:6,consts:[["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],[1,"text-2xl"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","no"],["matColumnDef","orderId"],["matColumnDef","vendorName"],["matColumnDef","customerName"],["matColumnDef","device"],["matColumnDef","date"],["matColumnDef","status"],["matColumnDef","paymentStatus"],["matColumnDef","settled"],["matColumnDef","paymentType"],["matColumnDef","amount"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of periodic elements",3,"pageSize","length"],["mat-button",""],["mat-stroked-button","","color","primary"],[1,"mat-18"],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["aria-label","Fish selection"],[4,"ngIf"],["style","background-color: rgb(3, 138, 3); color: #fff",4,"ngIf"],["color","warn","selected","",4,"ngIf"],["style","background-color: rgb(210, 235, 49); color: #fff","selected","",4,"ngIf"],["style","background-color: rgb(200, 68, 90); color: #fff","selected","",4,"ngIf"],[2,"background-color","rgb(3, 138, 3)","color","#fff"],["color","warn","selected",""],["selected","",2,"background-color","rgb(210, 235, 49)","color","#fff"],["selected","",2,"background-color","rgb(200, 68, 90)","color","#fff"],["style","background-color: red; color: #fff","selected","",4,"ngIf"],["selected","",2,"background-color","red","color","#fff"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"routerLink"],[1,"material-icons-outlined"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.TgZ(0,"div")(1,"div",0)(2,"span",1)(3,"span",2),t._uU(4,"Orders"),t.qZA()(),t.YNc(5,M,11,1,"span",3),t.qZA(),t.TgZ(6,"div",4)(7,"table",5),t.ynx(8,6),t.YNc(9,H,2,3,"th",7),t.YNc(10,G,2,2,"td",8),t.BQk(),t.ynx(11,9),t.YNc(12,P,2,0,"th",7),t.YNc(13,E,2,1,"td",8),t.BQk(),t.ynx(14,10),t.YNc(15,B,2,0,"th",7),t.YNc(16,j,2,1,"td",8),t.BQk(),t.ynx(17,11),t.YNc(18,z,2,0,"th",7),t.YNc(19,K,2,1,"td",8),t.BQk(),t.ynx(20,12),t.YNc(21,V,2,0,"th",7),t.YNc(22,k,2,1,"td",8),t.BQk(),t.ynx(23,13),t.YNc(24,W,2,0,"th",7),t.YNc(25,X,2,1,"td",8),t.BQk(),t.ynx(26,14),t.YNc(27,tt,2,0,"th",7),t.YNc(28,et,3,4,"td",8),t.BQk(),t.ynx(29,15),t.YNc(30,nt,2,0,"th",7),t.YNc(31,dt,9,7,"td",8),t.BQk(),t.ynx(32,16),t.YNc(33,ut,2,0,"th",7),t.YNc(34,ft,4,2,"td",8),t.BQk(),t.ynx(35,17),t.YNc(36,gt,2,0,"th",7),t.YNc(37,ht,2,1,"td",8),t.BQk(),t.ynx(38,18),t.YNc(39,_t,2,0,"th",7),t.YNc(40,Zt,2,1,"td",8),t.BQk(),t.ynx(41,19),t.YNc(42,xt,2,0,"th",7),t.YNc(43,vt,3,4,"td",8),t.BQk(),t.ynx(44,20),t.YNc(45,Tt,2,0,"th",7),t.YNc(46,Ot,12,7,"td",8),t.BQk(),t.YNc(47,Ct,1,0,"tr",21),t.YNc(48,qt,1,0,"tr",22),t.qZA(),t._UZ(49,"mat-paginator",23),t.qZA()()),2&o&&(t.xp6(5),t.Q6J("ngIf",n.selection.selected.length),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(40),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSize",20)("length",n.totalOrders))},dependencies:[m.O5,p.rH,x.lW,x.RK,C.HS,C.J4,q.Hw,y.NW,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,$.oG,T.VK,T.OP,T.p6,h.xw,h.SQ,h.Wh,m.H9,m.uU]})}return i})();var Lt=c(4716),U=c(7069),wt=c(7747),L=c(2939),v=c(9157),St=c(2032),_=c(9038),Z=c(6223);function Dt(i,s){if(1&i&&(t.TgZ(0,"mat-list-option",9),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function Nt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-form-field",10)(1,"mat-label"),t._uU(2,"Tell us the reason.."),t.qZA(),t.TgZ(3,"textarea",11),t.NdJ("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.cancellationText=n)}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.cancellationText)}}let It=(()=>{class i{constructor(e,o,n){this.dialogRef=e,this.data=o,this.snackbar=n,this.title="",this.confirmMessage="",this.confirmButton="",this.cancellationText="",this.cancellationReasons=["Customer change of mind","Customer found a better deal","Item out of stock","Restaurant is closed","Delivery Issues","Unable to reach the customer","Unable to reach the Vendor","Payment Issues","Others"]}ngOnInit(){}closeDialog(e){e&&("Others"===e?this.cancellationText.length>2?this.dialogRef.close(this.cancellationText):this.snackbar.open("Please tell us why!","Ok",{duration:3e3}):this.dialogRef.close(e))}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(f.so),t.Y36(f.WI),t.Y36(L.ux))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-order-cancelation"]],decls:14,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"multiple"],["reason",""],[3,"value",4,"ngFor","ngForOf"],["class","w-full",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","warn",3,"click"],[3,"value"],[1,"w-full"],["matInput","","cancellation","Tell us the reason of your cancellation",3,"ngModel","ngModelChange"]],template:function(o,n){if(1&o){const r=t.EpF();t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"mat-selection-list",2,3),t.YNc(7,Dt,2,2,"mat-list-option",4),t.qZA(),t.YNc(8,Nt,4,1,"mat-form-field",5),t.qZA(),t.TgZ(9,"div",6)(10,"button",7),t._uU(11,"Close"),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){t.CHM(r);const u=t.MAs(6);return t.KtG(n.closeDialog(u.selectedOptions.selected[0].value||n.cancellationText))}),t._uU(13),t.qZA()()}if(2&o){const r=t.MAs(6);t.xp6(1),t.Oqu(n.title),t.xp6(3),t.Oqu(n.confirmMessage),t.xp6(1),t.Q6J("multiple",!1),t.xp6(2),t.Q6J("ngForOf",n.cancellationReasons),t.xp6(1),t.Q6J("ngIf",r.selectedOptions.hasValue()&&"Others"===r.selectedOptions.selected[0].value),t.xp6(5),t.Oqu(n.confirmButton)}},dependencies:[m.sg,m.O5,x.lW,v.KE,v.hX,St.Nt,f.ZT,f.uh,f.xY,f.H8,_.Ub,_.vS,Z.Fj,Z.JJ,Z.On]})}return i})();var Yt=c(3680),Ft=c(8525),Qt=c(6385),Jt=c(7509);class d{static hashStr(s,e=!1){return this.onePassHasher.start().appendStr(s).end(e)}static hashAsciiStr(s,e=!1){return this.onePassHasher.start().appendAsciiStr(s).end(e)}static#t=this.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);static#e=this.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);static#n=this.hexChars="0123456789abcdef";static#o=this.hexOut=[];static#i=this.onePassHasher=new d;static _hex(s){const e=d.hexChars,o=d.hexOut;let n,r,a,u;for(u=0;u<4;u+=1)for(r=8*u,n=s[u],a=0;a<8;a+=2)o[r+1+a]=e.charAt(15&n),n>>>=4,o[r+0+a]=e.charAt(15&n),n>>>=4;return o.join("")}static _md5cycle(s,e){let o=s[0],n=s[1],r=s[2],a=s[3];o+=(n&r|~n&a)+e[0]-680876936|0,o=(o<<7|o>>>25)+n|0,a+=(o&n|~o&r)+e[1]-389564586|0,a=(a<<12|a>>>20)+o|0,r+=(a&o|~a&n)+e[2]+606105819|0,r=(r<<17|r>>>15)+a|0,n+=(r&a|~r&o)+e[3]-1044525330|0,n=(n<<22|n>>>10)+r|0,o+=(n&r|~n&a)+e[4]-176418897|0,o=(o<<7|o>>>25)+n|0,a+=(o&n|~o&r)+e[5]+1200080426|0,a=(a<<12|a>>>20)+o|0,r+=(a&o|~a&n)+e[6]-1473231341|0,r=(r<<17|r>>>15)+a|0,n+=(r&a|~r&o)+e[7]-45705983|0,n=(n<<22|n>>>10)+r|0,o+=(n&r|~n&a)+e[8]+1770035416|0,o=(o<<7|o>>>25)+n|0,a+=(o&n|~o&r)+e[9]-1958414417|0,a=(a<<12|a>>>20)+o|0,r+=(a&o|~a&n)+e[10]-42063|0,r=(r<<17|r>>>15)+a|0,n+=(r&a|~r&o)+e[11]-1990404162|0,n=(n<<22|n>>>10)+r|0,o+=(n&r|~n&a)+e[12]+1804603682|0,o=(o<<7|o>>>25)+n|0,a+=(o&n|~o&r)+e[13]-40341101|0,a=(a<<12|a>>>20)+o|0,r+=(a&o|~a&n)+e[14]-1502002290|0,r=(r<<17|r>>>15)+a|0,n+=(r&a|~r&o)+e[15]+1236535329|0,n=(n<<22|n>>>10)+r|0,o+=(n&a|r&~a)+e[1]-165796510|0,o=(o<<5|o>>>27)+n|0,a+=(o&r|n&~r)+e[6]-1069501632|0,a=(a<<9|a>>>23)+o|0,r+=(a&n|o&~n)+e[11]+643717713|0,r=(r<<14|r>>>18)+a|0,n+=(r&o|a&~o)+e[0]-373897302|0,n=(n<<20|n>>>12)+r|0,o+=(n&a|r&~a)+e[5]-701558691|0,o=(o<<5|o>>>27)+n|0,a+=(o&r|n&~r)+e[10]+38016083|0,a=(a<<9|a>>>23)+o|0,r+=(a&n|o&~n)+e[15]-660478335|0,r=(r<<14|r>>>18)+a|0,n+=(r&o|a&~o)+e[4]-405537848|0,n=(n<<20|n>>>12)+r|0,o+=(n&a|r&~a)+e[9]+568446438|0,o=(o<<5|o>>>27)+n|0,a+=(o&r|n&~r)+e[14]-1019803690|0,a=(a<<9|a>>>23)+o|0,r+=(a&n|o&~n)+e[3]-187363961|0,r=(r<<14|r>>>18)+a|0,n+=(r&o|a&~o)+e[8]+1163531501|0,n=(n<<20|n>>>12)+r|0,o+=(n&a|r&~a)+e[13]-1444681467|0,o=(o<<5|o>>>27)+n|0,a+=(o&r|n&~r)+e[2]-51403784|0,a=(a<<9|a>>>23)+o|0,r+=(a&n|o&~n)+e[7]+1735328473|0,r=(r<<14|r>>>18)+a|0,n+=(r&o|a&~o)+e[12]-1926607734|0,n=(n<<20|n>>>12)+r|0,o+=(n^r^a)+e[5]-378558|0,o=(o<<4|o>>>28)+n|0,a+=(o^n^r)+e[8]-2022574463|0,a=(a<<11|a>>>21)+o|0,r+=(a^o^n)+e[11]+1839030562|0,r=(r<<16|r>>>16)+a|0,n+=(r^a^o)+e[14]-35309556|0,n=(n<<23|n>>>9)+r|0,o+=(n^r^a)+e[1]-1530992060|0,o=(o<<4|o>>>28)+n|0,a+=(o^n^r)+e[4]+1272893353|0,a=(a<<11|a>>>21)+o|0,r+=(a^o^n)+e[7]-155497632|0,r=(r<<16|r>>>16)+a|0,n+=(r^a^o)+e[10]-1094730640|0,n=(n<<23|n>>>9)+r|0,o+=(n^r^a)+e[13]+681279174|0,o=(o<<4|o>>>28)+n|0,a+=(o^n^r)+e[0]-358537222|0,a=(a<<11|a>>>21)+o|0,r+=(a^o^n)+e[3]-722521979|0,r=(r<<16|r>>>16)+a|0,n+=(r^a^o)+e[6]+76029189|0,n=(n<<23|n>>>9)+r|0,o+=(n^r^a)+e[9]-640364487|0,o=(o<<4|o>>>28)+n|0,a+=(o^n^r)+e[12]-421815835|0,a=(a<<11|a>>>21)+o|0,r+=(a^o^n)+e[15]+530742520|0,r=(r<<16|r>>>16)+a|0,n+=(r^a^o)+e[2]-995338651|0,n=(n<<23|n>>>9)+r|0,o+=(r^(n|~a))+e[0]-198630844|0,o=(o<<6|o>>>26)+n|0,a+=(n^(o|~r))+e[7]+1126891415|0,a=(a<<10|a>>>22)+o|0,r+=(o^(a|~n))+e[14]-1416354905|0,r=(r<<15|r>>>17)+a|0,n+=(a^(r|~o))+e[5]-57434055|0,n=(n<<21|n>>>11)+r|0,o+=(r^(n|~a))+e[12]+1700485571|0,o=(o<<6|o>>>26)+n|0,a+=(n^(o|~r))+e[3]-1894986606|0,a=(a<<10|a>>>22)+o|0,r+=(o^(a|~n))+e[10]-1051523|0,r=(r<<15|r>>>17)+a|0,n+=(a^(r|~o))+e[1]-2054922799|0,n=(n<<21|n>>>11)+r|0,o+=(r^(n|~a))+e[8]+1873313359|0,o=(o<<6|o>>>26)+n|0,a+=(n^(o|~r))+e[15]-30611744|0,a=(a<<10|a>>>22)+o|0,r+=(o^(a|~n))+e[6]-1560198380|0,r=(r<<15|r>>>17)+a|0,n+=(a^(r|~o))+e[13]+1309151649|0,n=(n<<21|n>>>11)+r|0,o+=(r^(n|~a))+e[4]-145523070|0,o=(o<<6|o>>>26)+n|0,a+=(n^(o|~r))+e[11]-1120210379|0,a=(a<<10|a>>>22)+o|0,r+=(o^(a|~n))+e[2]+718787259|0,r=(r<<15|r>>>17)+a|0,n+=(a^(r|~o))+e[9]-343485551|0,n=(n<<21|n>>>11)+r|0,s[0]=o+s[0]|0,s[1]=n+s[1]|0,s[2]=r+s[2]|0,s[3]=a+s[3]|0}constructor(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(d.stateIdentity),this}appendStr(s){const e=this._buffer8,o=this._buffer32;let r,a,n=this._bufferLength;for(a=0;a<s.length;a+=1){if(r=s.charCodeAt(a),r<128)e[n++]=r;else if(r<2048)e[n++]=192+(r>>>6),e[n++]=63&r|128;else if(r<55296||r>56319)e[n++]=224+(r>>>12),e[n++]=r>>>6&63|128,e[n++]=63&r|128;else{if(r=1024*(r-55296)+(s.charCodeAt(++a)-56320)+65536,r>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");e[n++]=240+(r>>>18),e[n++]=r>>>12&63|128,e[n++]=r>>>6&63|128,e[n++]=63&r|128}n>=64&&(this._dataLength+=64,d._md5cycle(this._state,o),n-=64,o[0]=o[16])}return this._bufferLength=n,this}appendAsciiStr(s){const e=this._buffer8,o=this._buffer32;let r,n=this._bufferLength,a=0;for(;;){for(r=Math.min(s.length-a,64-n);r--;)e[n++]=s.charCodeAt(a++);if(n<64)break;this._dataLength+=64,d._md5cycle(this._state,o),n=0}return this._bufferLength=n,this}appendByteArray(s){const e=this._buffer8,o=this._buffer32;let r,n=this._bufferLength,a=0;for(;;){for(r=Math.min(s.length-a,64-n);r--;)e[n++]=s[a++];if(n<64)break;this._dataLength+=64,d._md5cycle(this._state,o),n=0}return this._bufferLength=n,this}getState(){const s=this,e=s._state;return{buffer:String.fromCharCode.apply(null,s._buffer8),buflen:s._bufferLength,length:s._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(s){const e=s.buffer,o=s.state,n=this._state;let r;for(this._dataLength=s.length,this._bufferLength=s.buflen,n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],r=0;r<e.length;r+=1)this._buffer8[r]=e.charCodeAt(r)}end(s=!1){const e=this._bufferLength,o=this._buffer8,n=this._buffer32,r=1+(e>>2);let a;if(this._dataLength+=e,o[e]=128,o[e+1]=o[e+2]=o[e+3]=0,n.set(d.buffer32Identity.subarray(r),r),e>55&&(d._md5cycle(this._state,n),n.set(d.buffer32Identity)),a=8*this._dataLength,a<=4294967295)n[14]=a;else{const u=a.toString(16).match(/(.*?)(.{0,8})$/);if(null===u)return;const me=parseInt(u[2],16),pe=parseInt(u[1],16)||0;n[14]=me,n[15]=pe}return d._md5cycle(this._state,n),s?this._state:d._hex(this._state)}}"5d41402abc4b2a76b9719d911017c592"!==d.hashStr("hello")&&console.error("Md5 self test failed.");let Rt=(()=>{class i{set email(e){this.updateEmail(e)}constructor(e){this.el=e,this.fallback="wavatar"}ngOnInit(){this.el&&(this.el.nativeElement.src="//www.gravatar.com/avatar/")}updateEmail(e){if(console.log(e),!e||!this.el.nativeElement)return;const o=d.hashStr(e.trim().toLowerCase());this.el.nativeElement.src=`//www.gravatar.com/avatar/${o}?d=${this.fallback}`,console.log(this.el.nativeElement.src,o)}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(t.SBq))};static#e=this.\u0275dir=t.lG2({type:i,selectors:[["","appGravatar",""]],inputs:{email:"email"}})}return i})();const $t=["pdfTable"];function Mt(i,s){1&i&&(t.TgZ(0,"mat-icon",63),t._uU(1,"close"),t.qZA())}function Ht(i,s){1&i&&(t.TgZ(0,"mat-icon",63),t._uU(1,"check"),t.qZA())}function Gt(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",59)(2,"button",60),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.cancelOrder(n.order))}),t.YNc(3,Mt,2,0,"mat-icon",61),t._uU(4),t.qZA(),t.TgZ(5,"button",62),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.accept(n.order))}),t.YNc(6,Ht,2,0,"mat-icon",61),t._uU(7),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("disabled",e.isCanceling),t.xp6(1),t.Q6J("ngIf",!e.isCanceling),t.xp6(1),t.hij(" ",e.isCanceling?"CANCELLING....":"CANCEL ORDER"," "),t.xp6(2),t.Q6J("ngIf",!e.isAccepting),t.xp6(1),t.hij(" ",e.isAccepting?"ACCEPTING....":"ACCEPT ORDER"," ")}}function Pt(i,s){if(1&i&&(t.TgZ(0,"mat-option",69),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Et(i,s){if(1&i&&(t.TgZ(0,"mat-option",69),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e.name)}}const Bt=function(){return["Paid","Unpaid"]};function jt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",64)(1,"mat-form-field",65)(2,"mat-label"),t._uU(3,"Payment Status"),t.qZA(),t.TgZ(4,"mat-select",66),t.NdJ("selectionChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updatePaymentStatus(r.order,n))})("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.order.paymentStatus=n)}),t.YNc(5,Pt,2,2,"mat-option",67),t.qZA()(),t.TgZ(6,"mat-form-field",65)(7,"mat-label"),t._uU(8,"Order Status"),t.qZA(),t.TgZ(9,"mat-select",68),t.NdJ("selectionChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.updateStatus(n,r.order))})("ngModelChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.order.status[0].name=n)}),t.YNc(10,Et,2,2,"mat-option",67),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("disabled",e.order.settled)("ngModel",e.order.paymentStatus),t.xp6(1),t.Q6J("ngForOf",t.DdM(6,Bt)),t.xp6(4),t.Q6J("ngModel",e.order.status[0].name)("compareWith",e.compareFn),t.xp6(1),t.Q6J("ngForOf",e.statuses)}}function zt(i,s){if(1&i&&(t.TgZ(0,"div",6)(1,"h3",70),t._uU(2,"Cancellation Reason"),t.qZA(),t.TgZ(3,"p",70),t._uU(4),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.order.orderCancellationReason||"No reason stated")}}function Kt(i,s){1&i&&(t.TgZ(0,"mat-list-item",7)(1,"mat-icon",9),t._uU(2,"redeem"),t.qZA(),t.TgZ(3,"div",10),t._uU(4,"It's a gift"),t.qZA()())}function Vt(i,s){if(1&i&&(t.TgZ(0,"mat-list-item")(1,"a",10),t._uU(2),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.order.shipping.streetName)}}function kt(i,s){if(1&i&&(t.TgZ(0,"div",6)(1,"div",13),t._UZ(2,"img",71),t.TgZ(3,"h2",72),t._uU(4),t.qZA(),t.TgZ(5,"button",73),t._uU(6),t.qZA()(),t.TgZ(7,"mat-list")(8,"mat-list-item")(9,"mat-icon",9),t._uU(10,"phone_android"),t.qZA(),t.TgZ(11,"a",17),t._uU(12),t.qZA()(),t._UZ(13,"mat-divider"),t.TgZ(14,"mat-list-item")(15,"mat-icon",9),t._uU(16,"location_on"),t.qZA(),t.TgZ(17,"div",10),t._uU(18),t.qZA()(),t._UZ(19,"mat-divider"),t.TgZ(20,"div",8),t._uU(21,"Notes"),t.qZA(),t.TgZ(22,"mat-list-item")(23,"p"),t._uU(24),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.order.receiver.name),t.xp6(2),t.hij(" Gift Receiver (",e.order.receiver.surprise?"surprise":"Not surprise",") "),t.xp6(5),t.Q6J("href","tel:"+e.order.receiver.phoneNumber,t.LSH),t.xp6(1),t.Oqu(e.order.receiver.phoneNumber),t.xp6(6),t.Oqu(e.order.receiver.address.name+" "+e.order.receiver.address.administrativeArea+" "+e.order.receiver.address.locality),t.xp6(6),t.hij("",e.order.receiver.note||"No Notes"," ")}}function Wt(i,s){if(1&i&&(t.TgZ(0,"mat-list-item")(1,"a",10),t._uU(2),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.order.store.contactInfo.address)}}function Xt(i,s){if(1&i&&(t.TgZ(0,"div",74)(1,"div",50)(2,"h3",75)(3,"mat-icon",63),t._uU(4,"alarm"),t.qZA(),t._uU(5," Schedule Delivery"),t.qZA()(),t.TgZ(6,"div",76),t._uU(7),t.qZA()()),2&i){const e=t.oxw();t.xp6(7),t.hij(" This order is Scheduled for ",e.order.deliveryTime.time,", kindly inform both the vendor and the customers. ")}}function te(i,s){if(1&i&&(t.TgZ(0,"div",83),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=s.$implicit,o=t.oxw(2);t.xp6(1),t.lnq(" ",e.quantity," x ",e.name," = ",t.xi3(2,3,e.quantity*e.price,o.order.store.currency)," ")}}function ee(i,s){if(1&i&&(t.TgZ(0,"tr")(1,"td",30)(2,"div",50),t._UZ(3,"div",77),t.TgZ(4,"div",78)(5,"div",79),t._uU(6),t.qZA(),t.TgZ(7,"div",80),t.YNc(8,te,3,6,"div",81),t.qZA()()()(),t.TgZ(9,"td",30)(10,"div",36),t._uU(11),t.qZA()(),t.TgZ(12,"td",30)(13,"div",37),t._uU(14),t.ALo(15,"currency"),t.qZA()(),t.TgZ(16,"td",30)(17,"div",37),t._uU(18),t.ALo(19,"currency"),t.qZA()(),t.TgZ(20,"td",30)(21,"div",38)(22,"button",82)(23,"mat-icon",63),t._uU(24,"delete"),t.qZA()()()()()),2&i){const e=s.$implicit,o=t.oxw();t.xp6(6),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",e.options),t.xp6(3),t.Oqu(e.quantity),t.xp6(3),t.Oqu(t.xi3(15,5,e.price+o.optionsPrice(e.options),o.order.store.currency)),t.xp6(4),t.Oqu(t.xi3(19,8,(e.price+o.optionsPrice(e.options))*e.quantity,o.order.store.currency))}}function ne(i,s){if(1&i&&(t.TgZ(0,"li",49)(1,"div",50)(2,"div",51),t.O4$(),t.TgZ(3,"svg",52),t._UZ(4,"path",53),t.qZA()(),t.kcU(),t._UZ(5,"div",54),t.qZA(),t.TgZ(6,"div",55)(7,"h3"),t._uU(8),t.qZA(),t.TgZ(9,"time",57),t._uU(10),t.ALo(11,"date"),t.qZA()()()),2&i){const e=s.$implicit;t.xp6(7),t.Tol("text-lg font-semibold "+e.color),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Oqu(t.xi3(11,4,null==e?null:e.updatedOn,"medium"))}}const w=function(i){return["../../../customers",i,"details"]},oe=function(i){return["dashboard","customers",i,"details"]},A=function(i){return["../../../stores",i,"explore"]},ie=c(8777);U.vfs=wt.I.vfs;let re=(()=>{class i{constructor(e,o,n,r,a){this.route=e,this.orderService=o,this._matDialog=n,this._matSnack=r,this.router=a,this.statuses=[{id:0,name:"Accepted",color:"text-yellow-700",updatedOn:new Date},{id:1,name:"Preparing",color:"text-blue-500",updatedOn:new Date},{id:2,name:"Ready for Pickup",color:"text-blue-500",updatedOn:new Date},{id:4,name:"Shipped",color:"text-blue-500",updatedOn:new Date},{id:3,name:"Canceled",color:"text-red-500",updatedOn:new Date},{id:5,name:"Delivered",color:"text-green-500",updatedOn:new Date}]}ngOnInit(){this.order=this.route.snapshot.data.order}optionsPrice(e){return e.reduce((o,n)=>o+n.price*n.quantity,0)}accept(e){this.isAccepting=!0,this.updateStatus({id:0,name:"Accepted",color:"text-yellow-700",updatedOn:new Date},e,!1),e.category="Processing"}cancel(e,o){this.cancelationDialogRef=this._matDialog.open(It,{disableClose:!1}),this.cancelationDialogRef.componentInstance.title="Cancel orders?",this.cancelationDialogRef.componentInstance.confirmMessage="Tell us why you are canceling this order?",this.cancelationDialogRef.componentInstance.confirmButton="Cancel Order",this.cancelationDialogRef.afterClosed().subscribe(n=>{n&&(this.orderService.updateOrderStatus(e._id,e.user._id,o).subscribe(r=>{this.isCanceling=!1,this.isAccepting=!1,this._matSnack.open("You have updated this order to Canceled","Close",{duration:3e3})}),this.orderService.updateOrder(e._id,{orderCancellationReason:n}).subscribe())})}cancelOrder(e){this.isCanceling=!0,this.updateStatus({id:3,name:"Canceled",color:"text-red-500",updatedOn:new Date},e,!1),e.category="Canceled"}updatePaymentStatus(e,o){this.orderService.updateOrder(e._id,{paymentStatus:o.value}).pipe((0,Lt.x)(()=>this.isCanceling=!1)).subscribe(n=>{e.paymentStatus=o.value,this._matSnack.open("Payment updated!","Close",{duration:3e3})})}compareFn(e,o){return e.name===o}updateStatus(e,o,n=!0){"Canceled"===e.value.name?this.cancel(o,e.value):this.orderService.updateOrderStatus(o._id,o.user._id,n?e.value:e).subscribe(r=>{this.isCanceling=!1,this.isAccepting=!1,this._matSnack.open(`You have updated this order to ${e.value.name}`,"Close",{duration:3e3})})}exportPDF(){var o=ie(this.pdfTable.nativeElement.innerHTML);U.createPdf({content:o}).download()}open(){window.open(`google.navigation:q=${this.order.store.location?.coordinates[0]}+${this.order.store.location?.coordinates[1]}`,"_blank")}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(p.gz),t.Y36(g.N),t.Y36(f.uw),t.Y36(L.ux),t.Y36(p.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-orders-details"]],viewQuery:function(o,n){if(1&o&&t.Gf($t,5),2&o){let r;t.iGM(r=t.CRH())&&(n.pdfTable=r.first)}},decls:286,vars:86,consts:[[1,"lg:flex","lg:items-center","lg:justify-between"],[4,"ngIf","ngIfElse"],["statusControl",""],["fxLayout.gt-md","row","fxLayoutAlign.gt-md","space-between start","fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","space-around stretch","fxLayoutGap","20px",1,"mt-10"],["fxLayout","column","fxLayoutAlign","space-between start","fxFlex.gt-md","30%","fxFlex.lt-md","100%","fxLayoutGap","20px"],["class","mat-elevation-z2  rounded-md w-full","fxLayout","column","fxLayoutAlign","start start",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start",1,"mat-elevation-z2","rounded-md","w-full"],[1,"w-full"],["mat-subheader",""],["matListItemIcon","",1,"material-icons-outlined"],["matListItemTitle",""],["class","w-full",4,"ngIf"],[1,"w-full",3,"click"],["fxLayout","column","fxLayoutAlign","space-around center",1,"w-full","p-3"],["appGravatar","","width","150","height","150",1,"rounded-full","cursor-pointer",3,"routerLink","email"],[1,"text-center","font-bolder","text-blue-600",3,"routerLink"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-transparent","bg-green-600","px-4","py-2","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"routerLink"],["matListItemTitle","",3,"href"],[4,"ngIf"],[1,"mat-elevation-z2","rounded-md","w-full"],["width","150","height","150",1,"rounded-full","cursor-pointer",3,"routerLink","src"],[1,"text-center","font-bolder","text-blue-500","cursor-pointer",3,"routerLink"],["fxFlex","70%","fxLayoutGap","20px"],["id","alert-additional-content-1","class","p-4 mb-4 text-blue-800 border border-blue-300 rounded-lg bg-blue-50","role","alert",4,"ngIf"],["id","pdfTable",1,"mat-elevation-z2","p-3","rounded-md","w-full"],["pdfTable",""],[1,"p-3"],[1,"overflow-x-auto"],[1,"table-auto","w-full"],[1,"text-xs","font-semibold","uppercase","text-gray-400","bg-gray-50"],[1,"p-2","whitespace-nowrap"],[1,"font-semibold","text-left"],[1,"font-semibold","text-center"],[1,"text-sm","divide-y","divide-gray-100"],[4,"ngFor","ngForOf"],[1,"text-left","font-bold"],[1,"text-left"],[1,"text-left","font-medium","text-black"],[1,"text-lg","text-center"],[1,"text-left","font-medium","text-red-500"],[1,"bg-gray-700"],[1,"font-semibold","text-white","dark:white"],["scope","row",1,"py-3","px-6","whitespace-nowrap","text-base"],[1,"text-left","font-medium","text-white"],[1,"bg-blue-700"],[1,"bg-pink-700"],[1,"bg-green-700"],[1,"mat-elevation-z2","p-3","rounded-md","w-full","mt-5"],[1,"items-center","sm:flex"],[1,"relative","mb-6","sm:mb-0"],[1,"flex","items-center"],[1,"flex","z-10","justify-center","items-center","w-6","h-6","bg-blue-200","rounded-full","ring-0","ring-white","dark:bg-blue-900","sm:ring-8","dark:ring-gray-900","shrink-0"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-3","h-3","text-blue-600","dark:text-blue-300"],["fill-rule","evenodd","d","M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule","evenodd"],[1,"hidden","sm:flex","w-full","bg-gray-200","h-0.5","dark:bg-gray-700"],[1,"mt-3","sm:pr-8"],[1,"text-lg","font-semibold"],[1,"block","mb-2","text-sm","font-normal","leading-none","text-gray-400","dark:text-gray-500"],["class","relative mb-6 sm:mb-0",4,"ngFor","ngForOf"],["fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","space-around stretch","ngClass.lt-lg","mt-10","fxLayoutGap","15px"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-red-500","bg-white","px-4","py-2","text-sm","font-medium","text-red-500","shadow-sm","hover:bg-red-50","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2",3,"disabled","click"],["class","mat-18",4,"ngIf"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-transparent","bg-green-600","px-4","py-2","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2",3,"click"],[1,"mat-18"],["fxLayout.lt-lg","column","fxLayoutAlign.lt-lg","space-around stretch","ngClass.lt-lg","mt-10","fxLayoutGap.gt-md","10px"],["appearance","outline"],[3,"disabled","ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","compareWith","selectionChange","ngModelChange"],[3,"value"],[1,"px-5","py-3"],["src","https://davur.dexignzone.com/react/demo/static/media/1.7c3d5aa9.jpg","width","150","height","150",1,"rounded-full"],[1,"text-center","font-bolder"],["type","button",1,"inline-flex","items-center","rounded-md","border","border-transparent","bg-pink-600","px-4","py-2","text-sm","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2"],["id","alert-additional-content-1","role","alert",1,"p-4","mb-4","text-blue-800","border","border-blue-300","rounded-lg","bg-blue-50"],[1,"text-lg","font-medium","m-0",2,"margin","0","padding","0"],[1,"mt-2","mb-4","text-sm"],[1,"w-10","h-10","flex-shrink-0","mr-2","sm:mr-3"],["fxLayout","column","fxLayoutAlign","start start"],[1,"font-medium","text-blue-800"],["fxLayout","column","fxLayoutAlign","space-around start"],["class","font-medium text-gray-800",4,"ngFor","ngForOf"],["mat-icon-button","","color","warm"],[1,"font-medium","text-gray-800"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,Gt,8,5,"ng-container",1),t.YNc(2,jt,11,7,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,zt,5,1,"div",5),t.TgZ(7,"div",6)(8,"mat-list",7)(9,"div",8),t._uU(10),t.qZA(),t.TgZ(11,"mat-list-item",7)(12,"mat-icon",9),t._uU(13,"card_travel"),t.qZA(),t.TgZ(14,"div",10),t._uU(15),t.qZA()(),t._UZ(16,"mat-divider"),t.TgZ(17,"mat-list-item",7)(18,"mat-icon",9),t._uU(19,"credit_score"),t.qZA(),t.TgZ(20,"div",10),t._uU(21),t.qZA()(),t._UZ(22,"mat-divider"),t.TgZ(23,"mat-list-item",7)(24,"mat-icon",9),t._uU(25,"calendar_today"),t.qZA(),t.TgZ(26,"div",10),t._uU(27),t.ALo(28,"date"),t.qZA()(),t._UZ(29,"mat-divider"),t.YNc(30,Kt,5,0,"mat-list-item",11),t._UZ(31,"mat-divider"),t.TgZ(32,"mat-list-item",12),t.NdJ("click",function(){return n.exportPDF()}),t.TgZ(33,"mat-icon",9),t._uU(34,"print"),t.qZA(),t.TgZ(35,"div",10),t._uU(36,"Export Order"),t.qZA()(),t._UZ(37,"mat-divider"),t.TgZ(38,"mat-list-item",7)(39,"mat-icon",9),t._uU(40,"memory"),t.qZA(),t.TgZ(41,"div",10),t._uU(42),t.qZA()()()(),t.TgZ(43,"div",6)(44,"div",13),t._UZ(45,"img",14),t.TgZ(46,"h2",15),t._uU(47),t.qZA(),t.TgZ(48,"a",16),t._uU(49," Customer "),t.qZA()(),t.TgZ(50,"mat-list",7)(51,"mat-list-item",7)(52,"mat-icon",9),t._uU(53,"phone_android"),t.qZA(),t.TgZ(54,"a",17),t._uU(55),t.qZA()(),t._UZ(56,"mat-divider"),t.TgZ(57,"mat-list-item")(58,"mat-icon",9),t._uU(59,"location_on"),t.qZA(),t.TgZ(60,"a",10),t._uU(61),t.qZA()(),t.YNc(62,Vt,3,1,"mat-list-item",18),t._UZ(63,"mat-divider"),t.TgZ(64,"mat-list-item")(65,"mat-icon",9),t._uU(66,"phone"),t.qZA(),t.TgZ(67,"a",10),t._uU(68),t.qZA()(),t._UZ(69,"mat-divider")(70,"mat-divider"),t.TgZ(71,"div",8),t._uU(72,"Notes"),t.qZA(),t.TgZ(73,"mat-list-item")(74,"p"),t._uU(75),t.qZA()()()(),t.YNc(76,kt,25,6,"div",5),t.TgZ(77,"div",19)(78,"div",13),t._UZ(79,"img",20),t.TgZ(80,"h2",21),t._uU(81),t.qZA(),t.TgZ(82,"a",16),t._uU(83," Restaurant "),t.qZA()(),t.TgZ(84,"mat-list",7)(85,"mat-list-item",7)(86,"mat-icon",9),t._uU(87,"phone_android"),t.qZA(),t.TgZ(88,"a",17),t._uU(89),t.qZA()(),t._UZ(90,"mat-divider"),t.TgZ(91,"mat-list-item")(92,"mat-icon",9),t._uU(93,"location_on"),t.qZA(),t.TgZ(94,"a",10),t._uU(95),t.qZA()(),t.YNc(96,Wt,3,1,"mat-list-item",18),t._UZ(97,"mat-divider"),t.TgZ(98,"mat-list-item")(99,"mat-icon",9),t._uU(100,"mail"),t.qZA(),t.TgZ(101,"a",10),t._uU(102),t.qZA()()()()(),t.TgZ(103,"div",22),t.YNc(104,Xt,8,1,"div",23),t.TgZ(105,"div",24,25)(107,"div",26)(108,"div",27)(109,"table",28)(110,"thead",29)(111,"tr")(112,"th",30)(113,"div",31),t._uU(114,"Items"),t.qZA()(),t.TgZ(115,"th",30)(116,"div",31),t._uU(117," Qty"),t.qZA()(),t.TgZ(118,"th",30)(119,"div",31),t._uU(120,"Price"),t.qZA()(),t.TgZ(121,"th",30)(122,"div",31),t._uU(123,"Total Price"),t.qZA()(),t.TgZ(124,"th",30)(125,"div",32),t._uU(126,"Action"),t.qZA()()()(),t.TgZ(127,"tbody",33),t.YNc(128,ee,25,11,"tr",34),t.TgZ(129,"tr")(130,"td",30)(131,"div",35),t._uU(132,"Service Fee"),t.qZA()(),t.TgZ(133,"td",30)(134,"div",36),t._uU(135,"-"),t.qZA()(),t.TgZ(136,"td",30)(137,"div",37),t._uU(138,"-"),t.qZA()(),t.TgZ(139,"td",30)(140,"div",37),t._uU(141),t.ALo(142,"currency"),t.qZA()(),t.TgZ(143,"td",30)(144,"div",38),t._uU(145," - "),t.qZA()()(),t.TgZ(146,"tr")(147,"td",30)(148,"div",35),t._uU(149,"Shipping Fee"),t.qZA()(),t.TgZ(150,"td",30)(151,"div",36),t._uU(152,"-"),t.qZA()(),t.TgZ(153,"td",30)(154,"div",39),t._uU(155,"-"),t.qZA()(),t.TgZ(156,"td",30)(157,"div",39),t._uU(158),t.ALo(159,"currency"),t.qZA()(),t.TgZ(160,"td",30)(161,"div",38),t._uU(162," - "),t.qZA()()(),t.TgZ(163,"tr")(164,"td",30)(165,"div",35),t._uU(166,"Discount"),t.qZA()(),t.TgZ(167,"td",30)(168,"div",36),t._uU(169,"-"),t.qZA()(),t.TgZ(170,"td",30)(171,"div",37),t._uU(172,"-"),t.qZA()(),t.TgZ(173,"td",30)(174,"div",37),t._uU(175),t.ALo(176,"currency"),t.qZA()(),t.TgZ(177,"td",30)(178,"div",38),t._uU(179," - "),t.qZA()()()(),t.TgZ(180,"tfoot",40)(181,"tr",41)(182,"th",42)(183,"div",35),t._uU(184,"Total"),t.qZA()(),t.TgZ(185,"td",30)(186,"div",36),t._uU(187,"-"),t.qZA()(),t.TgZ(188,"td",30)(189,"div",43),t._uU(190,"-"),t.qZA()(),t.TgZ(191,"td",30)(192,"div",43),t._uU(193),t.ALo(194,"currency"),t.qZA()(),t.TgZ(195,"td",30)(196,"div",38),t._uU(197," - "),t.qZA()()()(),t.TgZ(198,"tfoot",40)(199,"tr",41)(200,"th",42)(201,"div",35),t._uU(202,"Driver Tips"),t.qZA()(),t.TgZ(203,"td",30)(204,"div",36),t._uU(205,"-"),t.qZA()(),t.TgZ(206,"td",30)(207,"div",43),t._uU(208,"-"),t.qZA()(),t.TgZ(209,"td",30)(210,"div",43),t._uU(211),t.ALo(212,"currency"),t.qZA()(),t.TgZ(213,"td",30)(214,"div",38),t._uU(215," - "),t.qZA()()()(),t.TgZ(216,"tfoot",44)(217,"tr",41)(218,"th",42)(219,"div",35),t._uU(220,"Total Vendor Commission"),t.qZA()(),t.TgZ(221,"td",30)(222,"div",36),t._uU(223,"-"),t.qZA()(),t.TgZ(224,"td",30)(225,"div",43),t._uU(226,"-"),t.qZA()(),t.TgZ(227,"td",30)(228,"div",43),t._uU(229),t.ALo(230,"currency"),t.qZA()(),t.TgZ(231,"td",30)(232,"div",38),t._uU(233," - "),t.qZA()()()(),t.TgZ(234,"tfoot",45)(235,"tr",41)(236,"th",42)(237,"div",35),t._uU(238,"Vendor Receive's"),t.qZA()(),t.TgZ(239,"td",30)(240,"div",36),t._uU(241,"-"),t.qZA()(),t.TgZ(242,"td",30)(243,"div",43),t._uU(244,"-"),t.qZA()(),t.TgZ(245,"td",30)(246,"div",43),t._uU(247),t.ALo(248,"currency"),t.qZA()(),t.TgZ(249,"td",30)(250,"div",38),t._uU(251," - "),t.qZA()()()(),t.TgZ(252,"tfoot",46)(253,"tr",41)(254,"th",42)(255,"div",35),t._uU(256,"Shopbot Receives"),t.qZA()(),t.TgZ(257,"td",30)(258,"div",36),t._uU(259,"-"),t.qZA()(),t.TgZ(260,"td",30)(261,"div",43),t._uU(262,"-"),t.qZA()(),t.TgZ(263,"td",30)(264,"div",43),t._uU(265),t.ALo(266,"currency"),t.qZA()(),t.TgZ(267,"td",30)(268,"div",38),t._uU(269," - "),t.qZA()()()()()()()(),t.TgZ(270,"div",47)(271,"div",26)(272,"ol",48)(273,"li",49)(274,"div",50)(275,"div",51),t.O4$(),t.TgZ(276,"svg",52),t._UZ(277,"path",53),t.qZA()(),t.kcU(),t._UZ(278,"div",54),t.qZA(),t.TgZ(279,"div",55)(280,"h3",56),t._uU(281,"Order Created"),t.qZA(),t.TgZ(282,"time",57),t._uU(283),t.ALo(284,"date"),t.qZA()()(),t.YNc(285,ne,12,7,"li",58),t.qZA()()()()()),2&o){const r=t.MAs(3);t.xp6(1),t.Q6J("ngIf","New"==n.order.category)("ngIfElse",r),t.xp6(5),t.Q6J("ngIf","Canceled"===n.order.status[0].name),t.xp6(4),t.hij("Order reference #",n.order.reference,""),t.xp6(5),t.Oqu(n.order.payment),t.xp6(6),t.Oqu(n.order.paymentStatus),t.xp6(6),t.Oqu(t.xi3(28,44,n.order.createdAt,"medium")),t.xp6(3),t.Q6J("ngIf",n.order.gift),t.xp6(12),t.hij(" ",n.order.currentAppVersion||"No Version",""),t.xp6(3),t.Q6J("routerLink",t.VKq(74,w,n.order.user._id))("email",n.order.user.email),t.xp6(1),t.Q6J("routerLink",t.VKq(76,oe,n.order.user._id)),t.xp6(1),t.Oqu(n.order.user.name),t.xp6(1),t.Q6J("routerLink",t.VKq(78,w,n.order.user._id)),t.xp6(6),t.Q6J("href","tel:"+n.order.user.phoneNumber,t.LSH),t.xp6(1),t.Oqu(n.order.user.phoneNumber),t.xp6(6),t.Oqu(n.order.shipping.name+" "+n.order.shipping.administrativeArea),t.xp6(1),t.Q6J("ngIf",n.order.shipping.streetName),t.xp6(6),t.Oqu(n.order.user.phoneCredentials[0].deviceType+" "+n.order.user.phoneCredentials[0].make+" "+n.order.user.phoneCredentials[0].os),t.xp6(7),t.hij("",n.order.orderInstruction||"No Notes"," "),t.xp6(1),t.Q6J("ngIf",n.order.gift),t.xp6(3),t.Q6J("routerLink",t.VKq(80,A,n.order.store._id))("src",n.order.store.logo,t.LSH),t.xp6(1),t.Q6J("routerLink",t.VKq(82,A,n.order.store._id)),t.xp6(1),t.Oqu(n.order.store.name),t.xp6(1),t.Q6J("routerLink",t.VKq(84,A,n.order.user._id)),t.xp6(6),t.Q6J("href","tel:"+n.order.store.contactInfo.phone,t.LSH),t.xp6(1),t.Oqu(n.order.store.contactInfo.phone),t.xp6(6),t.Oqu(n.order.store.contactInfo.placeNumber+" "+n.order.store.contactInfo.placeName+" "||0),t.xp6(1),t.Q6J("ngIf",n.order.store.contactInfo.address),t.xp6(6),t.Oqu(n.order.store.contactInfo.email),t.xp6(2),t.Q6J("ngIf","Schedule Delivery"===(null==n.order||null==n.order.deliveryTime?null:n.order.deliveryTime.name)),t.xp6(24),t.Q6J("ngForOf",n.order.cart.products),t.xp6(13),t.Oqu(t.xi3(142,47,n.order.serviceFee,n.order.store.currency)),t.xp6(17),t.Oqu(t.xi3(159,50,n.order.shippingFee,n.order.store.currency)),t.xp6(17),t.Oqu(t.xi3(176,53,n.order.discount,n.order.store.currency)),t.xp6(18),t.hij(" ",t.xi3(194,56,n.order.total,n.order.store.currency)," "),t.xp6(18),t.hij(" ",t.xi3(212,59,n.order.driverTip||0,n.order.store.currency)," "),t.xp6(18),t.AsE(" ",t.xi3(230,62,n.order.vendorCommissionAmount,n.order.store.currency)," (",n.order.vendorCommission,"%) "),t.xp6(18),t.hij(" ",t.xi3(248,65,n.order.subTotal-n.order.vendorCommissionAmount,n.order.store.currency)," "),t.xp6(18),t.hij(" ",t.xi3(266,68,n.order.total-(n.order.subTotal-n.order.vendorCommissionAmount),n.order.store.currency)," "),t.xp6(18),t.Oqu(t.xi3(284,71,n.order.createdAt,"medium")),t.xp6(2),t.Q6J("ngForOf",n.order.status)}},dependencies:[m.sg,m.O5,p.rH,Yt.ey,x.RK,v.KE,v.hX,q.Hw,Ft.gD,_.i$,_.Tg,_.Yt,_.gs,Qt.d,_.sL,h.xw,h.SQ,h.Wh,h.yH,Jt.oO,Z.JJ,Z.On,Rt,m.H9,m.uU]})}return i})();var S=c(6676);let D=(()=>{class i{constructor(e){this.orderService=e}resolve(){return this.orderService.getOrders({data:{$match:{}},control:[{$sort:{createdAt:-1}},{$limit:20},{$skip:0}]})}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(g.N))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),N=(()=>{class i{constructor(e){this.orderService=e}resolve(){return this.orderService.countOrders()}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(g.N))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),I=(()=>{class i{constructor(e){this.orderService=e}resolve(e){const o=e.paramMap.get("id");return this.orderService.getOrder(o)}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(g.N))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ae=(()=>{class i{constructor(e){this.orderService=e}resolve(e){const o=S().startOf("month").format("YYYY-MM-DD hh:mm"),n=S().endOf("month").format("YYYY-MM-DD hh:mm");return this.orderService.updateOrderCommission({startDate:o,endDate:n})}static#t=this.\u0275fac=function(o){return new(o||i)(t.LFG(g.N))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const se=[{path:"",component:Y,children:[{path:"list",component:Ut,resolve:{orders:D,totalOrders:N}},{path:":id/details",component:re,resolve:{order:I}}]}];let ce=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(se),p.Bz]})}return i})();var le=c(1447),de=c(6005);let ue=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({providers:[D,I,g.N,ae,N],imports:[m.ez,ce,de.q,le.o9,Z.UX,Z.u5]})}return i})()}}]);