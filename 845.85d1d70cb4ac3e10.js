"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[845],{5845:(y,p,a)=>{a.r(p),a.d(p,{MerchantModule:()=>G});var l=a(9808),h=a(6696),t=a(5e3);let v=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-merchants"]],decls:1,vars:0,template:function(e,r){1&e&&t._UZ(0,"router-outlet")},dependencies:[h.lC]}),n})();var c=a(449),d=a(9062),o=a(4999),f=a(8392),Z=a(2442),F=a(2349),M=a(7423),N=a(5245),S=a(2181),A=a(4623),_=a(508),D=a(4834);const U=function(n){return["../",n,"details"]};function L(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-list-item")(1,"div",6)(2,"span",7),t._uU(3),t.qZA()(),t.TgZ(4,"div",8),t._uU(5),t.qZA(),t.TgZ(6,"button",9)(7,"mat-icon"),t._uU(8,"more_vert"),t.qZA()(),t.TgZ(9,"mat-menu",10,11),t.NdJ("click",function(m){return m.stopPropagation()}),t.TgZ(11,"button",12),t.NdJ("click",function(m){const g=t.CHM(e),z=g.$implicit,K=g.index;return t.oxw().deleteMerchant(z._id,K),t.KtG(m.stopPropagation())}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA(),t._uU(14," Delete"),t.qZA(),t.TgZ(15,"button",13)(16,"mat-icon"),t._uU(17,"edit"),t.qZA(),t._uU(18," Edit "),t.qZA()(),t._UZ(19,"mat-divider"),t.qZA()}if(2&n){const e=s.$implicit,r=t.MAs(10);t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.phoneNumber),t.xp6(1),t.Q6J("matMenuTriggerFor",r),t.xp6(9),t.Q6J("routerLink",t.VKq(4,U,e._id))}}const I=function(){return["../","new"]};let R=(()=>{class n{constructor(e,r,m){this.route=e,this.merchantService=r,this._matDialog=m,this.displayedColumns=["select","Name","phoneNumber","email","phoneNumber","createdAt","actions"],this.dataSource=new o.by([]),this.selection=new c.Ov(!0,[]),this.merchants=this.route.snapshot.data.merchants}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(f.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete merchants?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these merchants?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this.selection.selected.forEach((r,m)=>{this.dataSource.data.splice(m,1),this.dataSource=new o.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.merchantService.deleteMerchant(r._id).subscribe()})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteMerchant(e,r){this.confirmDialogRef=this._matDialog.open(f.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Merchant?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this merchant?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(m=>{m&&(this.dataSource.data.splice(r,1),this.dataSource=new o.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.merchantService.deleteMerchant(e).subscribe())})}message(e){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.gz),t.Y36(Z.S),t.Y36(F.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-list-merchant"]],viewQuery:function(e,r){if(1&e&&t.Gf(d.NW,5),2&e){let m;t.iGM(m=t.CRH())&&(r.paginator=m.first)}},decls:8,vars:3,consts:[[1,"h-screen","w-full"],[2,"margin-bottom","20px"],["mat-subheader",""],[4,"ngFor","ngForOf"],["mat-fab","","color","primary",2,"position","fixed","bottom","80px","right","15px",3,"routerLink"],[1,"mat-18"],["mat-line",""],[1,"title","font-extrabold"],["mat-line","",1,"text-gray-400","font-thin"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"click"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"mat-list",1)(2,"div",2),t._uU(3,"Merchants"),t.qZA(),t.YNc(4,L,20,6,"mat-list-item",3),t.qZA(),t.TgZ(5,"button",4)(6,"mat-icon",5),t._uU(7,"add"),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",r.merchants),t.xp6(1),t.Q6J("routerLink",t.DdM(2,I)))},dependencies:[l.sg,h.rH,M.lW,N.Hw,S.VK,S.OP,S.p6,A.i$,A.Tg,_.X2,A.gs,D.d]}),n})();var i=a(3075),C=a(7322),T=a(7531),x=a(4107),u=a(7093);function E(n,s){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const J=function(){return["Male","Female"]};let O=(()=>{class n{constructor(e,r,m,g){this.fb=e,this.merchantService=r,this.location=m,this.route=g,this.merchantForm=this.fb.group({name:["",i.kI.required],phoneNumber:["",i.kI.required],gender:["",i.kI.required],email:["",i.kI.email],password:["",i.kI.required]})}ngOnInit(){}submit(){this.merchantForm.valid&&this.merchantService.createMerchant(this.merchantForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.qu),t.Y36(Z.S),t.Y36(l.Ye),t.Y36(h.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-merchant"]],decls:29,vars:4,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Full Name","formControlName","name"],["matInput","","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","placeholder","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Full Name"),t.qZA(),t._UZ(6,"input",4),t.qZA(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Phone Number"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"mat-form-field",3)(12,"mat-label"),t._uU(13,"Email"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Gender"),t.qZA(),t.TgZ(18,"mat-select",7),t.YNc(19,E,2,2,"mat-option",8),t.qZA()(),t.TgZ(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Password"),t.qZA(),t._UZ(23,"input",9),t.qZA(),t.TgZ(24,"div",10)(25,"a",11),t.NdJ("click",function(){return r.back()}),t._uU(26,"CANCEL"),t.qZA(),t.TgZ(27,"button",12),t._uU(28,"SAVE"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",r.merchantForm),t.xp6(18),t.Q6J("ngForOf",t.DdM(3,J)),t.xp6(8),t.Q6J("disabled",r.merchantForm.invalid))},dependencies:[l.sg,_.ey,M.lW,M.zs,C.KE,C.hX,T.Nt,x.gD,u.xw,u.SQ,u.Wh,u.yH,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),n})();var b=a(4703);function q(n,s){if(1&n&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const Y=function(){return["Male","Female"]},Q=[{path:"",component:v,children:[{path:"list",component:R,resolve:{merchants:b.K}},{path:"new",component:O},{path:":id/details",component:(()=>{class n{constructor(e,r,m,g){this.fb=e,this.merchantService=r,this.location=m,this.route=g,this.merchant=this.route.snapshot.data.merchant,this.merchantForm=this.fb.group({name:[this.merchant.name,i.kI.required],phoneNumber:[this.merchant.phoneNumber,i.kI.required],gender:[this.merchant.gender,i.kI.required],email:[this.merchant.email,i.kI.email]})}ngOnInit(){}submit(){this.merchantForm.valid&&this.merchantService.updateMerchant(this.merchant._id,this.merchantForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.qu),t.Y36(Z.S),t.Y36(l.Ye),t.Y36(h.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-merchant-details"]],decls:25,vars:4,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Full Name","formControlName","name"],["matInput","","placeholder","Phone Number","formControlName","phoneNumber"],["matInput","","placeholder","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Full Name"),t.qZA(),t._UZ(6,"input",4),t.qZA(),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Phone Number"),t.qZA(),t._UZ(10,"input",5),t.qZA(),t.TgZ(11,"mat-form-field",3)(12,"mat-label"),t._uU(13,"Email"),t.qZA(),t._UZ(14,"input",6),t.qZA(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Gender"),t.qZA(),t.TgZ(18,"mat-select",7),t.YNc(19,q,2,2,"mat-option",8),t.qZA()(),t.TgZ(20,"div",9)(21,"a",10),t.NdJ("click",function(){return r.back()}),t._uU(22,"CANCEL"),t.qZA(),t.TgZ(23,"button",11),t._uU(24,"SAVE"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",r.merchantForm),t.xp6(18),t.Q6J("ngForOf",t.DdM(3,Y)),t.xp6(4),t.Q6J("disabled",r.merchantForm.invalid))},dependencies:[l.sg,_.ey,M.lW,M.zs,C.KE,C.hX,T.Nt,x.gD,u.xw,u.SQ,u.Wh,u.yH,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u]}),n})(),resolve:{merchant:b.d}}]}];let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.Bz.forChild(Q),h.Bz]}),n})();var k=a(2155),w=a(5221);let G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[b.K,b.d,Z.S],imports:[l.ez,$,w.q,k.o9,i.UX]}),n})()},4703:(y,p,a)=>{a.d(p,{K:()=>t,d:()=>v});var l=a(5e3),h=a(2442);let t=(()=>{class c{constructor(o){this.merchantService=o}resolve(){return this.merchantService.getMerchants()}}return c.\u0275fac=function(o){return new(o||c)(l.LFG(h.S))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),v=(()=>{class c{constructor(o){this.merchantService=o}resolve(o){const f=o.paramMap.get("id");return this.merchantService.getMerchant(f)}}return c.\u0275fac=function(o){return new(o||c)(l.LFG(h.S))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},2442:(y,p,a)=>{a.d(p,{S:()=>v});var l=a(2340),h=a(5e3),t=a(520);let v=(()=>{class c{constructor(o){this._httpClient=o,this.hostServer=l.N.hostServer}getMerchants(){return this._httpClient.get(`${this.hostServer}/merchants`)}getMerchant(o){return this._httpClient.get(`${this.hostServer}/merchants/${o}`)}deleteMerchant(o){return this._httpClient.delete(`${this.hostServer}/merchants/${o}`)}updateMerchant(o,f){return this._httpClient.put(`${this.hostServer}/merchants/${o}`,f)}createMerchant(o){return this._httpClient.post(`${this.hostServer}/merchants`,o)}}return c.\u0275fac=function(o){return new(o||c)(h.LFG(t.eN))},c.\u0275prov=h.Yz7({token:c,factory:c.\u0275fac}),c})()}}]);