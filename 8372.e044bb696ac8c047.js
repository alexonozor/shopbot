"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[8372],{8372:(E,d,i)=>{i.r(d),i.d(d,{STORE_OPTIONS_ITEMS_ROUTE:()=>S});var f=i(1269),l=i(177),b=i(6924),_=i(5085),C=i(9417),m=i(6998),u=i(450),p=i(9115),g=i(9213),t=i(4020),O=i(7506),F=i(5351),h=i(8498),x=i(2920);function I(s,a){if(1&s){const o=t.RV6();t.j41(0,"tr",10)(1,"td",11),t.EFF(2),t.k0s(),t.j41(3,"td",12),t.EFF(4),t.nI1(5,"currency"),t.k0s(),t.j41(6,"td",12)(7,"mat-slide-toggle",13),t.bIt("change",function(n){const r=t.eBV(o).$implicit,c=t.XpG(3);return t.Njj(c.updateEnabled(n,r._id))}),t.k0s()(),t.j41(8,"td",12)(9,"button",14),t.bIt("click",function(n){return t.eBV(o),t.Njj(n.stopPropagation())}),t.j41(10,"mat-icon"),t.EFF(11,"more_vert"),t.k0s()(),t.j41(12,"mat-menu",null,0)(14,"button",15),t.bIt("click",function(){const n=t.eBV(o),r=n.$implicit,c=n.$index,y=t.XpG(3);return t.Njj(y.delete(c,r._id))}),t.j41(15,"mat-icon"),t.EFF(16,"delete"),t.k0s(),t.EFF(17," Delete"),t.k0s(),t.j41(18,"button",15),t.bIt("click",function(){const n=t.eBV(o).$implicit,r=t.XpG(3);return t.Njj(r.editOption(n))}),t.j41(19,"mat-icon"),t.EFF(20,"edit"),t.k0s(),t.EFF(21," Edit"),t.k0s()()()()}if(2&s){const o=a.$implicit,e=t.sdS(13);t.R7$(2),t.SpI(" ",o.name," "),t.R7$(2),t.SpI(" ",t.i5U(5,4,o.price,o.store.currency)," "),t.R7$(3),t.Y8G("checked",o.inStock),t.R7$(2),t.Y8G("matMenuTriggerFor",e)}}function v(s,a){if(1&s){const o=t.RV6();t.j41(0,"div",2)(1,"div",4)(2,"div",5)(3,"h2"),t.EFF(4,"Group Options"),t.k0s(),t.j41(5,"div")(6,"button",6),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.addOption())}),t.EFF(7,"Add Option Items"),t.k0s()()()(),t.j41(8,"table",7)(9,"thead",8)(10,"tr")(11,"th",9),t.EFF(12," Name "),t.k0s(),t.j41(13,"th",9),t.EFF(14," Price "),t.k0s(),t.j41(15,"th",9),t.EFF(16," In stock "),t.k0s(),t.j41(17,"th",9),t.EFF(18," Action "),t.k0s()()(),t.j41(19,"tbody"),t.Z7z(20,I,22,7,"tr",10,t.Vm6),t.k0s()()()}if(2&s){const o=t.XpG();t.R7$(20),t.Dyx(o)}}function k(s,a){if(1&s){const o=t.RV6();t.j41(0,"section",3)(1,"div",16),t.nrm(2,"img",17),t.j41(3,"div",18)(4,"h2",19),t.EFF(5,"It\u2019s a bit empty here"),t.k0s(),t.j41(6,"p",20),t.EFF(7,"Option items are ways to customize your product in variants"),t.k0s(),t.j41(8,"a",21),t.bIt("click",function(){t.eBV(o);const n=t.XpG(2);return t.Njj(n.addOption())}),t.EFF(9,"Add First Option"),t.k0s()()()()}}function j(s,a){1&s&&t.DNE(0,v,22,0,"div",2)(1,k,10,0,"section",3),2&s&&t.vxM(a.length>0?0:1)}const S=[{path:"list",component:(()=>{class s{constructor(o,e,n,r,c){this.productService=o,this._matDialog=e,this.router=n,this.route=r,this._location=c,this.menus=[],this.store=this.route.parent?.parent?.parent?.parent?.parent?.snapshot.data.store}ngOnInit(){this.getOptionItems()}getOptionItems(){this.groupOptions$=this.productService.getStoreGroupOptionItems(this.store._id)}addOption(){this._matDialog.open(m.E,{disableClose:!1,data:{storeId:this.store._id,pageType:"new"}}).afterClosed().subscribe(e=>{e&&this.getOptionItems()})}editOption(o){this._matDialog.open(m.E,{disableClose:!1,data:{storeId:this.store._id,option:o}}).afterClosed().subscribe(n=>{n&&this.getOptionItems()})}delete(o,e){this.confirmDialogRef=this._matDialog.open(f.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Menu?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this menu?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this.productService.deleteOptionItem(e).subscribe(()=>{this.getOptionItems()}),this.confirmDialogRef=null})}updateEnabled(o,e){this.productService.updateStoreGroupOptionItem({inStock:o.checked},e).subscribe()}viewMenu(o){this.router.navigate(["dashboard","stores",this.store._id,"details",o,"menu"])}goBack(){this._location.back()}static{this.\u0275fac=function(e){return new(e||s)(t.rXU(O.g),t.rXU(F.bZ),t.rXU(h.Ix),t.rXU(h.nX),t.rXU(l.aZ))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-store-store-options-items-list"]],features:[t.Jv_([_.b])],decls:3,vars:3,consts:[["menu2","matMenu"],[2,"height","100vh","position","relative"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"py-4","bg-neutral-50","overflow-hidden"],[1,"p-4","bg-white"],["fxLayout","row","fxLayoutAlign","space-between start",1,"p-3"],["mat-raised-button","","color","primary",3,"click"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b"],[1,"px-6","py-4","text-base","font-semibold"],[1,"px-6","py-4"],[3,"change","checked"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"container","px-4","mx-auto"],["src","dashy-assets/images/empty.png","alt","",1,"mx-auto"],[1,"max-w-md","mx-auto","text-center"],[1,"font-heading","mb-3","text-2xl","font-semibold"],[1,"mb-7","text-neutral-500"],[1,"inline-flex","px-6","py-2.5","cursor-pointer","text-sm","bg-primary-700","text-neutral-50","font-medium","rounded-lg","transition","duration-300",3,"click"]],template:function(e,n){if(1&e&&(t.j41(0,"div",1),t.DNE(1,j,2,1),t.nI1(2,"async"),t.k0s()),2&e){let r;t.R7$(),t.vxM((r=t.bMT(2,1,n.groupOptions$))?1:-1,r)}},dependencies:[l.MD,l.Jj,l.oe,b.YF,x.DJ,x.sA,C.YN,u.mV,u.sG,p.Cn,p.kk,p.fb,p.Cp,g.m_,g.An],styles:[".example-list[_ngcontent-%COMP%]{width:100%;border:solid 1px #ccc;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:dotted 3px #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}}return s})()},{path:"**",pathMatch:"full",redirectTo:"list"}]}}]);