"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[710],{5710:(T,C,n)=>{n.r(C),n.d(C,{CategoriesModule:()=>ot});var d=n(6814),g=n(1896),t=n(5879);let _=(()=>{class a{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-categories"]],decls:1,vars:0,template:function(i,o){1&i&&t._UZ(0,"router-outlet")},dependencies:[g.lC]})}return a})();var l=n(8337),S=n(3365),s=n(5313),h=n(6567),y=n(1440),Z=n(7700),f=n(2296),F=n(617),U=n(5986),b=n(7988),p=n(3814);function M(a,m){if(1&a){const e=t.EpF();t.TgZ(0,"span",1)(1,"button",18),t._uU(2),t.qZA(),t.TgZ(3,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteSelected())}),t.TgZ(4,"mat-icon",17),t._uU(5,"delete"),t.qZA(),t._uU(6," Delete Selected Categories "),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(2),t.hij("",e.selection.selected.length," Selected")}}function R(a,m){if(1&a){const e=t.EpF();t.TgZ(0,"th",20)(1,"mat-checkbox",21),t.NdJ("change",function(o){t.CHM(e);const r=t.oxw();return t.KtG(o?r.toggleAllRows():null)}),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function J(a,m){if(1&a){const e=t.EpF();t.TgZ(0,"td",22)(1,"mat-checkbox",23),t.NdJ("click",function(o){return o.stopPropagation()})("change",function(o){const u=t.CHM(e).$implicit,A=t.oxw();return t.KtG(o?A.selection.toggle(u):null)}),t.qZA()()}if(2&a){const e=m.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function k(a,m){1&a&&(t.TgZ(0,"th",20),t._uU(1,"Name"),t.qZA())}function Y(a,m){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const e=m.$implicit;t.xp6(1),t.Oqu(e.name)}}function E(a,m){1&a&&(t.TgZ(0,"th",20),t._uU(1,"Status"),t.qZA())}function I(a,m){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&a){const e=m.$implicit;t.xp6(1),t.Oqu(e.status)}}function G(a,m){1&a&&(t.TgZ(0,"th",20),t._uU(1,"Created At"),t.qZA())}function O(a,m){if(1&a&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const e=m.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.createdAt,"short"))}}function Q(a,m){1&a&&(t.TgZ(0,"th",20),t._uU(1,"Actions"),t.qZA())}const B=function(a){return["../",a,"details"]};function V(a,m){if(1&a){const e=t.EpF();t.TgZ(0,"td",22)(1,"button",24)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,25)(6,"button",26),t.NdJ("click",function(){const o=t.CHM(e),r=o.$implicit,u=o.index,A=t.oxw();return t.KtG(A.deleteCategories(r._id,u))}),t.TgZ(7,"mat-icon",27),t._uU(8,"delete"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Delete"),t.qZA()(),t.TgZ(11,"button",28)(12,"mat-icon",27),t._uU(13,"edit"),t.qZA(),t.TgZ(14,"span"),t._uU(15,"Edit"),t.qZA()()()()}if(2&a){const e=m.$implicit,i=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(10),t.Q6J("routerLink",t.VKq(2,B,e._id))}}function $(a,m){1&a&&t._UZ(0,"tr",29)}function q(a,m){1&a&&t._UZ(0,"tr",30)}const z=function(){return[15,30,60]},K=function(){return["../","new"]};let W=(()=>{class a{constructor(e,i,o){this.route=e,this.categoriesService=i,this._matDialog=o,this.displayedColumns=["select","name","status","createdAt","actions"],this.dataSource=new s.by([]),this.selection=new l.Ov(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new s.by(this.route.snapshot.data.categories)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(h.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete categories?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these categories?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this.selection.selected.forEach((i,o)=>{this.dataSource.data.splice(o,1),this.dataSource=new s.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.categoriesService.deleteCategory(i._id).subscribe()})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteCategories(e,i){this.confirmDialogRef=this._matDialog.open(h.X,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Categories?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this categories?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(o=>{o&&(this.dataSource.data.splice(i,1),this.dataSource=new s.by(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.categoriesService.deleteCategory(e).subscribe())})}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(g.gz),t.Y36(y.G),t.Y36(Z.uw))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-list-categories"]],viewQuery:function(i,o){if(1&i&&t.Gf(S.NW,5),2&i){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first)}},decls:30,vars:8,consts:[["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","status"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["fxLayout","row","fxLayoutAlign","end center",1,"m-5"],["mat-fab","","color","primary",1,"m-10",3,"routerLink"],[1,"mat-18"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-menu-item","",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(i,o){1&i&&(t.TgZ(0,"div")(1,"div",0)(2,"span",1)(3,"span"),t._uU(4,"Category"),t.qZA()(),t.YNc(5,M,7,1,"span",2),t.qZA(),t.TgZ(6,"div",3)(7,"table",4),t.ynx(8,5),t.YNc(9,R,2,3,"th",6),t.YNc(10,J,2,2,"td",7),t.BQk(),t.ynx(11,8),t.YNc(12,k,2,0,"th",6),t.YNc(13,Y,2,1,"td",7),t.BQk(),t.ynx(14,9),t.YNc(15,E,2,0,"th",6),t.YNc(16,I,2,1,"td",7),t.BQk(),t.ynx(17,10),t.YNc(18,G,2,0,"th",6),t.YNc(19,O,3,4,"td",7),t.BQk(),t.ynx(20,11),t.YNc(21,Q,2,0,"th",6),t.YNc(22,V,16,4,"td",7),t.BQk(),t.YNc(23,$,1,0,"tr",12),t.YNc(24,q,1,0,"tr",13),t.qZA(),t._UZ(25,"mat-paginator",14),t.qZA(),t.TgZ(26,"div",15)(27,"button",16)(28,"mat-icon",17),t._uU(29,"add"),t.qZA()()()()),2&i&&(t.xp6(5),t.Q6J("ngIf",o.selection.selected.length),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,z)),t.xp6(2),t.Q6J("routerLink",t.DdM(7,K)))},dependencies:[d.O5,g.rH,f.lW,f.RK,f.cs,F.Hw,S.NW,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,U.oG,b.VK,b.OP,b.p6,p.xw,p.SQ,p.Wh,d.uU]})}return a})();var c=n(6223),D=n(6116),v=n(9157),L=n(2032),w=n(2599),N=n(3064);let H=(()=>{class a{constructor(e,i,o,r){this.fb=e,this.categoryService=i,this.location=o,this.dialog=r,this.categoryForm=this.fb.group({name:["",c.kI.required],status:["",c.kI.required],image:["",c.kI.required]}),this.mediaData={image:null,icon:null}}ngOnInit(){}submit(){this.categoryForm.valid&&this.categoryService.createCategory(this.categoryForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}addMedia(e){this.dialog.open(D.R).afterClosed().subscribe(o=>{o&&(this.categoryForm.patchValue({[e]:o.url}),this.mediaData[e]={[e]:o}[e])})}removeValue(e){this.categoryForm.patchValue({[e]:null}),this.mediaData[e]=null}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(c.qu),t.Y36(y.G),t.Y36(d.Ye),t.Y36(Z.uw))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-create-category"]],decls:15,vars:4,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"isNew","mediaData","removeValue","openMediaBrowser"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Name Of Category","formControlName","name"],["formControlName","status"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(2,"div",2)(3,"app-select-media",3),t.NdJ("removeValue",function(u){return o.removeValue(u)})("openMediaBrowser",function(u){return o.addMedia(u)}),t.qZA(),t.TgZ(4,"mat-form-field",4)(5,"mat-label"),t._uU(6,"Name Of Category"),t.qZA(),t._UZ(7,"input",5),t.qZA(),t.TgZ(8,"mat-slide-toggle",6),t._uU(9,"Enable"),t.qZA(),t.TgZ(10,"div",7)(11,"a",8),t.NdJ("click",function(){return o.back()}),t._uU(12,"CANCEL"),t.qZA(),t.TgZ(13,"button",9),t._uU(14,"SAVE"),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",o.categoryForm),t.xp6(2),t.Q6J("isNew",!1)("mediaData",null==o.mediaData?null:o.mediaData.image),t.xp6(10),t.Q6J("disabled",o.categoryForm.invalid))},dependencies:[f.zs,f.lW,v.KE,v.hX,L.Nt,w.Rr,p.xw,p.SQ,p.Wh,p.yH,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,N.t]})}return a})();var x=n(8952);const X=[{path:"",component:_,children:[{path:"list",component:W,resolve:{categories:x.e}},{path:"new",component:H},{path:":id/details",component:(()=>{class a{constructor(e,i,o,r,u){this.fb=e,this.categoryService=i,this.location=o,this.dialog=r,this.route=u,this.category=this.route.snapshot.data.category,this.mediaData={image:null,icon:null},this.categoryForm=this.fb.group({name:[this.category.name,c.kI.required],status:[this.category.status,c.kI.required],image:[this.category.image,c.kI.required]}),this.mediaData={image:null,icon:null},this.mediaData.image=this.category.image}ngOnInit(){}submit(){this.categoryForm.valid&&this.categoryService.updateCategory(this.category._id,this.categoryForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}addMedia(e){this.dialog.open(D.R).afterClosed().subscribe(o=>{o&&(this.categoryForm.patchValue({[e]:o.url}),this.mediaData[e]={[e]:o}[e])})}removeValue(e){this.categoryForm.patchValue({[e]:null}),this.mediaData[e]=null}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(c.qu),t.Y36(y.G),t.Y36(d.Ye),t.Y36(Z.uw),t.Y36(g.gz))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-categories-details"]],decls:15,vars:4,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["valueName","Image",3,"isNew","mediaData","removeValue","openMediaBrowser"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Name Of Cuisine","formControlName","name"],["formControlName","status"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.submit()}),t.TgZ(2,"div",2)(3,"app-select-media",3),t.NdJ("removeValue",function(u){return o.removeValue(u)})("openMediaBrowser",function(u){return o.addMedia(u)}),t.qZA(),t.TgZ(4,"mat-form-field",4)(5,"mat-label"),t._uU(6,"Name Of Cuisine"),t.qZA(),t._UZ(7,"input",5),t.qZA(),t.TgZ(8,"mat-slide-toggle",6),t._uU(9,"Enable"),t.qZA(),t.TgZ(10,"div",7)(11,"a",8),t.NdJ("click",function(){return o.back()}),t._uU(12,"CANCEL"),t.qZA(),t.TgZ(13,"button",9),t._uU(14,"SAVE"),t.qZA()()()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",o.categoryForm),t.xp6(2),t.Q6J("isNew",!1)("mediaData",null==o.mediaData?null:o.mediaData.image),t.xp6(10),t.Q6J("disabled",o.categoryForm.invalid))},dependencies:[f.zs,f.lW,v.KE,v.hX,L.Nt,w.Rr,p.xw,p.SQ,p.Wh,p.yH,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,N.t]})}return a})(),resolve:{category:x.i}}]}];let j=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(X),g.Bz]})}return a})();var tt=n(1447),et=n(6005),at=n(6208);let ot=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#a=this.\u0275inj=t.cJS({providers:[x.e,x.i,y.G],imports:[d.ez,j,et.q,tt.o9,c.UX,at.m]})}return a})()},8952:(T,C,n)=>{n.d(C,{e:()=>t,i:()=>_});var d=n(5879),g=n(1440);let t=(()=>{class l{constructor(s){this.categoryService=s}resolve(){return this.categoryService.getCategories()}static#t=this.\u0275fac=function(h){return new(h||l)(d.LFG(g.G))};static#e=this.\u0275prov=d.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})(),_=(()=>{class l{constructor(s){this.categoryService=s}resolve(s){const h=s.paramMap.get("id");return this.categoryService.getCategory(h)}static#t=this.\u0275fac=function(h){return new(h||l)(d.LFG(g.G))};static#e=this.\u0275prov=d.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},1440:(T,C,n)=>{n.d(C,{G:()=>_});var d=n(553),g=n(5879),t=n(9862);let _=(()=>{class l{constructor(s){this._httpClient=s,this.hostServer=d.N.hostServer}getCategories(){return this._httpClient.get(`${this.hostServer}/categories`)}getCategory(s){return this._httpClient.get(`${this.hostServer}/categories/${s}`)}deleteCategory(s){return this._httpClient.delete(`${this.hostServer}/categories/${s}`)}updateCategory(s,h){return this._httpClient.put(`${this.hostServer}/categories/${s}`,h)}createCategory(s){return this._httpClient.post(`${this.hostServer}/categories`,s)}static#t=this.\u0275fac=function(h){return new(h||l)(g.LFG(t.eN))};static#e=this.\u0275prov=g.Yz7({token:l,factory:l.\u0275fac})}return l})()}}]);