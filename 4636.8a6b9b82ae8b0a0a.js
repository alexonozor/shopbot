"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[4636],{4636:(rt,F,r)=>{r.r(F),r.d(F,{WithdrawalsModule:()=>it});var c=r(177),m=r(8498),t=r(4020);let v=(()=>{class e{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-withdrawals"]],decls:1,vars:0,template:function(a,i){1&a&&t.nrm(0,"router-outlet")},dependencies:[m.iI,m.n3],encapsulation:2})}}return e})();var g=r(6440),o=r(9159),x=r(5024),b=r(1269),_=r(2765),f=r(8834),y=r(2798),h=r(9213),d=r(9115),T=r(5312),D=r(1626);let u=(()=>{class e{constructor(n){this._httpClient=n,this.hostServer=T.c.hostServer}createTransfer(n){return this._httpClient.post(`${this.hostServer}/transfers`,n)}getTransfers(){return this._httpClient.get(`${this.hostServer}/transfers`)}getTransfer(n){return this._httpClient.get(`${this.hostServer}/transfers/${n}`)}updateTransfer(n,a){return this._httpClient.put(`${this.hostServer}/transfers/${n}`,a)}deleteTransfer(n){return this._httpClient.delete(`${this.hostServer}/transfers/${n}`)}static{this.\u0275fac=function(a){return new(a||e)(t.KVO(D.Qq))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac})}}return e})();var E=r(5351);const R=()=>[15,30,60];function I(e,s){if(1&e){const n=t.RV6();t.j41(0,"span",3)(1,"button",22),t.EFF(2),t.k0s(),t.j41(3,"button",23),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.deleteSelected())}),t.j41(4,"mat-icon",24),t.EFF(5,"delete"),t.k0s(),t.EFF(6," Delete Selected Fund Request"),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(2),t.SpI("",n.selection.selected.length," Selected")}}function $(e,s){if(1&e){const n=t.RV6();t.j41(0,"th",25)(1,"mat-checkbox",26),t.bIt("change",function(i){t.eBV(n);const l=t.XpG();return t.Njj(i?l.toggleAllRows():null)}),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())("aria-label",n.checkboxLabel())}}function L(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",27)(1,"mat-checkbox",28),t.bIt("click",function(i){return t.eBV(n),t.Njj(i.stopPropagation())})("change",function(i){const l=t.eBV(n).$implicit,p=t.XpG();return t.Njj(i?p.selection.toggle(l):null)}),t.k0s()()}if(2&e){const n=s.$implicit,a=t.XpG();t.R7$(),t.Y8G("checked",a.selection.isSelected(n))("aria-label",a.checkboxLabel(n))}}function W(e,s){1&e&&(t.j41(0,"th",25),t.EFF(1,"Created At"),t.k0s())}function V(e,s){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(t.i5U(2,1,n.createdAt,"medium"))}}function N(e,s){1&e&&(t.j41(0,"th",25),t.EFF(1,"Vendor"),t.k0s())}function A(e,s){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(n.meta.store.name)}}function G(e,s){1&e&&(t.j41(0,"th",25),t.EFF(1,"Destination"),t.k0s())}function M(e,s){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(((null==n?null:n.account_number)||(null==n?null:n.meta.bank.accountNumber))+"-"+((null==n?null:n.bank_name)||(null==n||null==n.meta||null==n.meta.bank?null:n.meta.bank.accountName)))}}function X(e,s){1&e&&(t.j41(0,"th",25),t.EFF(1,"Transfer Type"),t.k0s())}function B(e,s){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,n.meta.transactionType),"")}}function Y(e,s){1&e&&(t.j41(0,"th",25),t.EFF(1,"Merchant"),t.k0s())}function U(e,s){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.JRh(null==n||null==n.meta||null==n.meta.customer?null:n.meta.customer.name)}}function O(e,s){1&e&&(t.j41(0,"th",25),t.EFF(1,"Status"),t.k0s())}function H(e,s){1&e&&t.nrm(0,"td",27)}function z(e,s){1&e&&(t.j41(0,"th",25),t.EFF(1,"Total"),t.k0s())}function J(e,s){if(1&e&&(t.j41(0,"td",27),t.EFF(1),t.nI1(2,"currency"),t.k0s()),2&e){const n=s.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,n.amount,n.currency),"")}}function K(e,s){1&e&&(t.j41(0,"th",25),t.EFF(1,"Actions"),t.k0s())}function P(e,s){if(1&e){const n=t.RV6();t.j41(0,"td",27)(1,"button",29),t.bIt("click",function(i){return t.eBV(n),t.Njj(i.stopPropagation())}),t.j41(2,"mat-icon"),t.EFF(3,"more_vert"),t.k0s()(),t.j41(4,"mat-menu",null,0)(6,"button",30),t.bIt("click",function(){const i=t.eBV(n),l=i.$implicit,p=i.index,st=t.XpG();return t.Njj(st.deleteTransfer(l._id,p))}),t.j41(7,"mat-icon",31),t.EFF(8,"delete"),t.k0s(),t.j41(9,"span"),t.EFF(10,"Delete"),t.k0s()()()()}if(2&e){const n=t.sdS(5);t.R7$(),t.Y8G("matMenuTriggerFor",n)}}function Q(e,s){1&e&&t.nrm(0,"tr",32)}function Z(e,s){if(1&e){const n=t.RV6();t.j41(0,"tr",33),t.bIt("click",function(){const i=t.eBV(n).$implicit,l=t.XpG();return t.Njj(l.openModal(i.id))}),t.k0s()}}let k=(()=>{class e{constructor(n,a,i,l){this.route=n,this.transfersService=a,this._matDialog=i,this.router=l,this.displayedColumns=["select","createdAt","vendor","destination","type","merchant","status","total","actions"],this.dataSource=new o.I6([]),this.selection=new x.CB(!0,[])}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.dataSource=new o.I6(this.route.snapshot.data.transfers)}openModal(n){this.router.navigate(["dashboard","reports","withdrawals",n,"details"])}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(b.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Transfer?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these Transfer?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(n=>{n&&this.selection.selected.forEach((a,i)=>{this.dataSource.data.splice(i,1),this.dataSource=new o.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.transfersService.deleteTransfer(a._id).subscribe()})})}checkboxLabel(n){return n?`${this.selection.isSelected(n)?"deselect":"select"} row ${n.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteTransfer(n,a){this.confirmDialogRef=this._matDialog.open(b.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Transfers?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this Transfers?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(i=>{i&&(this.dataSource.data.splice(a,1),this.dataSource=new o.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.transfersService.deleteTransfer(n).subscribe())})}update(n,a){this.transfersService.updateTransfer(n,{enabled:a.checked}).subscribe(i=>{})}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(m.nX),t.rXU(u),t.rXU(E.bZ),t.rXU(m.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-withdrawals-list"]],viewQuery:function(a,i){if(1&a&&t.GBs(g.iy,5),2&a){let l;t.mGM(l=t.lsd())&&(i.paginator=l.first)}},decls:38,vars:6,consts:[["menu","matMenu"],[1,"h-screen","w-full"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start center",1,"card","bg-white","w-full","mat-elevation-z2","px-2","py-2"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"text-lg","font-thin"],[1,"text-2xl"],["class","text-lg font-thin","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdAt"],["matColumnDef","vendor"],["matColumnDef","destination"],["matColumnDef","type"],["matColumnDef","merchant"],["matColumnDef","status"],["matColumnDef","total"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cursor-pointer",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-button",""],["mat-stroked-button","","color","warn",3,"click"],[1,"mat-18"],["mat-header-cell",""],[3,"change","checked","indeterminate","aria-label"],["mat-cell",""],[3,"click","change","checked","aria-label"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined"],["mat-header-row",""],["mat-row","",1,"cursor-pointer",3,"click"]],template:function(a,i){1&a&&(t.j41(0,"div",1)(1,"div",2)(2,"span",3)(3,"span",4),t.EFF(4,"Withdrawal Transfers"),t.k0s()(),t.DNE(5,I,7,1,"span",5),t.k0s(),t.j41(6,"div",6)(7,"table",7),t.qex(8,8),t.DNE(9,$,2,3,"th",9)(10,L,2,2,"td",10),t.bVm(),t.qex(11,11),t.DNE(12,W,2,0,"th",9)(13,V,3,4,"td",10),t.bVm(),t.qex(14,12),t.DNE(15,N,2,0,"th",9)(16,A,2,1,"td",10),t.bVm(),t.qex(17,13),t.DNE(18,G,2,0,"th",9)(19,M,2,1,"td",10),t.bVm(),t.qex(20,14),t.DNE(21,X,2,0,"th",9)(22,B,3,3,"td",10),t.bVm(),t.qex(23,15),t.DNE(24,Y,2,0,"th",9)(25,U,2,1,"td",10),t.bVm(),t.qex(26,16),t.DNE(27,O,2,0,"th",9)(28,H,1,0,"td",10),t.bVm(),t.qex(29,17),t.DNE(30,z,2,0,"th",9)(31,J,3,4,"td",10),t.bVm(),t.qex(32,18),t.DNE(33,K,2,0,"th",9)(34,P,11,1,"td",10),t.bVm(),t.DNE(35,Q,1,0,"tr",19)(36,Z,1,0,"tr",20),t.k0s(),t.nrm(37,"mat-paginator",21),t.k0s()()),2&a&&(t.R7$(5),t.Y8G("ngIf",i.selection.selected.length),t.R7$(2),t.Y8G("dataSource",i.dataSource),t.R7$(28),t.Y8G("matHeaderRowDef",i.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",i.displayedColumns),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(5,R)))},dependencies:[c.MD,c.bT,c.PV,c.oe,c.vh,o.tP,o.Zl,o.tL,o.ji,o.cC,o.YV,o.iL,o.KS,o.$R,o.YZ,o.NB,_.g7,_.So,f.Hl,f.$z,f.iY,y.Ve,g.iy,m.iI,h.m_,h.An,d.Cn,d.kk,d.fb,d.Cp],encapsulation:2})}}return e})(),w=(()=>{class e{constructor(n){this.transfersService=n}resolve(){return this.transfersService.getTransfers()}static{this.\u0275fac=function(a){return new(a||e)(t.KVO(u))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),C=(()=>{class e{constructor(n){this.transferService=n}resolve(n){const a=n.paramMap.get("id");return this.transferService.getTransfer(a)}static{this.\u0275fac=function(a){return new(a||e)(t.KVO(u))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const q=(e,s)=>({"text-red-800":e,"text-green-900":s});function tt(e,s){if(1&e&&(t.j41(0,"div",16),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.SpI(" ",n.transfer.complete_message," ")}}let S=(()=>{class e{constructor(n,a,i){this.route=n,this.transfersService=a,this.router=i,this.transfer=this.route.snapshot.data.transfer}ngOnInit(){}closeModal(){this.router.navigate(["dashboard","reports","withdrawals","list"])}goToOrder(n){this.router.navigate(["dashboard","orders",n,"details"])}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(m.nX),t.rXU(u),t.rXU(m.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-payouts-details"]],decls:80,vars:20,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","40rem"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mb-3"],[1,"text-slate-500"],["mat-icon-button","",3,"click"],["class","p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50","role","alert",4,"ngIf"],[1,"divide-y","w-full","divide-gray-200"],[1,"pb-3","sm:pb-4"],[1,"flex","items-center","space-x-4"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"inline-flex","items-center","text-base","font-semibold","text-gray-900"],[1,"py-3","sm:py-4"],[1,"inline-flex","items-center","text-base","text-gray-900","font-semibol",3,"ngClass"],[1,"divide-y","w-full","divide-gray-100"],[1,"py-3","sm:py-4","cursor-pointer"],[1,"text-sm","font-medium","text-right","text-gray-900","truncate"],["role","alert",1,"p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3,"Settlement information"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return i.closeModal()}),t.j41(5,"mat-icon"),t.EFF(6,"close"),t.k0s()()(),t.DNE(7,tt,2,1,"div",4),t.j41(8,"ul",5)(9,"li",6)(10,"div",7)(11,"div",8)(12,"p",9),t.EFF(13," Transfer reference "),t.k0s()(),t.j41(14,"div",10),t.EFF(15),t.k0s()()(),t.j41(16,"li",11)(17,"div",7)(18,"div",8)(19,"p",9),t.EFF(20," Store / Vendor "),t.k0s()(),t.j41(21,"div",10),t.EFF(22),t.k0s()()(),t.j41(23,"li",11)(24,"div",7)(25,"div",8)(26,"p",9),t.EFF(27," Date of transfer "),t.k0s()(),t.j41(28,"div",10),t.EFF(29),t.nI1(30,"date"),t.k0s()()(),t.j41(31,"li",11)(32,"div",7)(33,"div",8)(34,"p",9),t.EFF(35," Status "),t.k0s()(),t.j41(36,"div",12),t.EFF(37),t.k0s()()(),t.j41(38,"li",11)(39,"div",7)(40,"div",8)(41,"p",9),t.EFF(42," Narration "),t.k0s()(),t.j41(43,"div",10),t.EFF(44),t.k0s()()(),t.j41(45,"li",11)(46,"div",7)(47,"div",8)(48,"p",9),t.EFF(49," Amount "),t.k0s()(),t.j41(50,"div",10),t.EFF(51),t.nI1(52,"currency"),t.k0s()()()(),t.j41(53,"h3",2),t.EFF(54,"Beneficiary details"),t.k0s(),t.j41(55,"ul",13)(56,"li",14)(57,"div",7)(58,"div",8)(59,"p",9),t.EFF(60," Account Name "),t.k0s()(),t.j41(61,"div",8)(62,"p",15),t.EFF(63),t.k0s()()()(),t.j41(64,"li",14)(65,"div",7)(66,"div",8)(67,"p",9),t.EFF(68," Bank Name "),t.k0s()(),t.j41(69,"div",8)(70,"p",15),t.EFF(71),t.k0s()()()(),t.j41(72,"li",14)(73,"div",7)(74,"div",8)(75,"p",9),t.EFF(76," Account Number "),t.k0s()(),t.j41(77,"div",8)(78,"p",15),t.EFF(79),t.k0s()()()()()()),2&a&&(t.R7$(7),t.Y8G("ngIf",i.transfer.complete_message),t.R7$(8),t.SpI(" ",i.transfer.reference," "),t.R7$(7),t.SpI(" ",i.transfer.meta.store.name," "),t.R7$(7),t.SpI(" ",t.i5U(30,11,i.transfer.createdAt,"medium")," "),t.R7$(7),t.Y8G("ngClass",t.l_i(17,q,"FAILED"===i.transfer.status,"SUCCESSFUL"===i.transfer.status)),t.R7$(),t.SpI(" ",i.transfer.status," "),t.R7$(7),t.SpI(" ",i.transfer.narration," "),t.R7$(7),t.SpI(" ",t.i5U(52,14,i.transfer.amount,i.transfer.currency)," "),t.R7$(12),t.SpI(" ",i.transfer.fullname||i.transfer.meta.bank.accountName," "),t.R7$(8),t.SpI(" ",i.transfer.bank_name||i.transfer.meta.bank.bankName," "),t.R7$(8),t.SpI(" ",i.transfer.account_number||i.transfer.meta.bank.accountNumber," "))},dependencies:[d.Cn,h.m_,h.An,c.MD,c.YU,c.bT,c.oe,c.vh],encapsulation:2})}}return e})();const et=[{path:"",component:v,children:[{path:"list",component:k,resolve:{transfers:w}},{path:":id/details",component:S,resolve:{transfer:C}}]}];let nt=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[m.iI.forChild(et),m.iI]})}}return e})();var at=r(6924),j=r(9417);let it=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({providers:[u,w,C],imports:[c.MD,nt,at.YF,j.X1,j.YN,v,k,S]})}}return e})()}}]);