"use strict";(self.webpackChunkshopbot=self.webpackChunkshopbot||[]).push([[177],{2558:(H,v,r)=>{r.r(v),r.d(v,{MERCHANTS_ROUTING:()=>J});var s=r(177),l=r(8498),t=r(4020);let y=(()=>{class o{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-merchants"]],decls:1,vars:0,template:function(a,i){1&a&&t.nrm(0,"router-outlet")},dependencies:[s.MD,l.iI,l.n3],encapsulation:2})}}return o})();var N=r(5024),C=r(6440),f=r(9159),E=r(1269),b=r(6924),x=r(2765),M=r(6471),S=r(9213),d=r(9115),c=r(8834),k=r(6074),I=r(5351);const D=()=>["../","new"],G=o=>["../",o,"details"];function $(o,h){if(1&o){const e=t.RV6();t.j41(0,"tr",10)(1,"th",11)(2,"div",12)(3,"div",13),t.EFF(4),t.k0s(),t.j41(5,"div",14),t.EFF(6),t.k0s()()(),t.j41(7,"td",15),t.EFF(8),t.k0s(),t.j41(9,"td",15)(10,"button",16)(11,"mat-icon"),t.EFF(12,"more_vert"),t.k0s()(),t.j41(13,"mat-menu",17,0),t.bIt("click",function(i){return t.eBV(e),t.Njj(i.stopPropagation())}),t.j41(15,"button",18),t.bIt("click",function(i){const m=t.eBV(e),B=m.$implicit,P=m.index;return t.XpG().deleteMerchant(B._id,P),t.Njj(i.stopPropagation())}),t.j41(16,"mat-icon"),t.EFF(17,"delete"),t.k0s(),t.EFF(18," Delete"),t.k0s(),t.j41(19,"button",19)(20,"mat-icon"),t.EFF(21,"edit"),t.k0s(),t.EFF(22," Edit "),t.k0s()()()()}if(2&o){const e=h.$implicit,a=t.sdS(14);t.R7$(4),t.JRh(e.name),t.R7$(2),t.JRh(e.phoneNumber),t.R7$(2),t.SpI(" ",e.email," "),t.R7$(2),t.Y8G("matMenuTriggerFor",a),t.R7$(9),t.Y8G("routerLink",t.eq3(5,G,e._id))}}let L=(()=>{class o{constructor(e,a,i){this.route=e,this.merchantService=a,this._matDialog=i,this.displayedColumns=["select","Name","phoneNumber","email","phoneNumber","createdAt","actions"],this.dataSource=new f.I6([]),this.selection=new N.CB(!0,[]),this.merchants=this.route.snapshot.data.merchants}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}deleteSelected(){this.confirmDialogRef=this._matDialog.open(E.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete merchants?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete these merchants?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(e=>{e&&this.selection.selected.forEach((a,i)=>{this.dataSource.data.splice(i,1),this.dataSource=new f.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.merchantService.deleteMerchant(a._id).subscribe()})})}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}deleteMerchant(e,a){this.confirmDialogRef=this._matDialog.open(E.Y,{disableClose:!1}),this.confirmDialogRef.componentInstance.title="Delete Merchant?",this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete this merchant?",this.confirmDialogRef.componentInstance.confirmButton="Delete",this.confirmDialogRef.afterClosed().subscribe(i=>{i&&(this.dataSource.data.splice(a,1),this.dataSource=new f.I6(this.dataSource.data),this.dataSource._updateChangeSubscription(),this.dataSource.paginator=this.paginator,this.merchantService.deleteMerchant(e).subscribe())})}message(e){}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(l.nX),t.rXU(k.b),t.rXU(I.bZ))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-list-merchant"]],viewQuery:function(a,i){if(1&a&&t.GBs(C.iy,5),2&a){let m;t.mGM(m=t.lsd())&&(i.paginator=m.first)}},decls:18,vars:3,consts:[["menu","matMenu"],[1,"h-screen","w-full"],["mat-subheader",""],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50"],["scope","col",1,"px-6","py-3"],["class","bg-white border-b ",4,"ngFor","ngForOf"],["mat-fab","","color","primary",2,"position","fixed","bottom","80px","right","15px",3,"routerLink"],[1,"mat-18"],[1,"bg-white","border-b"],["scope","row",1,"flex","items-center","px-6","py-4","text-gray-900","whitespace-nowrap"],[1,"pl-3"],[1,"text-base","font-semibold"],[1,"font-normal","text-gray-500"],[1,"px-6","py-4"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"click"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"]],template:function(a,i){1&a&&(t.j41(0,"div",1)(1,"div",2),t.EFF(2,"Merchants"),t.k0s(),t.j41(3,"div",3)(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),t.EFF(8," Name "),t.k0s(),t.j41(9,"th",6),t.EFF(10," Email "),t.k0s(),t.j41(11,"th",6),t.EFF(12," Action "),t.k0s()()(),t.j41(13,"tbody"),t.DNE(14,$,23,7,"tr",7),t.k0s()()(),t.j41(15,"button",8)(16,"mat-icon",9),t.EFF(17,"add"),t.k0s()()()),2&a&&(t.R7$(14),t.Y8G("ngForOf",i.merchants),t.R7$(),t.Y8G("routerLink",t.lJ4(2,D)))},dependencies:[s.MD,s.Sq,S.m_,S.An,f.tP,x.g7,M.YN,d.Cn,d.kk,d.fb,d.Cp,l.iI,l.Wk,C.Ou,b.YF,c.Hl,c.iY,c.Sr],encapsulation:2})}}return o})();var n=r(9417),p=r(636),F=r(2798),g=r(9631),R=r(3),u=r(2920);const T=()=>["Male","Female"];function Y(o,h){if(1&o&&(t.j41(0,"mat-option",15),t.EFF(1),t.k0s()),2&o){const e=h.$implicit;t.Y8G("value",e),t.R7$(),t.JRh(e)}}function A(o,h){if(1&o&&(t.j41(0,"mat-option",15),t.EFF(1),t.k0s()),2&o){const e=h.$implicit;t.Y8G("value",e.name),t.R7$(),t.JRh(e.name)}}let O=(()=>{class o{constructor(e,a,i,m){this.fb=e,this.merchantService=a,this.location=i,this.route=m,this.merchantForm=this.fb.group({name:["",n.k0.required],phoneNumber:["",n.k0.required],gender:["",n.k0.required],email:["",n.k0.email],pin:["",[n.k0.maxLength(4),n.k0.minLength(4)]],role:["",n.k0.required],password:["",n.k0.required]}),this.roles=[{name:"Admin"},{name:"Cashier"},{name:"Kitchen"},{name:"Waiter"},{name:"Courier"},{name:"Owner"}]}ngOnInit(){}submit(){this.merchantForm.valid&&this.merchantService.createMerchant(this.merchantForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(n.ok),t.rXU(k.b),t.rXU(s.aZ),t.rXU(l.nX))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-create-merchant"]],decls:38,vars:5,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Full Name","formControlName","name"],["matInput","","cancellation","Phone Number","formControlName","phoneNumber"],["matInput","","cancellation","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["formControlName","role"],["matInput","","type","number","maxlength","4","minlength","4","formControlName","pin"],["matInput","","type","password","cancellation","Password","formControlName","password"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return i.submit()}),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t.EFF(5,"Full Name"),t.k0s(),t.nrm(6,"input",4),t.k0s(),t.j41(7,"mat-form-field",3)(8,"mat-label"),t.EFF(9,"Phone Number"),t.k0s(),t.nrm(10,"input",5),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Email"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Gender"),t.k0s(),t.j41(18,"mat-select",7),t.DNE(19,Y,2,2,"mat-option",8),t.k0s()(),t.j41(20,"mat-form-field",3)(21,"mat-label"),t.EFF(22,"Select Roles"),t.k0s(),t.j41(23,"mat-select",9),t.DNE(24,A,2,2,"mat-option",8),t.k0s()(),t.j41(25,"mat-form-field",3)(26,"mat-label"),t.EFF(27,"Pin"),t.k0s(),t.nrm(28,"input",10),t.k0s(),t.j41(29,"mat-form-field",3)(30,"mat-label"),t.EFF(31,"Password"),t.k0s(),t.nrm(32,"input",11),t.k0s(),t.j41(33,"div",12)(34,"a",13),t.bIt("click",function(){return i.back()}),t.EFF(35,"CANCEL"),t.k0s(),t.j41(36,"button",14),t.EFF(37,"SAVE"),t.k0s()()()()()),2&a&&(t.R7$(),t.Y8G("formGroup",i.merchantForm),t.R7$(18),t.Y8G("ngForOf",t.lJ4(4,T)),t.R7$(5),t.Y8G("ngForOf",i.roles),t.R7$(12),t.Y8G("disabled",i.merchantForm.invalid))},dependencies:[n.X1,n.qT,n.me,n.Q0,n.BC,n.cb,n.xh,n.tU,n.j4,n.JD,n.YN,p.RG,p.rl,p.nJ,s.MD,s.Sq,F.Ve,F.VO,R.wT,c.Hl,c.It,c.$z,b.YF,u.DJ,u.BO,u.sA,u.UI,l.iI,g.fS,g.fg],encapsulation:2})}}return o})();var j=r(1379);const U=()=>["Male","Female"];function w(o,h){if(1&o&&(t.j41(0,"mat-option",14),t.EFF(1),t.k0s()),2&o){const e=h.$implicit;t.Y8G("value",e),t.R7$(),t.JRh(e)}}function X(o,h){if(1&o&&(t.j41(0,"mat-option",14),t.EFF(1),t.k0s()),2&o){const e=h.$implicit;t.Y8G("value",e.name),t.R7$(),t.JRh(e.name)}}const J=[{path:"",component:y,children:[{path:"list",component:L,resolve:{merchants:j.W}},{path:"new",component:O},{path:":id/details",component:(()=>{class o{constructor(e,a,i,m){this.fb=e,this.merchantService=a,this.location=i,this.route=m,this.roles=[{name:"Admin"},{name:"Cashier"},{name:"Kitchen"},{name:"Waiter"},{name:"Courier"},{name:"Owner"}],this.merchant=this.route.snapshot.data.merchant,this.merchantForm=this.fb.group({name:[this.merchant.name,n.k0.required],phoneNumber:[this.merchant.phoneNumber,n.k0.required],gender:[this.merchant.gender,n.k0.required],pin:[this.merchant.pin,[n.k0.maxLength(4),n.k0.minLength(4)]],role:[this.merchant.role,n.k0.required],email:[this.merchant.email,n.k0.email]})}ngOnInit(){}submit(){this.merchantForm.valid&&this.merchantService.updateMerchant(this.merchant._id,this.merchantForm.getRawValue()).subscribe(e=>{this.location.back()})}back(){this.location.back()}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(n.ok),t.rXU(k.b),t.rXU(s.aZ),t.rXU(l.nX))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-merchant-details"]],decls:34,vars:5,consts:[[1,"mat-elevation-z8","container","mx-auto","my-10","p-5",2,"width","50rem"],[3,"ngSubmit","formGroup"],["fxLayout","column","fxLayoutAlign","space-evenly stretch"],["appearance","fill",1,"full-width"],["matInput","","cancellation","Full Name","formControlName","name"],["matInput","","cancellation","Phone Number","formControlName","phoneNumber"],["matInput","","cancellation","Email","formControlName","email"],["formControlName","gender"],[3,"value",4,"ngFor","ngForOf"],["formControlName","role"],["matInput","","type","number","maxlength","4","minlength","4","formControlName","pin"],["fxLayout","row","fxLayoutAlign","space-around center","fxLayoutGap","10px"],["mat-raised-button","","fxFlex","50%",3,"click"],["mat-raised-button","","fxFlex","50%","color","primary",3,"disabled"],[3,"value"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"form",1),t.bIt("ngSubmit",function(){return i.submit()}),t.j41(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t.EFF(5,"Full Name"),t.k0s(),t.nrm(6,"input",4),t.k0s(),t.j41(7,"mat-form-field",3)(8,"mat-label"),t.EFF(9,"Phone Number"),t.k0s(),t.nrm(10,"input",5),t.k0s(),t.j41(11,"mat-form-field",3)(12,"mat-label"),t.EFF(13,"Email"),t.k0s(),t.nrm(14,"input",6),t.k0s(),t.j41(15,"mat-form-field",3)(16,"mat-label"),t.EFF(17,"Gender"),t.k0s(),t.j41(18,"mat-select",7),t.DNE(19,w,2,2,"mat-option",8),t.k0s()(),t.j41(20,"mat-form-field",3)(21,"mat-label"),t.EFF(22,"Select Roles"),t.k0s(),t.j41(23,"mat-select",9),t.DNE(24,X,2,2,"mat-option",8),t.k0s()(),t.j41(25,"mat-form-field",3)(26,"mat-label"),t.EFF(27,"Pin"),t.k0s(),t.nrm(28,"input",10),t.k0s(),t.j41(29,"div",11)(30,"a",12),t.bIt("click",function(){return i.back()}),t.EFF(31,"CANCEL"),t.k0s(),t.j41(32,"button",13),t.EFF(33,"SAVE"),t.k0s()()()()()),2&a&&(t.R7$(),t.Y8G("formGroup",i.merchantForm),t.R7$(18),t.Y8G("ngForOf",t.lJ4(4,U)),t.R7$(5),t.Y8G("ngForOf",i.roles),t.R7$(8),t.Y8G("disabled",i.merchantForm.invalid))},dependencies:[n.X1,n.qT,n.me,n.Q0,n.BC,n.cb,n.xh,n.tU,n.j4,n.JD,n.YN,p.RG,p.rl,p.nJ,s.MD,s.Sq,F.Ve,F.VO,R.wT,c.Hl,c.It,c.$z,b.YF,u.DJ,u.BO,u.sA,u.UI,l.iI,g.fS,g.fg],encapsulation:2})}}return o})(),resolve:{merchant:j.r}}]}]}}]);